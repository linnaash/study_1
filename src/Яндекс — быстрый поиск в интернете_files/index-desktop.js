(()=>{var __webpack_modules__={3516:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,'.divkit-b5eca{height:0;left:0;pointer-events:none;position:absolute;top:0;visibility:hidden;width:0}.divkit-d1ad0{word-wrap:break-word;display:grid;font-size:10px;grid-template-columns:100%;grid-template-rows:100%;line-height:1.25;overflow:hidden;position:relative;word-break:break-word}@supports (overflow:clip){.divkit-d1ad0{overflow:clip}}.divkit-e0fd3,.divkit-ffa3a{cursor:pointer}.divkit-fa556{-webkit-user-select:none;-moz-user-select:none;user-select:none}.divkit-c9211 .divkit-e0fd3{transition:opacity .15s ease-out}.divkit-c9211 .divkit-e0fd3:hover{opacity:.7}.divkit-c9211 .divkit-e0fd3:active{opacity:.5}.divkit-d1ad0:not(.divkit-c9211) .divkit-ff685{display:none}.divkit-ad27d{overscroll-behavior:contain}.divkit-d8d15{-webkit-touch-callout:none}.divkit-b4897{color:inherit;white-space:pre-wrap}.divkit-b9de8{white-space:nowrap}.divkit-dfdba{display:inline-block}.divkit-c3dfb{text-decoration:underline line-through}.divkit-ca906{text-decoration:underline}.divkit-a8dd7{text-decoration:line-through}.divkit-cbf85{text-decoration:none}.divkit-d04cf{display:flex}.divkit-d1271{justify-content:flex-start;text-align:start}.divkit-c1cbb{justify-content:center;text-align:center}.divkit-adcd7{justify-content:flex-end;text-align:end}.divkit-d3b9b{align-items:flex-start}.divkit-fe406{align-items:center}.divkit-d88f8{align-items:flex-end}.divkit-d1c42{align-items:baseline}.divkit-f93dd{max-height:100%;min-height:0;min-width:0}.divkit-d16d9 .divkit-f93dd,.divkit-e0d91 .divkit-f93dd{overflow:hidden}@supports (overflow:clip){.divkit-d16d9 .divkit-f93dd,.divkit-e0d91 .divkit-f93dd{overflow:clip}}.divkit-e0d91 .divkit-f93dd{text-overflow:ellipsis;white-space:nowrap}.divkit-a4e1f .divkit-e0d91 .divkit-f93dd{text-overflow:clip}.divkit-d16d9 .divkit-f93dd{-webkit-box-orient:vertical;display:-webkit-box}.divkit-e92e9{-webkit-background-clip:text;background-clip:text;color:transparent}.divkit-e499e{display:inline-block;vertical-align:middle}.divkit-f7786{display:none}.divkit-ec6a1:focus-visible .divkit-f93dd .divkit-b4897,:focus-visible .divkit-ec6a1 .divkit-f93dd .divkit-b4897{color:var(--divkit-text-focus-color)!important}.divkit-febd5{box-sizing:border-box;flex-shrink:0;min-height:0;min-width:0;overflow:hidden;position:relative;text-decoration:none;z-index:0}@supports (overflow:clip){.divkit-febd5{overflow:clip}}.divkit-febd5{color:inherit}.divkit-ab97f{visibility:hidden}.divkit-e310b{justify-self:start}.divkit-b8989{justify-self:center}.divkit-e3daf{justify-self:end}.divkit-dc597{justify-self:stretch}.divkit-ea5fb{align-self:start}.divkit-ad8d2{align-self:center}.divkit-f7541{align-self:end}.divkit-e075a{align-self:stretch}.divkit-bb3dc.divkit-e310b{align-self:flex-start}.divkit-bb3dc.divkit-b8989{align-self:center}.divkit-bb3dc.divkit-e3daf{align-self:flex-end}.divkit-bb3dc.divkit-dc597{align-self:stretch}.divkit-b5712.divkit-ea5fb{align-self:flex-start}.divkit-b5712.divkit-ad8d2{align-self:center}.divkit-b5712.divkit-f7541{align-self:flex-end}.divkit-b5712.divkit-e075a{align-self:stretch}.divkit-b5712.divkit-e5919{align-self:baseline}.divkit-cb510{width:max-content}.divkit-c3a30{height:max-content}.divkit-ef2dd{max-width:100%}.divkit-ef2dd.divkit-b2fa8{width:auto}.divkit-bc814{max-height:100%}.divkit-bc814.divkit-b2fa8{height:auto}.divkit-ad574{grid-area:1/1/2/2}.divkit-ec1ca{bottom:0;left:0;position:absolute;right:0;top:0}.divkit-dfd51{scroll-snap-align:center}.divkit-eb77b{scroll-snap-align:start}.divkit-df618{box-sizing:border-box;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.divkit-e51f0{visibility:hidden}.divkit-a9de6{display:none!important}.divkit-bd06f{-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:var(--divkit-animation-opacity-start,1);transform:scale(var(--divkit-animation-scale-start,1))}.divkit-bd06f:active{opacity:var(--divkit-animation-opacity-end,1);transform:scale(var(--divkit-animation-scale-end,1))}.divkit-db524:focus,.divkit-db524:focus-visible{outline:none}.divkit-ece69{height:100%;left:0;position:absolute;top:0;width:100%;z-index:-1}.divkit-f5b85{overflow:hidden}@supports (overflow:clip){.divkit-f5b85{overflow:clip}}.divkit-b763f{background-repeat:no-repeat;height:100%;left:0;position:absolute;top:0;width:100%}.divkit-debc3{display:none}.divkit-a9eff{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.divkit-cf175{align-items:center;display:flex;justify-content:center;position:absolute}.divkit-c9986{max-height:100%;max-width:100%}.divkit-b0274{display:flex}.divkit-a2585{align-content:flex-start;flex-wrap:wrap}.divkit-ba401{overflow:visible}.divkit-e569d{flex-direction:column}.divkit-e569d.divkit-a99d6{justify-content:flex-start}.divkit-e569d.divkit-d784f{justify-content:center}.divkit-e569d.divkit-d033c{justify-content:flex-end}.divkit-e569d.divkit-e094e{justify-content:space-between}.divkit-e569d.divkit-a71d9{justify-content:space-around}.divkit-e569d.divkit-c82a7{justify-content:space-evenly}.divkit-a2585.divkit-e569d.divkit-cd820{align-content:flex-start}.divkit-a2585.divkit-e569d.divkit-d4db9{align-content:center}.divkit-a2585.divkit-e569d.divkit-f7715{align-content:flex-end}.divkit-a2585.divkit-e569d.divkit-b36c2{align-content:space-between}.divkit-a2585.divkit-e569d.divkit-a5b18{align-content:space-around}.divkit-a2585.divkit-e569d.divkit-e8052{align-content:space-evenly}.divkit-d29da.divkit-cd820{justify-content:flex-start}.divkit-d29da.divkit-d4db9{justify-content:center}.divkit-d29da.divkit-f7715{justify-content:flex-end}.divkit-d29da.divkit-b36c2{justify-content:space-between}.divkit-d29da.divkit-a5b18{justify-content:space-around}.divkit-d29da.divkit-e8052{justify-content:space-evenly}.divkit-a2585.divkit-d29da.divkit-a99d6{align-content:flex-start}.divkit-a2585.divkit-d29da.divkit-d784f{align-content:center}.divkit-a2585.divkit-d29da.divkit-d033c{align-content:flex-end}.divkit-a2585.divkit-d29da.divkit-e094e{align-content:space-between}.divkit-a2585.divkit-d29da.divkit-a71d9{align-content:space-around}.divkit-a2585.divkit-d29da.divkit-c82a7{align-content:space-evenly}.divkit-e3078{display:grid;grid-template-columns:100%;grid-template-rows:100%}.divkit-ab686{align-items:center;display:flex;justify-content:center}.divkit-f467e{min-height:.1em}.divkit-bc7ad{min-width:.1em}.divkit-f101c{display:block}.divkit-dd314{min-height:0;min-width:0}.divkit-c3744{min-width:max-content}.divkit-fb6db{min-height:max-content}.divkit-d4c95{background-position:50% 50%;background-repeat:no-repeat;background-size:cover;display:block;height:100%;width:100%}.divkit-c3744 .divkit-d4c95{width:auto}.divkit-fb6db .divkit-d4c95{height:auto}.divkit-b441d .divkit-d4c95{visibility:hidden}.divkit-c46b3 .divkit-d4c95{transform:scaleX(-1)}.divkit-c7ac5{display:block;position:relative}.divkit-dfe61 .divkit-d4c95{height:100%;left:0;position:absolute;top:0;width:100%}.divkit-a5a8e .divkit-d4c95{animation-delay:var(--divkit-appearance-delay);animation-duration:var(--divkit-appearance-duration);animation-fill-mode:both;animation-iteration-count:1;animation-name:divkit-c3905}.divkit-beb15 .divkit-d4c95{visibility:hidden}.divkit-dd314[data-lottie=true] .divkit-d4c95{display:none}@keyframes divkit-c3905{0%{opacity:var(--divkit-appearance-fade-start)}to{opacity:1}}.divkit-e89ba{display:block}.divkit-c4b6b{height:100%;max-height:inherit;max-width:inherit;width:100%}.divkit-cada8 .divkit-c4b6b{-webkit-overflow-scrolling:touch;scrollbar-width:none}.divkit-cada8 .divkit-c4b6b::-webkit-scrollbar{display:none}.divkit-db3e3>.divkit-c4b6b{overflow-x:auto;overflow-y:hidden}.divkit-b4695>.divkit-c4b6b{overflow-x:hidden;overflow-y:auto}.divkit-a472d>.divkit-c4b6b{scroll-snap-type:mandatory;scroll-snap-type:both mandatory}.divkit-a472d>.divkit-c4b6b>.divkit-a805e{scroll-snap-align:start}.divkit-a805e{box-sizing:border-box;display:flex;height:100%;width:100%}.divkit-db3e3>.divkit-c4b6b>.divkit-a805e{flex-direction:column;min-width:min-content}.divkit-b4695>.divkit-c4b6b>.divkit-a805e{flex-direction:row;min-height:min-content}.divkit-d789e{box-sizing:border-box;display:inline-grid}.divkit-db3e3>.divkit-c4b6b>.divkit-a805e>.divkit-d789e{grid-auto-flow:column;grid-template-rows:100%;height:100%;justify-content:start;min-height:0;min-width:min-content}.divkit-b4695>.divkit-c4b6b>.divkit-a805e>.divkit-d789e{align-content:start;grid-auto-flow:row;grid-template-columns:100%;min-height:min-content;min-width:0;width:100%}.divkit-afe51:before{background:var(--divkit-gallery-arrow-bg,#fff);box-shadow:0 .2em .4em 0 var(--divkit-gallery-arrow-shadow,rgba(0,0,0,.1))}.divkit-afe51:hover:before{box-shadow:0 .2em .8em 0 var(--divkit-gallery-arrow-shadow,rgba(0,0,0,.1))}.divkit-afe51:active:before{box-shadow:0 .1em .4em 0 var(--divkit-gallery-arrow-shadow,rgba(0,0,0,.1))}.divkit-dd66d{fill:var(--divkit-gallery-arrow-fg,#000)}.divkit-b7608{cursor:pointer;height:4.4em;margin-top:-2.2em;position:absolute;top:50%;width:4.4em}.divkit-b7608:before{border-radius:100%;content:"";height:100%;left:0;position:absolute;top:0;transition:.15s ease-out;transition-property:transform,box-shadow;width:100%}.divkit-b7608:hover:before{transform:scale(1.1)}.divkit-b7608:active:before{transform:scale(1.05)}.divkit-ccc86{bottom:0;height:3.2em;left:0;margin:auto;position:absolute;right:0;top:0;width:3.2em}.divkit-f25e0{left:.6em}.divkit-c5954{right:.6em}.divkit-a0314{display:grid;grid-template-columns:100%;grid-template-rows:100%;position:relative}.divkit-a56a1{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.divkit-ab450{pointer-events:auto;position:absolute;transform-origin:0 0}.divkit-c53cb{display:grid;grid-template-columns:100%;grid-template-rows:100%;height:100%;overflow:hidden;pointer-events:none;width:100%}@supports (overflow:clip){.divkit-c53cb{overflow:clip}}.divkit-cfde6{left:0;pointer-events:none;position:absolute;top:0;visibility:hidden}.divkit-ea2ab{pointer-events:auto;visibility:visible}',""]);const a=o},8718:(t,e,i)=>{i.d(e,{Z:()=>v});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s),a=i(1667),l=i.n(a),c=new URL(i(5572),i.b),d=new URL(i(4679),i.b),h=new URL(i(4472),i.b),p=new URL(i(2455),i.b),u=o()(r()),f=l()(c),m=l()(d),g=l()(h),y=l()(p);u.push([t.id,"/* следующие css классы используется в галлерее и дивной верстке */\n.gallery__arrow_left {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    cursor: pointer;\n    background-color: #fff;\n    left: 0px;\n}\n\n.gallery__arrow_left::before {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Left_Arrow.svg);\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n    opacity: 0.25;\n}\n\n.gallery__arrow_left:hover::before {\n    opacity: 0.35;\n}\n.gallery__arrow_left:active::before {\n    opacity: 0.45;\n}\n\n.gallery__arrow_right {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    cursor: pointer;\n    background-color: #fff;\n    right: 0px;\n}\n\n.gallery__arrow_right::before {\n    position: absolute;\n    top: 0px;\n    width: var(--button-width, 24px);\n    bottom: 0px;\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Right_Arrow.svg);\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n    opacity: 0.25;\n}\n\n.gallery__arrow_right:hover::before {\n    opacity: 0.35;\n}\n.gallery__arrow_right:active::before {\n    opacity: 0.45;\n}\n\n.gallery_theme_dark .gallery__arrow_left {\n    background-color: #161617;\n}\n\n.gallery_theme_dark .gallery__arrow_right {\n    background-color: #161617;\n}\n\n.gallery_theme_dark .gallery__arrow_left::before {\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Left_Arrow_Dark.svg);\n}\n\n.gallery_theme_dark .gallery__arrow_right::before {\n    background-image: url(https://yastatic.net/s3/home/alice_popup/Right_Arrow_Dark.svg);\n}\n\n/* standalone */\n.gallery__arrow_left_standalone {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    cursor: pointer;\n    background-color: var(--white-color);\n    box-shadow: 0 4px 24px 0 #0020801f;\n    left: 0px;\n    border-radius: 50%;\n}\n\n.gallery__arrow_left_standalone::before {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    background-image: url("+f+");\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n}\n.gallery__arrow_left_standalone:hover::before {\n    background-image: url("+m+");\n}\n\n.gallery__arrow_right_standalone {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    cursor: pointer;\n    background-color: var(--white-color);\n    box-shadow: 0 4px 24px 0 #0020801f;\n    right: 0px;\n    border-radius: 50%;\n}\n\n.gallery__arrow_right_standalone::before {\n    position: absolute;\n    top: 50%;\n    width: var(--button-width, 44px);\n    height: var(--button-width, 44px);\n    transform: translateY(-50%);\n    background-image: url("+g+");\n    background-repeat: no-repeat;\n    background-position: center;\n    content: '';\n}\n.gallery__arrow_right_standalone:hover::before {\n    background-image: url("+y+");\n}\n\n.gallery__arrow_left_standalone,\n.gallery__arrow_right_standalone {\n    visibility: hidden;\n    opacity: 0;\n    transition: ease-out 0.15s;\n    transition-property: opacity, visibility;\n}\n\n.gallery:hover .gallery__arrow_left_standalone,\n.gallery:hover .gallery__arrow_right_standalone,\n.div-card:hover .gallery__arrow_left_standalone,\n.div-card:hover .gallery__arrow_right_standalone {\n    visibility: visible;\n    opacity: 1;\n}\n",""]);const v=u},3645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);n&&o[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},1667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},8081:t=>{t.exports=function(t){return t[1]}},7148:(t,e,i)=>{i.d(e,{x:()=>r});const n=(t,e)=>Math.abs(e.clientX-t.clientX)>5&&Math.abs(e.clientX-t.clientX)>Math.abs(e.clientY-t.clientY);function r(t){let e=null;const i=t=>{e={clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}},r=i=>{e&&n(e,i.touches[0])&&t.dispatchEvent(new CustomEvent("horizontalmovechange",{detail:{value:!0}}))},s=()=>{t.dispatchEvent(new CustomEvent("horizontalmovechange",{detail:{value:!1}})),e=null};return t.addEventListener("touchstart",i,{passive:!0,capture:!0}),t.addEventListener("touchmove",r,{passive:!0,capture:!0}),t.addEventListener("touchend",s,{passive:!0,capture:!0}),{destroy(){t.removeEventListener("touchstart",i,!0),t.removeEventListener("touchmove",r,!0),t.removeEventListener("touchend",s,!0)}}}},4562:(t,e,i)=>{i.d(e,{e:()=>r,h:()=>n});const n={writing:"Алиса печатает...",thinking:"Алиса думает..."},r=Symbol()},8792:(t,e,i)=>{i.d(e,{U:()=>s,z:()=>r});var n=i(917),r=(t=>(t.ALICE="alice",t.MICROPHONE="microphone",t))(r||{});const s=n.AliceStatus},9654:(t,e,i)=>{i.d(e,{el:()=>r,kU:()=>s,xx:()=>n});const n="alice.standalone.firstWelcomeAlreadyBeen",r="alice.standalone.utils",s=(Symbol(),Symbol())},892:(t,e,i)=>{i.d(e,{MV:()=>n,Yj:()=>o,gu:()=>r,kl:()=>l,lA:()=>s,ze:()=>a});const n=["b7c42cab-db61-46ba-871a-b10a6ecf3e0d","801be5bb-046e-4222-ad37-b377af50121a","43fa5448-258c-4de6-b656-80bd88200b7b"],r=["331cdecb-e371-4939-bb4b-530e4dcbbebe","64d5364a-a8da-40dd-9e02-b775d7fc46e2","6f6c71f9-0e1a-4cf1-890e-1306b226dbe2"],s=[...n,...r,"df75fa12-a1f8-4a56-a9aa-70ffbc80ea60","9df9b1cd-3a5a-45af-93de-31db24d3f5a7","cc4d8e93-9f42-48a8-939a-1bed3e1ee463"],o=["search_use_cloud_ui","weather_use_cloud_ui","enable_open_link_and_cloud_ui","hw_onboarding_enable_greetings","remove_feedback_suggests","shopping_list","enable_external_skills_for_webdesktop_and_webtouch","send_show_view_directive_on_supports_show_view_layer_content_interface","use_app_host_pure_Dialogovo_scenario","div2cards_in_external_skills_for_web_standalone"],a=["open_link","server_action","cloud_ui","cloud_first_screen_div","cloud_ui_filling","show_promo","show_view_layer_content","reminders_and_todos","div2_cards","print_text_in_message_view","player_pause_directive","supports_rich_json_cards_in_fullscreen_mode_in_skills"],l=[{id:"2",title:"Что ты умеешь?",command:"Что ты умеешь?",url:"https://yastatic.net/s3/home/alice_shortcut_logos/what.svg",type:"default"},{id:"5",title:"Игры с Алисой",command:"Игры с Алисой",url:"https://yastatic.net/s3/home/alice_shortcut_logos/games.svg",type:"default"}]},3143:(t,e,i)=>{i.d(e,{U:()=>r,x:()=>n});const n=t=>t.create({id:"fullscreen_image"},{imageUrl:""}),r=(t,e)=>class{constructor(e){this.onClick=e=>{const i=this.params.imageUrl;i&&(e.stopPropagation(),t.open(),t.updateParams({imageUrl:i}))},this.params=e}mountView(t,i){null==e||e(),t.addEventListener("click",this.onClick)}unmountView(e,i){t.close(),e.removeEventListener("click",this.onClick)}}},6608:(t,e,i)=>{i.d(e,{Mn:()=>ue,JC:()=>je,xx:()=>De,f1:()=>Te});var n=i(4982),r=i(711);let s;const o=()=>{const t=new r.v;(async()=>(s||(s=(await i.e(894).then(i.bind(i,7894))).default),s))().then((e=>{e.addEventListener("statechange",(e=>{const{newState:i}=e;t.emit("change",e),t.emit(i),"active"!==i&&t.emit("leave")}))}));let e=0;return document.body.addEventListener("mouseenter",(()=>{window.clearTimeout(e)}),{passive:!0}),document.body.addEventListener("mouseleave",(()=>{window.clearTimeout(e),e=window.setTimeout((()=>{t.emit("leave")}),600)}),{passive:!0}),t};var a=i(4950);const l=()=>({data:{},getItem(t){var e;return null!=(e=this.data[t])?e:null},key(t){var e;return null!=(e=Object.values(this.data)[t])?e:null},setItem(t,e){return this.data[t]=e},clear(){return this.data={}},removeItem(t){return this.data[t]&&delete this.data[t]},get length(){return Object.keys(this.data).length}}),c=(t,e,i)=>{const{namespace:n="",cleanIf:r=(t=>void 0===t),storage:s=l(),onError:o}=i;t=[n,t].filter(Boolean).join(".");let c="";try{c=s.getItem(t)}catch(t){o(t instanceof Error?t:Error("unknkoun"))}if(c)try{e=JSON.parse(c)}catch(t){o(t instanceof Error?t:Error("unknkoun"))}const d=(0,a.fZ)(e,i.start);return d.subscribe((e=>{r(e)?Promise.resolve().then((()=>s.removeItem(t))).catch(o):Promise.resolve().then((()=>s.setItem(t,JSON.stringify(e)))).catch(o)})),d};var d=i(8037),h=Object.defineProperty,p=Object.defineProperties,u=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(t,e,i)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,v=(t,e)=>{for(var i in e||(e={}))m.call(e,i)&&y(t,i,e[i]);if(f)for(var i of f(e))g.call(e,i)&&y(t,i,e[i]);return t},b=(t,e)=>p(t,u(e));const _="aliceButterfly",x={storage:(0,d.G)(),namespace:_},k=t=>{const e=e=>{t.emit("errorThrown",Error(`Error in alice butterfly storable: ${e.message}`))},i=c("uuid",void 0,{namespace:_,onError:e}),n=c("shouldBeUpdate",!1,{namespace:_,cleanIf:t=>!t,onError:e}),r=c("uniProxyUrl",void 0,b(v({},x),{cleanIf:t=>!t,onError:e})),s=c("vinsUrl",void 0,b(v({},x),{cleanIf:t=>!t,onError:e})),o=c("arpcUrl",void 0,b(v({},x),{cleanIf:t=>!t,onError:e})),l=c("experiments",[],b(v({},x),{cleanIf:t=>!(null==t?void 0:t.length),onError:e})),d=c("supported_features",[],b(v({},x),{cleanIf:t=>!(null==t?void 0:t.length),onError:e})),h=c("unsupported_features",[],b(v({},x),{cleanIf:t=>!(null==t?void 0:t.length),onError:e})),p=c("ab_experiments",{},b(v({},x),{cleanIf:t=>u(t),onError:e}));function u(t){return t||(t=(0,a.U2)(p)),!t||!Object.values(t).some((t=>Object.keys(t).length))}const f=(0,a.nK)(p,(t=>{if(!p)return[];const e=Object.values(t).flatMap((t=>Object.keys(t)));return Array.from(new Set(e))}));return{aliceButterflyUUID:i,aliceButterflyShouldBeUpdate:n,aliceButterflyUniProxyUrl:r,aliceButterflyVinsUrl:s,aliceButterflyArpcUrl:o,aliceButterflyExperiments:l,aliceButterflySupportedFeatures:d,aliceButterflyUnsupportedFeatures:h,aliceButterflyABExperiments:p,aliceButterflyABExperimentsIsEmpty:u,aliceButterflyTestIds:f,getButterflyStoresData:()=>{const t=t=>{var e;return(null==(e=(0,a.U2)(t))?void 0:e.trim())||void 0};return{uniProxyUrl:t(r),vinsUrl:t(s),arpcUrl:t(o),experiments:(0,a.U2)(l).filter(Boolean),supportedFeatures:(0,a.U2)(d).filter(Boolean),unsupportedFeatures:(0,a.U2)(h).filter(Boolean),testIds:(0,a.U2)(f)}},setButterflyUUID:t=>i.set(t)}};var w=i(6336);const C=t=>{var e;return(null==(e=(0,d.Jj)())?void 0:e.matchMedia("(prefers-color-scheme: dark)").matches)?"dark":"light"},E=({isStandaloneBuild:t,locationData:e,cookie:i})=>{const n=(({locationData:t,cookie:e})=>{var i,n,r,s,o,a;const l=null==(a=((null==(n=null==(i=null==e?void 0:e.parsed)?void 0:i.yp)?void 0:n.values)?(null!=(o=null==(s=null==(r=null==e?void 0:e.parsed)?void 0:r.yp)?void 0:s.values)?o:[])[0]:(0,w.A)("yp")).match(/skin\.(\w)/))?void 0:a[1],c=l&&(t=>({l:"light",d:"dark"}[t]))(l);return c?{theme:c,isSetByUser:!0}:{theme:C(),isSetByUser:!1}})({locationData:e,cookie:i});return(0,a.PX)(n,(e=>{t&&!n.isSetByUser&&(t=>{const i=(0,d.Jj)();if(!i)return null;i.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(t=>{return i=t.matches?"dark":"light",void e({theme:i,isSetByUser:!1});var i}))})()}))};var S=i(1174);const $=()=>(0,a.fZ)({hidden:!1,top:0}),M=()=>new Promise(((t,e)=>{navigator.geolocation.getCurrentPosition((e=>{const{coords:i}=e;t({lat:String(i.latitude),lon:String(i.longitude),accuracy:String(i.accuracy)})}),(t=>{e(t)}))}));var I=i(9965);class D{constructor(t){this.target=t,this.markAppInitStart=()=>{this.appInitStartTimestamp=Date.now()},this.sendDeltaFromInit=t=>{if(void 0===this.appInitStartTimestamp)return;const e=Date.now()-this.appInitStartTimestamp;this.sendDelta(`${t}_from_init`,e)},this.sendFirstVoiceRcording=(0,I.h)((()=>{const t="voice_recording_started";this.sendTimeMark(t),this.sendDeltaFromInit(t)})),this.sendFirstContentPaint=(0,I.h)((()=>{this.sendTimeMark("fcp"),this.sendDeltaFromInit("fcp")})),this.sendFirstMeaningfulContentPaint=(0,I.h)((()=>{this.target.emit("firstMeaningfulContentPaint"),this.sendTimeMark("fmcp"),this.sendDeltaFromInit("fmcp")}))}sendResTiming(t,e){this.target.emit("rumResourceTiming",t,e)}sendDelta(t,e){this.target.emit("rumDelta",t,e)}sendTimeMark(t){this.target.emit("rumTimeMark",t)}static handle(t){t.on("rumTimeMark",(t=>{var e,i,n;null==(n=null==(i=null==(e=window.Ya)?void 0:e.Rum)?void 0:i.sendTimeMark)||n.call(i,t)})),t.on("rumDelta",((t,e)=>{var i,n,r;null==(r=null==(n=null==(i=window.Ya)?void 0:i.Rum)?void 0:n.sendDelta)||r.call(n,t,e)})),t.on("firstMeaningfulContentPaint",(()=>{var t,e,i;null==(i=null==(e=null==(t=window.Ya)?void 0:t.Rum)?void 0:e.sendHeroElement)||i.call(e)})),t.on("rumResourceTiming",((t,e)=>{var i,n;null==(n=null==(i=window.Ya)?void 0:i.Rum)||n.sendResTiming(t,e)}))}}const T=t=>{const e="alice.settings",i=(t=>{const e={silentMode:{title:"Тихий режим",text:"Алиса будет отвечать только текстом",isActive:!1}};return t&&(e.standaloneDebug={title:"Дебаг режим",text:"Может приходить дебаг информация в ответе",isActive:!1}),e})(t);let n=null,r="";try{r=(0,d.$o)().getItem(e),r&&(n=JSON.parse(r))}catch(t){}t||delete(n||i).standaloneDebug;const{subscribe:s,update:o}=(0,a.fZ)(n||i);return{subscribe:s,setEnabled:(t,i)=>{o((n=>{const r=n[t];if(r){r.isActive=i;try{(0,d.$o)().setItem(e,JSON.stringify(n))}catch(t){}}return n}))}}},P=t=>{const e="alice.sidebar.is.expanded",i=(()=>{try{const t=(0,d.$o)().getItem(e);return null!==t&&"1"!==t}catch(e){return t.emit("stat",{path:"sidebar.cant_get_ls_state",eventType:"tech"}),!1}})(),{subscribe:n,set:r,update:s}=(0,a.fZ)({collapsed:i});function o(){r({collapsed:!0})}return n((({collapsed:t})=>{const i=t?"":"1";(0,d.$o)().setItem(e,i)})),{collapse:o,expand:function(t=!1){t&&setTimeout(o,3e3),r({collapsed:!1})},toggle:function(){s((({collapsed:t})=>({collapsed:!t})))},subscribe:n}};var A=i(8792),j=i(7941),L=Object.defineProperty,O=Object.defineProperties,F=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,N=(t,e,i)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,R=(t,e)=>{for(var i in e||(e={}))V.call(e,i)&&N(t,i,e[i]);if(B)for(var i of B(e))z.call(e,i)&&N(t,i,e[i]);return t},U=(t,e)=>O(t,F(e));const H=t=>{const e={status:A.U.SUSPENDED},i=(0,a.fZ)(e),n=(0,a.fZ)(e),r=(0,a.nK)([i,n],(([t,e])=>U(R({},e),{loading:Boolean(e.loader),status:e.status!==A.U.SUSPENDED?e.status:t.status})));t.onInit((()=>i.set({status:t.getStatus()}))),t.aliceBus.on("status",(t=>i.set({status:t})));let s=0,o=j.k;const l=()=>{s>0&&--s,0===s&&n.set({status:A.U.SUSPENDED})};return{think:t=>(0===s&&n.set({status:A.U.THINKING}),++s,o=o.then((()=>t().then(l,l))),o),startLoading:t=>{n.update((e=>U(R({},e),{loader:{message:t}})))},stopLoading:()=>{n.update((({status:t})=>({status:t})))},get kit(){return(0,a.U2)(i)},get app(){return(0,a.U2)(n)},subscribe:r.subscribe}};var q=i(7934),G=i(4916),Z=i(1776),Y=i(9654),W=i(9738),K=i(7711),X=i(5318);const J=Symbol("skip"),Q=t=>Object.assign((e=>(t.update((t=>{const i=e(t);return i===t||i===J?t:Object.assign({},t,i)})),(0,n.Ky)())),{skip:J,tick:j.k});var tt=i(7258),et=i(8937),it=i(6517),nt=Object.defineProperty,rt=Object.defineProperties,st=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,ct=(t,e,i)=>e in t?nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,dt=(t,e)=>{for(var i in e||(e={}))at.call(e,i)&&ct(t,i,e[i]);if(ot)for(var i of ot(e))lt.call(e,i)&&ct(t,i,e[i]);return t},ht=(t,e)=>rt(t,st(e)),pt=(t,e)=>{var i={};for(var n in t)at.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&ot)for(var n of ot(t))e.indexOf(n)<0&&lt.call(t,n)&&(i[n]=t[n]);return i},ut=i(9162);class ft{constructor(t,e,i){this.type=t,this.store=e,this.config=i,this.isHistoryLoaded=!1,this.isHistoryLoading=!1,this.hasMessages=!1,this.subscribersStore=new Map,this.isHistoryEmpty=!0,this.hidden=!1,this.subscribe=e.subscribe,this.addMessage=e.addMessage,this.assignToChatInfo=e.assignToChatInfo,this.removeMessagesByRequestId=e.removeMessagesByRequestId,this.assignToMessagesByRequestId=e.assignToMessagesByRequestId,this.hideMessagesByRequestId=e.hideMessagesByRequestId,this.setMarkMessagesByRequestId=e.setMarkMessagesByRequestId,this.setOutputStatus=e.setOutputStatus,this.cancel=e.cancel,this.updateLastMessage=e.updateLastMessage,this.updateChat=e.updateChat,this.block=e.block,i.isNewChat&&(this.isHistoryLoaded=!0),this.subscribeStore((({messages:t})=>{if(!t.length)return;const e=this.isDialog&&!this.hasMessages;this.hasMessages=!0,e&&this.loadHistory()})),i.immediatelyLoadHistory&&Promise.resolve().then((()=>this.loadHistory()))}get info(){return(0,a.U2)(this.store).info}get isDefault(){return this.info.id===et.lD}get isDialog(){var t;return null==(t=this.config.isDialog)||t}loadHistory(){return Promise.resolve(void 0)}checkCanLoad(){return!this.isHistoryLoaded&&!this.isHistoryLoading&&(this.config.isStandaloneBuild||!this.isDialog||this.hasMessages)}closeChat(){this.reset(),this.store.reset()}destroy(){this.unsubscribeStore()}subscribeStore(t){const e=this.store.subscribe(t);return this.subscribersStore.set(t,e),e}unsubscribeStore(t){var e;if(t)return null==(e=this.subscribersStore.get(t))?void 0:e();this.subscribersStore.forEach((t=>t())),this.subscribersStore.clear()}onLoadHistory(t=[],e=!0){var i,n;const r=this.isHistoryEmpty,s=this.info.id;this.isHistoryEmpty=this.isHistoryEmpty&&!t.length,this.isHistoryLoaded=e,this.isHistoryLoading=!1,null==(n=(i=this.config).onLoadHistory)||n.call(i,{history:t,dialogId:s,isFirstChunk:r})}reset(){this.isHistoryEmpty=!0,this.hasMessages=!1,this.isHistoryLoaded=!1,this.isHistoryLoading=!1}}var mt=i(5268);class gt extends ft{constructor(t,e,i,n,r,s){super("backend",t,e),this.aliceKit=i,this.outputBus=n,this.removeMessagesByRequestId=(e,n=!1)=>i.removeChatMessages(this.info.id,e?[e]:void 0,n).then((()=>t.removeMessagesByRequestId(e,n))),this.setMarkMessagesByRequestId=(e,n)=>(i.sendFeedback(e,n===ut.MessageMark.BAD?"negative":"positive"),t.setMarkMessagesByRequestId(e,n)),this.addMessage=t=>{this.store.addMessage(t),r()},this.subscribeStore((({messages:e,info:i})=>{if(i.title&&i.subtitle)return;const n=(0,W.CT)(e);if(!n)return;const o=(t=>{var e;const i=t.bubbles.find((t=>"text"===t.type));return null!=(e=null==i?void 0:i.text)?e:""})(n);o&&(s||X.m.getActiveChat().id!==et.lD||i.title||i.subtitle||X.m.setActiveChat({id:this.info.id,type:this.isDialog?"skill":"chat",replace:!0}),!i.title&&n.isUserAuthor&&t.assignToChatInfo({title:o}),i.subtitle||n.isUserAuthor||t.assignToChatInfo({subtitle:o}),r())}))}loadHistory(){if(!this.checkCanLoad())return Promise.resolve(void 0);this.isHistoryLoading=!0;const t=(0,a.U2)(this.store).messages[0],e=(null==t?void 0:t.date)?t.date.getTime():Number.MAX_SAFE_INTEGER,i=null==t?void 0:t.id,n=this.info.id;return this.aliceKit.getChatHistory(n,e,i,20).then((({messages:t})=>{this.isHistoryLoading=!1;const e=!t||t.length<20,i=(0,mt.ux)(t,this.outputBus);return this.onLoadHistory(i,e),this.store.setHistory(i),i})).catch((t=>{this.isHistoryLoading=!1,this.outputBus.emit("errorThrown",Error(`Error while getting chat history: ${t.message}`))}))}}var yt=i(233),vt=i(6437);const bt=t=>{try{if((0,d.$o)().getItem(et.aq)!==t){(0,d.$o)().setItem(et.aq,t);for(let t=0,{length:e}=(0,d.$o)();t<e;++t){const e=(0,d.$o)().key(t);null!==e&&e.startsWith(et.Wz)&&(0,d.$o)().removeItem(e)}}}catch(t){}};var _t=Object.defineProperty,xt=Object.defineProperties,kt=Object.getOwnPropertyDescriptors,wt=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,St=(t,e,i)=>e in t?_t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,$t=(t,e)=>{for(var i in e||(e={}))Ct.call(e,i)&&St(t,i,e[i]);if(wt)for(var i of wt(e))Et.call(e,i)&&St(t,i,e[i]);return t},Mt=(t,e)=>xt(t,kt(e));class It extends ft{constructor(t,e){super("ls",t,e),this.config=e,this.subscribeStore((({messages:t})=>{this.writeHistory(t)}))}get maxMessagesInLS(){return this.config.maxMessagesInLS}getHistory(){try{const t=(0,d.$o)().getItem(this.config.localStorageKey);return t&&JSON.parse(t)}catch(t){}}loadHistory(){return new Promise((t=>{if(!this.checkCanLoad())return t(void 0);const e=this.getHistory();if(!Array.isArray(e))return this.onLoadHistory(),t([]);const i=e.map((t=>{var e;if("object"==typeof t&&null!==t)return"bubbles"in(e=t)&&"date"in e&&Array.isArray(e.bubbles)?Mt($t({},t),{date:new Date(t.date),sources:(0,yt.n)(t.sources),isCurrentSession:void 0}):"text"in t&&"string"==typeof t.text?Mt($t({},t),{id:(0,vt.O1)(),date:"date"in t&&"string"==typeof t.date?new Date(t.date):new Date,bubbles:[{id:(0,vt.O1)(),type:"text",text:t.text}],isCurrentSession:void 0}):void 0})).filter((t=>Boolean(t)));this.onLoadHistory(i),this.store.setHistory(i),t(i)}))}writeHistory(t){if(!this.isHistoryLoaded)return;this.config.localType&&bt(this.config.localType);const e=t.map(tt.dX).filter((t=>!t.isWelcomeMessage&&t.bubbles.length)).slice(-this.maxMessagesInLS).map(tt.bK);try{(0,d.$o)().setItem(this.config.localStorageKey,JSON.stringify(e))}catch(t){}}}var Dt=(t=>(t.INIT="init",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t))(Dt||{});const Tt=t=>!t.isDialog&&Boolean(t.info.title||t.info.subtitle||(0,a.U2)(t).messages.length),Pt=t=>!t.hidden&&Tt(t),At=t=>t.info.id!==et.lD&&Pt(t),jt=(t,e)=>t.id===et.lD?-1:e.id===et.lD?1:t.updateDate||e.updateDate?t.updateDate?e.updateDate?e.updateDate.getTime()-t.updateDate.getTime():1:-1:0;var Lt=i(4871);const Ot=({bubbleSize:t,showWelcome:e})=>({name:"@@mm_typed_callback",type:Lt.KitUniproxyDirectiveEventType.server_action,payload:{typed_callback_struct:{typed_callback_name:"StartChatOnboardingTypedCallback",payload:{screen_info:t,event_type:e?1:0}},analytics:{origin:"Scenario",purpose:"purpose"},request_params:{is_led_silent:!0}}});var Ft=Object.defineProperty,Bt=Object.defineProperties,Vt=Object.getOwnPropertyDescriptors,zt=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,Ut=(t,e,i)=>e in t?Ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Ht=(t,e)=>{for(var i in e||(e={}))Nt.call(e,i)&&Ut(t,i,e[i]);if(zt)for(var i of zt(e))Rt.call(e,i)&&Ut(t,i,e[i]);return t},qt=(t,e)=>Bt(t,Vt(e));const Gt=({isLib:t,isMobile:e,aliceKit:i,outputBus:n,status:r,isProDistributionDisabled:s,isLandingHeaderExp:o,isDisableModelSwitcherExp:l,isStandaloneBuild:h,isSecondOnboardingExp:p,isSecondOnboardingForceWelcomeExp:u,toastStore:f,screenStore:m})=>{const g=c(Y.xx,!1,{storage:(0,d.$o)(),cleanIf:t=>!t,onError:t=>n.emit("errorThrown",Error(`Error in welcome message storable: ${t.message}`))}),y=({history:t,dialogId:e,isFirstChunk:n})=>{i.onInit((()=>{var r;const{activeChatId:s,maxBubbleSize:o}=(0,a.U2)(k);if(s!==e||!n)return;i.setPrevRequestId(null==(r=(0,W.CT)(t))?void 0:r.requestId);const l=m.isWelcomeShown()&&!u;if(p&&!l){const t=t=>{const e=Ot({bubbleSize:t,showWelcome:!0});i.executeDirectives([e]),m.setWelcomeShown()};if(o)t(o);else{const i=k.subscribe((({activeChatId:n,maxBubbleSize:r})=>{if(r){if(i(),n!==e)return;t(r)}}))}}}))};let v;v=h?r===K.O.BASE_UNLOGGED?{type:"ls",isDialog:!1,localType:"unlogged",localStorageKey:`${et.Wz}.base`,maxMessagesInLS:50,immediatelyLoadHistory:!0,onLoadHistory:y,isStandaloneBuild:h}:{type:"backend",isDialog:!1,immediatelyLoadHistory:!0,onLoadHistory:y,isStandaloneBuild:h}:{type:"ls",isDialog:!0,localStorageKey:"alice.defaultChat",maxMessagesInLS:50,immediatelyLoadHistory:!1,isStandaloneBuild:h};const b=(t=>{switch(t){case K.O.PRO:return q.TAlice2ModeInfo_EMode.Pro;case K.O.BASE_LOGGED:case K.O.BASE_UNLOGGED:default:return q.TAlice2ModeInfo_EMode.Base}})(r),_={id:et.lD,mode:b,title:"Главный чат",subtitle:"Спроси у Алисы"};h&&i.onInit((()=>i.setDialogId(_.id,Z.DialogType.DEDICATED_CHAT)));const x=r===K.O.BASE_UNLOGGED,k=(0,a.fZ)({notifier:void 0,chatListState:x?Dt.LOADED:Dt.INIT,chatsLimit:void 0,allChats:{[_.id]:E(v,_)},activeChatId:_.id,prevChatId:_.id,showOnboarding:!p}),w=Q(k);function C(){return w((({allChats:t})=>({allChats:Ht({},t)})))}function E(e,s,o){h&&bt(r===K.O.BASE_UNLOGGED?"unlogged":"logged");const l=(t=>"ls"===(null==t?void 0:t.type))(e),c=((t,e,i,n=[],r=!1)=>{const s={info:e,isMessagesHidden:!1,messages:[],suggests:[],isHistoryLoaded:!1,canRequestAnswer:i===K.O.PRO||e.mode!==q.TAlice2ModeInfo_EMode.Pro},o=(0,a.fZ)(ht(dt({},s),{isHistoryLoaded:r,messages:n})),l=Q(o),c=t=>{const e=(0,W.CT)(t);if(!e)return t;const i=t.slice(0,t.length-1);return e.bubbles.some((t=>"divJson"===t.type&&(0,it.t)(t.divJson)))?i:t},d=(t,e)=>l((({messages:i,suggests:n})=>{var r;return{suggests:(null==(r=(0,W.CT)(i))?void 0:r.requestId)===t&&e.suggests?e.suggests:n,messages:i.map((i=>i.requestId===t?dt(dt({},i),e):i))}})),{subscribe:h}=(0,a.nK)(o,(t=>{const e=t.isMessagesHidden?[]:t.messages.filter((t=>!t.hidden&&0!==t.bubbles.length)),n=t.info.id===et.lD,r=(0,W.CT)(e),s=null==r?void 0:r.bubbles.some((t=>"divJson"===t.type&&(0,it.t)(t.divJson))),o=i!==K.O.BASE_UNLOGGED&&!n&&t.isHistoryLoaded&&(!r||s),a=r&&(0,tt.f)(r),l=!t.isMessagesHidden&&(0,tt.xn)(t.messages)?t.suggests:[],c=e.findIndex((({isCurrentSession:t,isUserAuthor:e,bubbles:i})=>Boolean(t&&e&&i.length))),d=(0,W.qr)(e,(({isCurrentSession:t,isUserAuthor:e,bubbles:i})=>Boolean(t&&e&&i.length)));return ht(dt({},t),{isDefault:n,canChangeModel:o,messages:e,suggests:l,isChanging:a,firstUserMessageInSessionIndex:c,lastUserMessageInSessionIndex:d})}));return{subscribe:h,block:()=>l((()=>({canRequestAnswer:!1}))),addMessage:t=>{var e=t,{suggests:i}=e,n=pt(e,["suggests"]);return o.update((t=>{var e=t,{messages:r}=e,s=pt(e,["messages"]);return ht(dt({},s),{info:ht(dt({},s.info),{updateDate:new Date}),suggests:null!=i?i:s.suggests,messages:[...n.bubbles.length>0?c(r):r,ht(dt({},(0,tt.dX)(ht(dt({},n),{isCurrentSession:!0}))),{date:new Date,isNew:!0})]})}))},updateLastMessage:(t,e)=>l((({messages:i,suggests:n})=>{var r;const s=(0,W.CT)(i);if(!s)return l.skip;const o=(0,tt.VJ)(s.bubbles,t.bubbles||[],e),a=(0,tt.dX)(ht(dt(dt({},s),t),{bubbles:o}));return{suggests:null!=(r=t.suggests)?r:n,messages:[...i.slice(0,-1),a]}})),cancel:()=>l((({messages:t})=>{const e=(0,W.CT)(t);return e?{messages:[...t.slice(0,-1),(0,tt.bK)(e)]}:l.skip})),setHistory:t=>l((({messages:e})=>({isHistoryLoaded:!0,messages:[...t,...e]}))),setOutputStatus:t=>l((({outputStatus:e})=>e===t?l.skip:{outputStatus:t})),removeMessagesByRequestId:(e,i=!1)=>l((({messages:n,suggests:r})=>{var s;const o=(null==(s=(0,W.CT)(n))?void 0:s.requestId)===e,a=i?[]:n.filter((t=>t.requestId!==e)),l=i||o;if(l){const e=(0,W.qr)(a,(t=>Boolean(t.requestId)));-1!==e&&t.setPrevRequestId(a[e].requestId)}return{suggests:l?[]:r,messages:a}})),assignToMessagesByRequestId:d,hideMessagesByRequestId:e=>l((({messages:i})=>{var n;return(null==(n=(0,W.CT)(i))?void 0:n.requestId)===e&&t.cancel(),{messages:i.map((t=>t.requestId===e?(0,tt.bK)(ht(dt({},t),{hidden:!0})):t))}})),setMarkMessagesByRequestId:(t,e)=>{if(!e)return!1;const i=(0,a.U2)(o).messages,n=i[(0,tt.Kf)(i,t)];return!(!n||n.mark===e||(d(t,{mark:e}),0))},assignToChatInfo:t=>l((({info:e})=>({info:dt(dt({},e),t)}))),updateChat:t=>l((()=>t)),reset:()=>l((({info:t,isMessagesHidden:e})=>ht(dt({},s),{info:t,isMessagesHidden:t.id===et.lD?e:s.isMessagesHidden})))}})(i,s,r,o,e.isNewChat);return l?new It(c,e):new gt(c,e,i,n,C,t)}function S(t,e={},i){const{id:n=(0,G.createUUID)(),mode:r=b,creationDate:s=new Date,updateDate:o=s,title:a,subtitle:l}=e;return w((({allChats:c})=>({allChats:qt(Ht({},c),{[n]:E(qt(Ht({},t),{isNewChat:!e.id}),{id:n,mode:r,creationDate:s,updateDate:o,title:a,subtitle:l},i)})}))),n}function $(){const{chatsLimit:t,allChats:e}=(0,a.U2)(k),i=void 0!==t&&Object.values(e).filter((t=>Tt(t)&&!t.isDefault)).length>=t;return j({chatLimit:i}),i}function M(t){const{activeChatId:e,allChats:i}=(0,a.U2)(k),n=i[t];return n&&(n.destroy(),w((e=>{var i,{allChats:n}=e,r=n,{[t]:s}=r;return{allChats:((t,e)=>{var i={};for(var n in t)Nt.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&zt)for(var n of zt(t))e.indexOf(n)<0&&Rt.call(t,n)&&(i[n]=t[n]);return i})(r,[(i=t,"symbol"==typeof i?i:i+"")])}})),$()),e===t?D(et.lD,{replaceHistory:!0}):w.tick}function D(e,{replaceHistory:n=!1,forceOnboarding:r=!1}={}){let s=w.tick;return w((({activeChatId:o,allChats:a,showOnboarding:l})=>{var c;const d=a[e];if(!t&&d&&X.m.getActiveChat().id!==e){const t=d.isDialog||Pt(d);X.m.setActiveChat({id:t?e:et.lD,type:d.isDialog?"skill":"chat",replace:n})}return d&&e!==o?(s=A(!1),null==(c=a[o])||c.closeChat(),i.setDialogId(d.isDefault?null:e,d.isDialog?Z.DialogType.EXTERNAL_SKILL:Z.DialogType.DEDICATED_CHAT),f.destroyAll().then((()=>{d.loadHistory().then(((t=[])=>{var e;const n=d.isDialog||null==(e=(0,W.CT)(t))?void 0:e.requestId;i.setPrevRequestId(n)}))})),{allChats:a,activeChatId:e,prevChatId:o,showOnboarding:!p&&(l&&o===et.lD||r)}):w.skip})).then((()=>s))}function T(e){const n=t?void 0:X.m.getActiveChat(),r=!(0,a.U2)(k).allChats[e]&&(null==n?void 0:n.id)===e&&"skill"===n.type;r&&S({type:"ls",localStorageKey:`${et.Wz}.${e}`,maxMessagesInLS:50,isDialog:!0,isStandaloneBuild:h},{id:e});const{allChats:s}=(0,a.U2)(k),o=s[e],l=o&&(o.isDialog||Pt(o)),c=D(l?e:et.lD,{replaceHistory:!l});return r&&l&&i.executeDirectives([{name:"new_dialog_session",type:"server_action",payload:{dialog_id:e}}]),c}function P(t){return w((()=>({trialInfo:t})))}function A(t=!0){const{activeChatId:e,allChats:n}=(0,a.U2)(k),r=n[e],s=r?r.cancel():w.tick;return i.cancel(t),s}function j(t){return w((({notifier:e})=>{const i=(({microphone:t,chatLimit:e},i)=>t?"microphone":e?"chat-limit":"microphone"===i&&!1===t||"chat-limit"===i&&!1===e?void 0:i)(t,e);return e===i?w.skip:{notifier:i}}))}t||X.m.onNavigate(T);const{subscribe:L}=(0,a.nK)(k,(t=>{var i,n;const c=(0,a.U2)(t.allChats[et.lD]).info,d=Object.values(t.allChats).filter(At).map((t=>(0,a.U2)(t).info)).sort(jt),h=Object.keys(t.allChats).filter((t=>t!==_.id)).length,p=t.allChats[t.activeChatId],u=r===K.O.BASE_LOGGED||r===K.O.BASE_UNLOGGED,f=(null!=(n=null==(i=t.trialInfo)?void 0:i.remained)?n:0)>0,m=o&&l,g=r===K.O.BASE_LOGGED&&t.trialInfo&&f,y=u&&!s&&!p.isDialog&&(p.info.mode===q.TAlice2ModeInfo_EMode.Base||e&&f||m),v=u&&p.info.mode===q.TAlice2ModeInfo_EMode.Pro&&m;return qt(Ht({},t),{canTestPro:g,showTryPro:y,showTrialCounter:v,currentChat:p,defaultChatInfo:c,visibleChatInfoList:d,nonDefaultChatCount:h})}));return{firstInteractionAlreadyBeen:g,loadChatList:function(){const{chatListState:t}=(0,a.U2)(k);return t===Dt.LOADING||t===Dt.LOADED?w.tick:(w((()=>({chatListState:Dt.LOADING}))),i.getChatList().then((t=>{var e;return(null==t?void 0:t.dialogs)&&t.dialogs.forEach((t=>{var e,i;S({type:"backend",isDialog:!1,isStandaloneBuild:h},{id:t.dialog_id,title:t.title,subtitle:t.subtitle,creationDate:new Date(Number(t.creation_ts_ms)),updateDate:new Date(Number(null!=(e=t.last_update_ts_ms)?e:t.creation_ts_ms)),icon:t.logo_url,mode:null==(i=t.alice_2_settings)?void 0:i.mode})})),n.emit("stat",{path:"chat_list_on_start",customParams:{value:(null==(e=null==t?void 0:t.dialogs)?void 0:e.length.toString())||"0"},eventType:"tech"}),w((({chatsLimit:e})=>{var i;return{chatListState:Dt.LOADED,chatsLimit:null!=(i=null==t?void 0:t.dialogs_limit)?i:e}}))})).catch((t=>(n.emit("errorThrown",Error(`Error while getting chats list: ${t.message}`)),w((()=>({chatListState:Dt.ERROR})))))))},loadTrialInfo:(0,I.h)((function(){if(r!==K.O.BASE_UNLOGGED)return i.getTrialState().then((t=>{const e=null==t?void 0:t.AliceProState;if(!e)return;const{Count:i=0,Limit:n,TimeLimitSec:r}=e;n&&r&&P({limit:n,timeLimit:r,remained:n-i})})).catch((t=>{n.emit("errorThrown",Error(`Error while getting alice state: ${t.message}`))})).then((()=>w((t=>qt(Ht({},t),{isTrialInfoLoaded:!0})))))})),createChat:S,createChatWithMessages:async function(t){if($())return;const{activeChatId:e}=(0,a.U2)(k),n=e!==et.lD?e:void 0,r=await i.createChatWithMessages(t,{dialogId:n}),{dialog_id:s,title:o,subtitle:l,creation_ts_ms:c,last_update_ts_ms:d,alice_2_settings:p}=r.dialog,u=new Date(Number(c)),f=new Date(Number(null!=d?d:c)),m={id:s,mode:null==p?void 0:p.mode,title:o,subtitle:l,creationDate:u,updateDate:f};return S({type:"backend",isDialog:!1,isStandaloneBuild:h},m),D(m.id),m},createNewChat:function(t){if($())return;D(S({type:"backend",isDialog:!1,isStandaloneBuild:h},{mode:t}),{forceOnboarding:!0});const{maxBubbleSize:e}=(0,a.U2)(k);if(p&&e){const t=Ot({bubbleSize:e,showWelcome:!1});i.executeDirectives([t])}},removeChat:function(t){const{allChats:e}=(0,a.U2)(k);return"backend"===e[t].type?i.removeChat(t).then((()=>M(t))):M(t)},removeChatMessages:function(t){const{allChats:e}=(0,a.U2)(k),i=e[t];return i?i.removeMessagesByRequestId(void 0,!0):w.tick},setHiddenChat:function(t,e){const{activeChatId:i,allChats:n}=(0,a.U2)(k),r=n[t];return r&&(r.hidden=e,C()),i===t?D(et.lD,{replaceHistory:!0}):w.tick},setHiddenChatMessages:function(t,e){const{allChats:i}=(0,a.U2)(k),n=i[t];return n?n.updateChat({isMessagesHidden:e}):w.tick},setActiveChatId:T,updateNotifier:j,updateTrial:P,setMaxBubbleSize:t=>w((()=>({maxBubbleSize:t}))),cancel:A,subscribe:L}};var Zt=i(7835);const Yt=(t,e)=>(t.forEach(((t,i)=>{e.searchParams.set(i,t)})),e),Wt=(t,e,i)=>(new URLSearchParams(e.search).forEach(((e,i)=>{i.startsWith("utm_")&&t.set(i,e)})),t.get("utm_source")||t.set("utm_source",((t,e)=>{let i="";return i="a.ya.ru"===t.hostname||"alice.yandex.ru"===t.hostname?"ayaru":t.pathname.startsWith("/search")?"serp":"home",i+="_"+(e?"mobile":"desktop"),i})(e,i)),t),Kt=(t,e)=>{let i=Wt(new URLSearchParams,t,e);const n=t=>{i=Wt(i,t,e);const n=((t,e)=>{if("yandex.ru"===e.hostname.split(".").slice(-2).join("."))return Yt(t,new URL(e.href)).toString();const i=Yt(t,new URL(e.href)),n=new URL("https://sso.passport.yandex.ru/push");return n.searchParams.set("uuid",(0,Zt.L)()),n.searchParams.set("retpath",i.toString()),n.toString()})(i,t),r=(t=>{const e=new URL("https://passport.yandex.ru/auth");return e.searchParams.set("retpath",t),e.toString()})(n),s=((t,e)=>{const i=Yt(t,new URL("https://plus.yandex.ru/home")),n=i.searchParams;return n.set("service_name","alice_pro"),n.set("retpath",Yt(t,new URL(e.href)).toString()),n.set("redirectOnlyOnSuccess","1"),i.toString()})(i,t);return{retpath:n,login:r,pro:s}};return(0,a.PX)(n(t),(e=>{var i,r;const s=()=>{var i;e(n(null!=(i=(0,d.k$)())?i:t))};return s(),null==(i=(0,d.Jj)())||i.addEventListener("popstate",s),null==(r=(0,d.Jj)())||r.addEventListener("hashchange",s),()=>{var t,e;null==(t=(0,d.Jj)())||t.removeEventListener("popstate",s),null==(e=(0,d.Jj)())||e.removeEventListener("hashchange",s)}}))};var Xt=Object.defineProperty,Jt=Object.defineProperties,Qt=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,ne=(t,e,i)=>e in t?Xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,re=(t,e)=>{for(var i in e||(e={}))ee.call(e,i)&&ne(t,i,e[i]);if(te)for(var i of te(e))ie.call(e,i)&&ne(t,i,e[i]);return t};const se="alice.standalone.welcome.shown";var oe=i(892);const ae=[{type:"category",id:"stations",title:"Станции",promo:[],items:[{type:"link",id:"station-all",title:"Все станции",link:"https://alice.yandex.ru/station/",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/10116223/59c11617-e9b6-4e9f-8bdc-375b9f522847/orig?width=696&height=856",light:"https://avatars.mds.yandex.net/get-lpc/10116223/59c11617-e9b6-4e9f-8bdc-375b9f522847/orig?width=696&height=856"}},{type:"link",id:"station-lite2",title:"Лайт 2",link:"https://alice.yandex.ru/station-lite-gen2",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/12602567/a7fe403f-6e75-494e-a177-1a5f088ba7e8/orig?width=696&height=856",light:"https://avatars.mds.yandex.net/get-lpc/12602567/a7fe403f-6e75-494e-a177-1a5f088ba7e8/orig?width=696&height=856"}},{type:"link",title:"Дуо Макс",id:"station-duo-max",link:"https://alice.yandex.ru/station-duo-max",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/9736426/a37e0b14-dd13-441e-a9fe-9bb11815409c/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/9736426/e000e959-ceed-4875-9b96-91d13e2de780/orig?width=264&height=268"}},{type:"link",id:"station-max",title:"Макс",link:"https://alice.yandex.ru/station-max",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/10116223/66a0f19c-3d50-4284-bd5a-da78915cfd75/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/1635340/68c57e73-b291-4253-a0a7-31f8b11a8d71/orig?width=264&height=268"}},{type:"link",id:"station-gen2",title:"Станция 2",link:"https://alice.yandex.ru/station-gen2",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/12373972/8b0fe7bc-2e17-454b-b910-4e246c8797a2/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/1635340/267c7a4f-5e37-44d9-816f-1df9994bfd87/orig?width=264&height=268"}},{type:"link",id:"station-midi",title:"Миди",link:"https://alice.yandex.ru/station-midi",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/1635340/a8996ff9-129c-4dfe-b67d-4e6a766797be/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/9736426/4c8b2f49-880a-4cc7-8150-726db0a7094b/orig?width=264&height=268"}},{type:"link",id:"station-mini",title:"Мини",link:"https://alice.yandex.ru/station-mini",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/10116223/a3b4a23e-e646-47a5-8e71-0f722d713a7e/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/10116223/f8323657-1b96-44eb-bf06-00028c4d1d64/orig?width=264&height=268"}},{type:"link",id:"station-lite",title:"Лайт",link:"https://alice.yandex.ru/station-lite",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/10116223/6f36a503-3ad4-4e93-8425-745f5f416924/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/10116223/6f36a503-3ad4-4e93-8425-745f5f416924/orig?width=264&height=268"}},{type:"link",id:"compare-stations",title:"Сравнить",link:"https://alice.yandex.ru/compare-stations",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/10116223/600273ac-d637-430d-81eb-adf2f144bc14/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/10116223/52d89567-f06a-421c-8400-15811b75ef3f/orig?width=264&height=268"}}]},{type:"category",title:"ТВ",id:"tv",promo:[{type:"link",id:"dog-house",title:"Пёсий дом",link:"https://alice.yandex.ru/pesiki",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/12602567/e30e2a65-4066-452f-b8b1-94b945cd4a23/orig?width=336&height=420",light:"https://avatars.mds.yandex.net/get-lpc/12602567/e30e2a65-4066-452f-b8b1-94b945cd4a23/orig?width=336&height=420"}}],items:[{type:"link",title:"ТВ Станция",id:"tv-station",link:"https://alice.yandex.ru/tv-station",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/12602567/e7fc0572-e16b-4358-b720-3cb8966fd453/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/12602567/e7fc0572-e16b-4358-b720-3cb8966fd453/orig?width=264&height=268"}},{type:"link",title:"ТВ Станция Про",id:"tv-station-pro",link:"https://alice.yandex.ru/tv-station-pro",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/12602567/345e8e60-7a00-4ae2-860e-2c5d4fe0aa95/orig?width=810&height=690",light:"https://avatars.mds.yandex.net/get-lpc/12602567/345e8e60-7a00-4ae2-860e-2c5d4fe0aa95/orig?width=810&height=690"}},{type:"link",title:"Умный ТВ Яндекса\nс Алисой",id:"first-tv",link:"https://alice.yandex.ru/first-tv",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/9736426/f60c593c-bccf-42db-9982-05f90f544aed/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/9736426/f60c593c-bccf-42db-9982-05f90f544aed/orig?width=264&height=268"}},{type:"link",title:"Сравнить",id:"compare-tv",link:"https://alice.yandex.ru/compare-tv",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/9736426/172978a5-d021-45e1-a726-a49d623a6199/orig?width=312&height=292",light:"https://avatars.mds.yandex.net/get-lpc/9736426/172978a5-d021-45e1-a726-a49d623a6199/orig?width=312&height=292"}},{type:"link",title:"Модуль\nс Алисой",id:"module",link:"https://alice.yandex.ru/module",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/1635340/e70fdc72-b4a9-47ee-a64f-d3dbf1732e09/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/1635340/e70fdc72-b4a9-47ee-a64f-d3dbf1732e09/orig?width=264&height=268"}},{type:"link",title:"Операционная система YaOS",id:"yaos",link:"https://alice.yandex.ru/yaos",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/1635340/a0ac694c-0c62-4116-9582-f62b9b5406dd/orig?width=66&height=66",light:"https://avatars.mds.yandex.net/get-lpc/10116223/3955b5ca-8bc2-4b90-8012-969f8cad6b91/orig?width=66&height=66"}}]},{type:"category",title:"Умный дом",id:"smart-home",promo:[{type:"link",id:"dog-house",title:"Пёсий дом",link:"https://alice.yandex.ru/pesiki",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/12602567/e30e2a65-4066-452f-b8b1-94b945cd4a23/orig?width=336&height=420",light:"https://avatars.mds.yandex.net/get-lpc/12602567/e30e2a65-4066-452f-b8b1-94b945cd4a23/orig?width=336&height=420"}}],items:[{type:"link",title:"Умный дом\nс Алисой",id:"smart-home",link:"https://alice.yandex.ru/smart-home",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/12602567/97eb6253-a70d-47cd-81b4-ceb7e07b1a18/orig?width=696&height=856",light:"https://avatars.mds.yandex.net/get-lpc/12602567/97eb6253-a70d-47cd-81b4-ceb7e07b1a18/orig?width=696&height=856"}},{type:"link",title:"Умная розетка",id:"smart-home-socket",link:"https://alice.yandex.ru/smart-home/socket",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/10116223/249bb4ea-dd3e-4fdb-a69a-3ccafd5c927a/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/10116223/249bb4ea-dd3e-4fdb-a69a-3ccafd5c927a/orig?width=264&height=268"}},{type:"link",title:"Светодиодная\nлента",id:"smart-home-lightstrip",link:"https://alice.yandex.ru/smart-home/lightstrip",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/10116223/e1d388ce-197a-410e-898f-932ef99a0da7/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/10116223/e1d388ce-197a-410e-898f-932ef99a0da7/orig?width=264&height=268"}},{type:"link",title:"Датчики",id:"smart-home-sensors",link:"https://alice.yandex.ru/smart-home/sensors",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/12602567/5edbdc08-a882-4bad-8aee-f4c7d036e742/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/12602567/5edbdc08-a882-4bad-8aee-f4c7d036e742/orig?width=264&height=268"}},{type:"link",title:"Хаб",id:"smart-home-hub",link:"https://alice.yandex.ru/smart-home/hub",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/1635340/e6bc2e71-1ee4-4454-8607-495f67ae3541/orig?width=264&height=268",light:"https://avatars.mds.yandex.net/get-lpc/1635340/e6bc2e71-1ee4-4454-8607-495f67ae3541/orig?width=264&height=268"}},{type:"link",title:"Совместимые устройства",id:"smart-home-devices",link:"https://alice.yandex.ru/smart-home",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/12602567/f54320c7-2472-4dbe-b91d-72aa9d8fefc6/orig?width=336&height=340",light:"https://avatars.mds.yandex.net/get-lpc/12602567/f54320c7-2472-4dbe-b91d-72aa9d8fefc6/orig?width=336&height=340"}},{type:"link",title:"Приложение\nДом с Алисой",id:"smart-home-app",link:"https://3944830.redirect.appmetrica.yandex.com/?url=https%3A%2F%2Fyandex.ru%2Fiot%2F&appmetrica_tracking_id=605042109904339231",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/10116223/44e77c13-5de8-4ab0-a013-dce26818db19/orig?width=188&height=188",light:"https://avatars.mds.yandex.net/get-lpc/10116223/44e77c13-5de8-4ab0-a013-dce26818db19/orig?width=188&height=188"},iconUrl:"https://avatars.mds.yandex.net/get-lpc/9736426/84610311-0eda-44f7-9bef-cdb5d2aed164/orig?width=28&height=28"}]},{type:"category",title:"Об Алисе",id:"about",promo:[],items:[{type:"link",title:"Знакомство",id:"about",link:"https://alice.yandex.ru/about",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/1635340/2d200f8a-4d26-43c8-9394-571885f4d166/orig?width=336&height=420",light:"https://avatars.mds.yandex.net/get-lpc/1635340/2d200f8a-4d26-43c8-9394-571885f4d166/orig?width=336&height=420"}},{type:"link",title:"Опция Про",id:"pro",link:"https://alice.yandex.ru/pro",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/10116223/562407a2-6b60-45e4-ba29-d1a717e17acf/orig?width=336&height=420",light:"https://avatars.mds.yandex.net/get-lpc/10116223/562407a2-6b60-45e4-ba29-d1a717e17acf/orig?width=336&height=420"},badge:"pro"},{type:"link",title:"Каталог Навыков",id:"skills",link:"https://alice.yandex.ru/skills",imageUrl:{dark:"https://avatars.mds.yandex.net/get-lpc/10116223/b1da0f29-6fb1-4143-877a-cbb01ffd808c/orig?width=336&height=420",light:"https://avatars.mds.yandex.net/get-lpc/10116223/b1da0f29-6fb1-4143-877a-cbb01ffd808c/orig?width=336&height=420"}}]}],le=ae.filter((t=>"category"===t.type)),ce=(ae.filter((t=>"link"===t.type)),()=>{const{subscribe:t,set:e}=(0,a.fZ)({});return{subscribe:t,setCategory:t=>{const i=le.find((e=>e.id===t));e({category:i})},resetCategory:()=>{e({})}}}),de=({isStandaloneBuild:t,isMobile:e})=>{const i=(0,a.fZ)("enabled"),n=(0,a.fZ)(),r=(0,a.fZ)(""),s=t=>r.set(t),o=()=>{var t;return null==(t=(0,a.U2)(n))?void 0:t.blur()},{subscribe:l}=(0,a.nK)([i,r],(([t,e])=>({state:t,text:e,isEmpty:""===e.trim()})));return{inputField:n,textContent:r,setText:s,setState:t=>i.set(t),focus:()=>{var t;return null==(t=(0,a.U2)(n))?void 0:t.focus()},blur:o,submit:i=>{t&&e&&o();const n=(0,a.U2)(r).trim();n&&(s(""),i(n))},subscribe:l}};var he=i(3143);const pe=Symbol(),ue=()=>(0,n.fw)(pe),fe=({aliceKit:t,outputBus:e,os:i,userData:n,abFlags:r,testShortcuts:s,baseZIndex:o,isSafari:l,positionStatic:c,isFullscreenExp:d,aliceButterflyStores:h,standaloneStore:p,themeStore:u,toastStore:f,modalStore:m,rumCounters:g,isMobile:y,isDesktop:v,isLib:b,isStandaloneBuild:_,isYabroBuild:x,isStandaloneDebagExp:k,promoUrlIos:w,promoUrlAndroid:C,promoQrLink:E,howToSetUpMicLink:S,locationData:$})=>{const M=(0,K.l)(r,null!=n?n:{},$),I="ios"===i,D=((t,e,i={},n=!1)=>{const{isStaff:r,isInternalNetwork:s}=i,o=Boolean(!e.includes("alice_disable_in_region")||r||s),a=[{id:"1234",title:"Чат с Алисой",subtitle:"YaGPT",text:"новый",command:"",directives:[{type:"client_action",name:"open_uri",payload:{uri:"https://a.ya.ru",isNewTab:!0,skipOverride:!0,skipHideCloudElements:n}},{type:"client_action",name:"close_alice",payload:{}}],isVisible:o,type:"promo"},{id:"322",title:"YaART",subtitle:"Алиса, давай нарисуем",command:"Запусти навык Давай нарисуем",url:"https://yastatic.net/s3/home/alice_popup/image_generation.svg",isVisible:e.includes("alice_image_generation")&&e.includes("alice_image_generation_shortcut"),type:"default"},{id:"7",title:"YaGPT 2",subtitle:"Алиса, давай придумаем",command:"Запусти навык «Давай придумаем»",url:"https://yastatic.net/s3/home/alice_popup/alice-gpt4.svg",isVisible:!o,type:"default"},{id:"123",title:"Давай выберем",command:"Запусти навык Давай выберем товар",url:"https://yastatic.net/s3/home/alice_popup/ecomAssistant.svg",isVisible:e.includes("alice_ecom_dialog_shortcut_enable"),type:"default"}].filter((t=>t.isVisible));return a.length&&(a[0].shouldAnimateBorder=!0),[...t,...a,...oe.kl]})(s,r,n,x),A=r.includes("alice_enable_pro_test"),j=r.includes("alice_disable_distribution"),L=r.includes("alice_second_onboarding"),O=r.includes("alice_second_onboarding_force_welcome"),F=r.includes("alice_landing_header"),B=r.includes("alice_disable_model_switcher"),V=(({enableWelcomeScreen:t,forceWelcomeScreen:e})=>{const i=()=>"1"===localStorage.getItem(se),n=()=>localStorage.setItem(se,"1"),{subscribe:r,update:s}=(0,a.fZ)({type:"none",prev:"none",animate:!1}),o=t=>{s((e=>{return i=re(re({},e),t),n={prev:e.type},Jt(i,Qt(n));var i,n}))};return{isWelcomeShown:i,setWelcomeShown:n,subscribe:r,set:r=>{switch(r){case"welcome":return e?o({type:r,animate:!0}):i()||!t?o({type:"chat",animate:!1}):(n(),o({type:r,animate:!0}));case"chat":return o({type:r});default:return o({type:r,animate:!1})}}}})({enableWelcomeScreen:r.includes("alice_enable_welcome_screen"),forceWelcomeScreen:r.includes("alice_force_welcome_screen")});return{howToSetUpMicLink:S,shortcuts:D,promoUrlAndroid:C,promoUrlIos:w,promoQrLink:E,promoUrlMobile:I?w:C,os:i,isIOS:I,isSafari:l,baseZIndex:o,isSkillsLinkExp:r.includes("alice_skills_link"),isEnableProPromoExp:r.includes("alice_enable_pro_promo"),isEnableProTestExp:A,isProDistributionDisabled:j,isAliceEnableHasBorders:r.includes("alice_enable_has_borders"),isFullscreenExp:d,isSecondOnboardingExp:L,isSecondOnboardingForceWelcomeExp:O,isLandingHeaderExp:F,isAliceFullscreenRedirectExp:r.includes("alice_redirect_to_fullscreen"),isAliceEnableNewOknyxExp:null!=_&&_,isAliceDisableInRegion:r.includes("alice_disable_in_region"),isUserFrameShowLocale:r.includes("alice_user_frame_locale"),isDisableModelSwitcherExp:B,aliceButterflyStores:h,themeStore:u,toastStore:f,modalStore:m,screenStore:V,allChatsStore:Gt({isLib:b,isMobile:y,aliceKit:t,outputBus:e,status:M,aliceButterflyStores:h,isProDistributionDisabled:j,isLandingHeaderExp:F,isDisableModelSwitcherExp:B,isStandaloneBuild:_,isSecondOnboardingExp:L,isSecondOnboardingForceWelcomeExp:O,toastStore:f,screenStore:V}),rumCounters:g,aliceState:H(t),settingsStore:T(k),sidebarStore:P(e),standaloneStore:p,menuStore:ce(),inputStore:de({isStandaloneBuild:_,isMobile:y}),standaloneKeyboardStore:(0,a.fZ)({visible:void 0}),aliceKit:t,outputBus:e,isMobile:y,isDesktop:v,isLib:b,isStandaloneBuild:_,isYabroBuild:x,positionStatic:c,status:M,links:Kt($,y),isNewMetrika:r.includes("alice_new_metrica_counter"),fullscreenImageModal:(0,he.x)(m)}};var me=Object.defineProperty,ge=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,be=(t,e,i)=>e in t?me(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;const _e=({deeplink:t,deeplinkUrl:e,isLib:i,isStandaloneBuild:n,outputBus:r,locationData:s})=>{const o=(({locationData:t})=>{const e="alice_deeplink",i=new URL(t.href),n=i.searchParams.get(e);if(n)return i.searchParams.delete(e),X.m.setUrl({url:i.toString(),replace:!0}),n})({locationData:s}),a=null!=e?e:o,l=null!=t?t:a?(({rawDeeplink:t,isStandaloneBuild:e,outputBus:i})=>{try{const i=decodeURIComponent(t),n=JSON.parse(i);return e&&"skill"===n.type&&oe.MV.includes(n.id)&&(delete n.type,delete n.id),n}catch(e){i.emit("stat",{path:"deeplink.parse_error",eventType:"tech",customParams:{rawDeeplink:t,error:e instanceof Error?e.message:""}})}})({rawDeeplink:a,isStandaloneBuild:n,outputBus:r}):void 0;if(n&&!i){const t=X.m.getActiveChat(),e="chat"===t.type?"dedicated":t.type;return((t,e)=>{for(var i in e||(e={}))ye.call(e,i)&&be(t,i,e[i]);if(ge)for(var i of ge(e))ve.call(e,i)&&be(t,i,e[i]);return t})({id:t.id,type:e},l)}return l};var xe=Object.defineProperty,ke=Object.defineProperties,we=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,$e=(t,e,i)=>e in t?xe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Me=(t,e)=>{for(var i in e||(e={}))Ee.call(e,i)&&$e(t,i,e[i]);if(Ce)for(var i of Ce(e))Se.call(e,i)&&$e(t,i,e[i]);return t};const Ie=()=>{const t=(0,a.fZ)(),{subscribe:e,set:i}=t,n=e=>{var n;const s=(0,a.U2)(t);if(s){if(s.id===e.id)return;r(s)}i(e),null==(n=e.onOpen)||n.call(e)},r=e=>{var n,r;(null==(n=(0,a.U2)(t))?void 0:n.id)===e.id&&(null==(r=e.onClose)||r.call(e),i(void 0))},s=e=>{var i;(null==(i=(0,a.U2)(t))?void 0:i.id)===e.id?r(e):n(e)},o=new Map;return{create:(e,i)=>{const l=o.get(e.id);if(l)return Object.assign(l.info,e),i&&l.updateParams(i),l;const c=(0,a.fZ)(i),{subscribe:d}=(0,a.nK)([t,c],(([t,i])=>{return n=Me({},t),r={params:i,isOpen:(null==t?void 0:t.id)===e.id},ke(n,we(r));var n,r})),h={info:e,open:()=>n(e),close:()=>r(e),toggle:()=>s(e),updateParams:t=>{c.update((e=>Me(Me({},e),t)))},subscribe:d};return o.set(e.id,h),h},open:n,close:(e=(0,a.U2)(t))=>{e&&r(e)},toggle:s,subscribe:e}},De=new r.v,Te=pe;let Pe,Ae;function je(t,e,i){const{isMobile:n,isDesktop:r,isLib:s,isStandaloneBuild:a,isYabroBuild:l}=i,c=$(),d=k(De),h=new D(De);return{openOrCreate:({appId:p,yandexuid:u,topDomain:f,uniproxyUrl:m,vinsUrl:g,arpcUrl:y,baseZIndex:v=0,os:b,isSafari:_,overrideOpenUriDirective:x,theme:k,location:w,container:C,promoUrlIos:$,promoUrlAndroid:I,promoQrLink:D,howToSetUpMicLink:T,testShortcuts:P=[],isTablet:A,abFlags:j,startPhrase:L,preventListenOnStart:O,elementFocusOnClose:F,aliceExperiments:B=[],supportedFeatures:V=[],unsupportedFeatures:z=[],shouldOpenYaGpt:N=!1,yaGptOpenPhrase:R,deeplink:U,deeplinkUrl:H,userData:q,closeOnDialogDispose:G=!1,positionStatic:Z,hydrate:Y})=>{var W;c.set({hidden:!1,top:0}),h.markAppInitStart();const K=b.toLowerCase(),X=null!=_?_:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),J=j.includes("alice_desktop_fullscreen_chat")&&!a&&!n,Q=!(U||H||L||N||a||l),tt=Boolean(a&&!s&&((null==q?void 0:q.isStaff)||!1));if(!Ae){const t=[],n=[];for(const e of j)e.startsWith("alice_exp_")&&t.push(e),e.startsWith("alice_sf_")&&n.push(e);const r=j.includes("alice_enable_skills_standalone_div_render"),s=j.includes("alice_yandexart_scenario"),o=j.includes("alice_ignore_yandexart_limit"),c=j.includes("alice_yandexart_nsfw"),v=j.includes("alice_uniproxy_server_pings"),b=j.includes("alice_image_generation");Ae=e({topDomain:f,uniproxyUrl:m,vinsUrl:g,arpcUrl:y,locationData:window.location,appId:p,isSafari:X,location:w,os:K,yandexuid:u,isYabroBuild:l,isStandaloneBuild:a,isFullscreenExp:J,experiments:B.concat(i.experiments||[]).concat(t).concat(tt?["analytics_info"]:[]).concat(r?["skills_standalone_use_div_render","standalone_skill_card_cloud_ui"]:[]).concat(s?["draw_picture_yandex_art"]:[]).concat(o?["ignore_shedevrum_generation_limit"]:[]).concat(c?["draw_picture_disable_moderation"]:[]).concat(v?["use_server_pings"]:[]),supportedFeatures:V.concat(n).concat(i.supportedFeatures||[]).concat(b?["supports_yart_skill_image_generation"]:[]),unsupportedFeatures:z.concat(i.unsupportedFeatures||[]),outputBus:De,aliceButterflyStores:d,rumCounters:h})}if(null==(W=null==navigator?void 0:navigator.permissions)?void 0:W.query){const t="microphone";navigator.permissions.query({name:t}).then((t=>{De.emit("stat",{path:"permission_microphone."+t.state,eventType:"tech"})})).catch((t=>{De.emit("stat",{path:"permission_microphone.query_error",eventType:"tech"})}))}if(Pe)Q&&Ae.checkPermissionAndStartVoiceInput({skipMicSounds:!0}),Pe.$set({hidden:!1,startPhrase:L,shouldOpenYaGpt:N,yaGptOpenPhrase:R,deeplink:U,closeOnDialogDispose:G});else{const e=E({isStandaloneBuild:a,locationData:window.location}),i=(0,S.h)({pageLifecycleBus:o()}),p=Ie(),u=fe({aliceKit:Ae,outputBus:De,os:K,userData:q,abFlags:j,testShortcuts:P,baseZIndex:v,isSafari:X,positionStatic:Z,isFullscreenExp:J,aliceButterflyStores:d,standaloneStore:c,themeStore:e,toastStore:i,modalStore:p,rumCounters:h,isMobile:n,isDesktop:r,isLib:s,isStandaloneBuild:a,isYabroBuild:l,isStandaloneDebagExp:tt,promoUrlIos:$,promoUrlAndroid:I,promoQrLink:D,howToSetUpMicLink:T,locationData:window.location}),f=new Map([[Te,u]]);Pe=new t({target:C,hydrate:Y,props:{hidden:!1,outputBus:De,overrideOpenUriDirective:x,theme:k,isTablet:A,startPhrase:L,preventListenOnStart:O,elementFocusOnClose:F,shouldOpenYaGpt:N,yaGptOpenPhrase:R,deeplink:_e({deeplink:U,deeplinkUrl:H,isLib:s,isStandaloneBuild:a,outputBus:De,locationData:window.location}),closeOnDialogDispose:G,userData:s&&!j.includes("alice_pro_allowed")?{hasStandaloneAccess:!0,isLoggedUser:!0}:q},context:f}),l&&M().then((t=>Ae.updateRequestConfig({location:t}))).catch((t=>{throw t})),a&&!s&&e.subscribe((t=>{const e=t.theme;Pe.$set({theme:e})}))}De.emit("stat",{path:`theme.${k}`,eventType:"tech"})},changeTheme:t=>{if(!Pe)throw Error("Application isn't created");Pe.$set({theme:t})},hide:()=>{Pe&&Pe.$set({hidden:!0})},outputBus:De}}},9528:(t,e,i)=>{i.d(e,{t:()=>n});const n=t=>[{id:0,tag:"p",attrs:{},text:t}]},8937:(t,e,i)=>{i.d(e,{Wz:()=>r,aq:()=>s,lD:()=>n});const n="",r="alice.chat",s="alice.history"},7258:(t,e,i)=>{i.d(e,{Kf:()=>u,Os:()=>k,Uu:()=>g,VJ:()=>b,bK:()=>m,dX:()=>f,f:()=>y,xn:()=>v});var n=i(9738),r=Object.defineProperty,s=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(t,e,i)=>e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,h=(t,e)=>{for(var i in e||(e={}))l.call(e,i)&&d(t,i,e[i]);if(a)for(var i of a(e))c.call(e,i)&&d(t,i,e[i]);return t},p=(t,e)=>s(t,o(e));const u=(t,e)=>t.findIndex((t=>t.requestId===e)),f=t=>p(h({},t),{bubbles:t.bubbles.filter((t=>"text"!==t.type||t.text))}),m=t=>p(h({},t),{isStreaming:!1,bubbles:t.bubbles.map((t=>"text"===t.type?p(h({},t),{isProgressive:!1,isAnimatingEnded:!0}):t))}),g=t=>Boolean("text"===t.type&&t.isProgressive&&!t.isAnimatingEnded),y=t=>Boolean(t.isStreaming)||t.bubbles.some(g),v=t=>{const e=(0,n.CT)(t);return!(!e||e.hidden||y(e))&&(e.isUserAuthor?!e.bubbles.length&&v(t.slice(0,-1)):Boolean(e.bubbles.length))},b=(t,e,i)=>{switch(i){case"merge":return _(t,e);case"update":return x(t,e);case"replace":return e}},_=(t,e)=>{const i=[...t];return e.forEach((t=>{const e=i.findIndex((e=>e.id===t.id)),n=((t,e)=>e&&"text"===e.type&&"text"===t.type?p(h({},t),{text:t.text||e.text,isProgressive:t.isProgressive||e.isProgressive,isAnimatingEnded:t.isAnimatingEnded||e.isAnimatingEnded}):h({},t))(t,i[e]);-1!==e?i[e]=n:i.push(n)})),i},x=(t,e)=>t.map((t=>{var i;return null!=(i=e.find((e=>e.id===t.id)))?i:t})),k=t=>{const e=t.findIndex(g);return-1===e?t:t.slice(0,e+1)}},5268:(t,e,i)=>{i.d(e,{Yl:()=>l,ux:()=>d});var n=i(9162),r=i(3044),s=i(233),o=i(6437);const a=t=>{if(""!==t)try{return JSON.parse(t)}catch(t){}},l=t=>"ls"===t.type,c=t=>"object"==typeof t&&null!==t&&"request"in t,d=(t,e)=>{if(!t)return[];const i=(t,i)=>{e.emit("errorThrown",(0,r.toError)(t,{scope:"store-wrappers",request_id:i}),"warn")};return t.map((({content:t,history_message_id:e,message_mark:r,ts_ms:l,request_id:d})=>{var h;const p=[],u=[];return c(t)?p.push({id:(0,o.O1)(),type:"text",text:t.request.request_text}):null==(h=t.response.cards)||h.forEach((t=>{if(t.text_card)return t.text_card.text?void p.push({id:(0,o.O1)(),type:"text",text:t.text_card.text}):void i("Invalid text_card",d);if(t.text_with_buttons_card)return t.text_with_buttons_card.text?void p.push({id:(0,o.O1)(),type:"text",text:t.text_with_buttons_card.text,buttons:t.text_with_buttons_card.buttons||[]}):void i("Invalid text_with_buttons_card",d);if(t.div2_card){const{div2_card:e}=t,n=e.string_body?a(e.string_body):e.body;if(!n)return void i("Invalid div2_card",d);const{palette:r}=e,{light:s={},dark:l={}}=r||{};p.push({id:(0,o.O1)(),type:"divJson",hideBorders:e.hide_borders,divJson:{card:n.card,templates:n.templates,palette:r?{light:Object.keys(s).map((t=>({name:t,color:s[t]}))),dark:Object.keys(l).map((t=>({name:t,color:l[t]})))}:void 0}})}else{if(t.rich_json_card){const e=a(t.rich_json_card.body||"");return e?void p.push({id:(0,o.O1)(),type:"richJson",richJson:e}):void i("Invalid rich_json_card",d)}if(t.sources_card)return t.sources_card.sources?void u.push(...t.sources_card.sources):void i("Invalid sources_card",d);i("Invalid card",d)}})),{isUserAuthor:c(t),id:e,requestId:d,bubbles:p,sources:(0,s.n)(u),date:new Date(Number(l)),mark:null!=r?r:n.MessageMark.NOT_SET}})).filter((t=>Boolean(t.bubbles.length)))}},1174:(t,e,i)=>{i.d(e,{h:()=>h,p:()=>c});var n=i(4950),r=i(9738),s=i(9965),o=i(7835),a=i(1887),l=i(7941),c=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.SUCCESS=1]="SUCCESS",t))(c||{});const d={id:"",type:0,time:4e3,text:"",statName:"",onCancel:a.Z,onDestroy:a.Z},h=({pageLifecycleBus:t})=>{const e=[],i=new Set,a=()=>(e.slice().forEach((t=>{t.destroy()})),Promise.all(i)),{set:c,subscribe:h}=(0,n.fZ)(void 0,(()=>t.subscribe("leave",a))),p=()=>{c((0,r.CT)(e))},u=()=>{const t=e.slice(),i=t.length-1,n=t[0],r=t[i];if(!r.cancelable&&n.cancelable){for(let e=1;e<i;e++)t[e].destroy();const e=Math.min(r.time,1e3);clearTimeout(r._internal.timer),r._internal.timer=Number(setTimeout(r.destroy,e,!0));const s=n.time+e;return clearTimeout(n._internal.timer),void(n._internal.timer=Number(setTimeout(n.destroy,s,!0)))}for(let e=0;e<i;++e)t[e].destroy();clearTimeout(r._internal.timer),r._internal.timer=Number(setTimeout(r.destroy,r.time,!0))},f=t=>(0,r.qr)(e,(e=>e.id===t)),m=(t,n)=>{const{id:r=(0,o.L)(),type:a=n.type,time:c=n.time,text:h=n.text,statName:u=n.statName,onCancel:m=d.onCancel,onDestroy:g=d.onDestroy}=t,y=m!==d.onCancel,v={timer:0,dispose:l.k},b=()=>{i.delete(v.dispose)},_=(0,s.h)(((t,n)=>{clearTimeout(v.timer),v.dispose=(0,l.O)(t,!n&&(t=>{const{length:i}=e;return 0===i||e[i-1].id===t})(r)).then(b,b),i.add(v.dispose);const s=f(r);return-1!==s&&(e.splice(s,1),p()),v.dispose}));return{id:r,type:a,time:c,text:h,statName:u,cancelable:y,cancel:()=>_(m,!1),destroy:(t=!1)=>_(g,t),dispose:b,onCancel:m,onDestroy:g,_internal:v}},g=t=>{const i=m(t,d);return e.push(i),u(),p(),i};return{create:g,replace:(t,i)=>{const n=f(t);if(-1!==n){const t=e[n];t.destroy();const r=m(i,t);return e[n]=r,u(),p(),r}return g(i)},destroyAll:a,subscribe:h}}},9738:(t,e,i)=>{i.d(e,{CT:()=>r,V4:()=>n,qr:()=>s});const n=(...t)=>Array.from(new Set(t.flat())),r=t=>t[t.length-1],s=(t,e)=>{let i=t.length-1;for(;i>=0;){if(e(t[i]))return i;i-=1}return-1}},9965:(t,e,i)=>{i.d(e,{h:()=>n});const n=t=>{let e,i=!1;return(...n)=>(i||(i=!0,e=t(...n)),e)}},7835:(t,e,i)=>{i.d(e,{L:()=>n});const n=()=>((t="xxxx-xxxx-xxxx-xxxx")=>t.replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})))("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")},6517:(t,e,i)=>{i.d(e,{t:()=>n});const n=t=>"onboarding"===t.card.log_id},8037:(t,e,i)=>{i.d(e,{$o:()=>s,G:()=>o,Jj:()=>r,k$:()=>n});const n=()=>location,r=()=>window,s=()=>window.localStorage,o=()=>window.sessionStorage},711:(t,e,i)=>{i.d(e,{v:()=>n});class n{constructor(){this._events={}}on(t,e){(this._events[t]||(this._events[t]=[])).push(e)}off(t,e){const i=this._events[t];if(!i)return;const n=i.indexOf(e);n>=0&&i.splice(n,1)}once(t,e){const i=()=>{this.off(t,e),this.off(t,i)};this.on(t,e),this.on(t,i)}subscribe(t,e){return this.on(t,e),()=>{this.off(t,e)}}emit(t,...e){const i=this._events[t];i&&i.slice().forEach((t=>{t.apply(void 0,e)}))}}},6336:(t,e,i)=>{i.d(e,{A:()=>n});const n=t=>{var e;return(null==(e=document.cookie.match(`(^|;)\\s*${t}\\s*=\\s*([^;]+)`))?void 0:e.pop())||""}},7711:(t,e,i)=>{i.d(e,{O:()=>n,l:()=>s});var n=(t=>(t.BASE_UNLOGGED="base_unlogged",t.BASE_LOGGED="base_logged",t.PRO="pro",t))(n||{});const r=t=>t?"base_logged":"base_unlogged",s=(t,e,i)=>{const{isProStatus:n,isLoggedUser:s=!1}=e;return t.includes("alice_force_status_pro")?"pro":t.includes("alice_force_status_base")?r(s):n?"pro":r(s)}},5318:(t,e,i)=>{var n,r;function s(){return s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s.apply(this,arguments)}i.d(e,{m:()=>m}),function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(n||(n={})),function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(r||(r={}));var o="beforeunload";function a(t){t.preventDefault(),t.returnValue=""}function l(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}var c=function(t){void 0===t&&(t={});var e=t.window,i=void 0===e?document.defaultView:e,n=i.history;function c(){var t=i.location,e=t.pathname,r=t.search,s=t.hash,o=n.state||{};return[o.idx,{pathname:e,search:r,hash:s,state:o.usr||null,key:o.key||"default"}]}var d=null;i.addEventListener("popstate",(function(){if(d)g.call(d),d=null;else{var t=r.Pop,e=c(),i=e[0],n=e[1];if(g.length){if(null!=i){var s=u-i;s&&(d={action:t,location:n,retry:function(){k(-1*s)}},k(s))}}else x(t)}}));var h=r.Pop,p=c(),u=p[0],f=p[1],m=l(),g=l();function y(t){return"string"==typeof t?t:(i=(e=t).pathname,n=void 0===i?"/":i,r=e.search,s=void 0===r?"":r,o=e.hash,a=void 0===o?"":o,s&&"?"!==s&&(n+="?"===s.charAt(0)?s:"?"+s),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n);var e,i,n,r,s,o,a}function v(t,e){return void 0===e&&(e=null),s({pathname:f.pathname,hash:"",search:""},"string"==typeof t?function(t){var e={};if(t){var i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));var n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}(t):t,{state:e,key:Math.random().toString(36).substr(2,8)})}function b(t,e){return[{usr:t.state,key:t.key,idx:e},y(t)]}function _(t,e,i){return!g.length||(g.call({action:t,location:e,retry:i}),!1)}function x(t){h=t;var e=c();u=e[0],f=e[1],m.call({action:h,location:f})}function k(t){n.go(t)}return null==u&&(u=0,n.replaceState(s({},n.state,{idx:u}),"")),{get action(){return h},get location(){return f},createHref:y,push:function t(e,s){var o=r.Push,a=v(e,s);if(_(o,a,(function(){t(e,s)}))){var l=b(a,u+1),c=l[0],d=l[1];try{n.pushState(c,"",d)}catch(t){i.location.assign(d)}x(o)}},replace:function t(e,i){var s=r.Replace,o=v(e,i);if(_(s,o,(function(){t(e,i)}))){var a=b(o,u),l=a[0],c=a[1];n.replaceState(l,"",c),x(s)}},go:k,back:function(){k(-1)},forward:function(){k(1)},listen:function(t){return m.push(t)},block:function(t){var e=g.push(t);return 1===g.length&&i.addEventListener(o,a),function(){e(),g.length||i.removeEventListener(o,a)}}}}();const d="chat",h="skill",p=t=>{const e=c.location.pathname.split("/").filter(Boolean),i=e.indexOf(t)+1;if(i&&e.length>i)return e[i]},u=({url:t="/",replace:e=!1}={})=>{e?c.replace(t,c.location.state):c.push(t)},f=()=>{var t;const e=p(h),i=p(d);return{id:null!=(t=null!=e?e:i)?t:"",type:e?h:d}},m={setUrl:u,setActiveChat:({id:t,type:e,replace:i})=>{const{search:n,hash:r}=c.location,s=function(t){var e=t.pathname,i=void 0===e?"/":e,n=t.search,r=void 0===n?"":n,s=t.hash,o=void 0===s?"":s;return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),o&&"#"!==o&&(i+="#"===o.charAt(0)?o:"#"+o),i}({pathname:t?`/${e}/${t}/`:"/",search:n,hash:r});u({url:s,replace:i})},getActiveChat:f,onNavigate:t=>{c.listen((({action:e})=>{if(e!==n.Pop)return;const{id:i}=f();t(i)}))}}},1887:(t,e,i)=>{i.d(e,{Z:()=>n});const n=()=>{}},7941:(t,e,i)=>{i.d(e,{O:()=>r,k:()=>n});const n=Promise.resolve(),r=(t,...e)=>new Promise((i=>i(t(...e))))},233:(t,e,i)=>{i.d(e,{e:()=>r,n:()=>n});const n=t=>{const e=[];return null==t||t.forEach((t=>{try{e.push(new URL(t))}catch(t){}})),e},r=(t,e)=>t&&t.length?[{title:"На основе:"},...t.map((t=>({iconLink:`https://favicon.yandex.net/favicon/v2/${t.origin}?size=32&stub=1`,text:t.hostname,href:t.href,onClick:e})))]:[]},6437:(t,e,i)=>{i.d(e,{O1:()=>r,xd:()=>o});const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-",r=(t=20)=>Array.from({length:t},(()=>n.charAt(Math.floor(Math.random()*n.length)))).join(""),s=/(^|(\s|[^\p{N}\p{L}])+)\S+(\s+$)?/gu,o=t=>t.match(s)||[]},7047:(t,e,i)=>{i.d(e,{P:()=>n});const n=(t,e=0,i=!0)=>{let n,r=i,s=0,o=!1;function a(...a){if(o)return;const l=Date.now()-s;s=Date.now(),i&&l>=e&&(r=!0),r?(r=!1,t.apply(this,a)):(clearTimeout(n),n=setTimeout((()=>{s=Date.now(),t.apply(this,a)}),e))}return a.cancel=()=>{clearTimeout(n),o=!0},a}},41:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.transformOggToCaf=void 0;var n=i(498);Object.defineProperty(e,"transformOggToCaf",{enumerable:!0,get:function(){return n.transformOggToCaf}})},8622:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createCaf=void 0;const n=i(3643),r=i(3564),s=[6553601,6619138,7405571,7077892,7798789];e.createCaf=t=>{const e=new Uint8Array(128+t.t.length+t.d.length),i=new DataView(e.buffer);let o=0;return(0,n.writeBinaryFlagCaff)(e,o),o+=4,i.setUint16(o,1,!1),o+=2,o+=2,(0,n.writeBinaryFlagDesc)(e,o),o+=4,(0,r.setBigInt64)(i,o,32),o+=8,i.setFloat64(o,t.s,!1),o+=8,(0,n.writeBinaryFlagOpus)(e,o),o+=4,o+=4,o+=4,i.setUint32(o,t.f,!1),o+=4,i.setUint32(o,t.c,!1),o+=4,o+=4,(0,n.writeBinaryFlagChan)(e,o),o+=4,(0,r.setBigInt64)(i,o,12),o+=8,i.setUint32(o,s[t.c-1],!1),o+=4,o+=4,o+=4,(0,n.writeBinaryFlagData)(e,o),o+=4,(0,r.setBigInt64)(i,o,4+t.d.length),o+=8,o+=4,e.set(t.d,o),o+=t.d.length,(0,n.writeBinaryFlagPakt)(e,o),o+=4,(0,r.setBigInt64)(i,o,24+t.t.length),o+=8,(0,r.setBigInt64)(i,o,t.p),o+=8,(0,r.setBigInt64)(i,o,t.p*t.f),o+=8,o+=4,o+=4,e.set(t.t,o),e.buffer}},3643:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.writeBinaryFlagOpus=e.writeBinaryFlagChan=e.writeBinaryFlagPakt=e.writeBinaryFlagData=e.writeBinaryFlagDesc=e.writeBinaryFlagCaff=e.checkBinaryFlagOpusTags=e.checkBinaryFlagOpusHead=e.checkBinaryFlagOggS=void 0;const i=(t,e,i,n,r,s)=>t[e]===i&&t[e+1]===n&&t[e+2]===r&&t[e+3]===s;e.checkBinaryFlagOggS=(t,e)=>i(t,e,79,103,103,83);const n=(t,e)=>i(t,e,79,112,117,115);e.checkBinaryFlagOpusHead=(t,e)=>n(t,e)&&i(t,e+4,72,101,97,100),e.checkBinaryFlagOpusTags=(t,e)=>n(t,e)&&i(t,e+4,84,97,103,115);const r=(t,e,i,n,r,s)=>{t[e]=i,t[e+1]=n,t[e+2]=r,t[e+3]=s};e.writeBinaryFlagCaff=(t,e)=>r(t,e,99,97,102,102),e.writeBinaryFlagDesc=(t,e)=>r(t,e,100,101,115,99),e.writeBinaryFlagData=(t,e)=>r(t,e,100,97,116,97),e.writeBinaryFlagPakt=(t,e)=>r(t,e,112,97,107,116),e.writeBinaryFlagChan=(t,e)=>r(t,e,99,104,97,110),e.writeBinaryFlagOpus=(t,e)=>r(t,e,111,112,117,115)},498:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.transformOggToCaf=void 0;const n=i(8622),r=i(3643),s=i(2476),o=i(3564);e.transformOggToCaf=t=>{const e=new Uint8Array(t),i=new DataView(t);let a=0;const l={};for(;a<e.length;){if(!(0,r.checkBinaryFlagOggS)(e,a))throw new Error("OGG_PAGE_INCOMPLETE");{const t=(0,s.parseOggPage)(e,i,a);1===t.m&&(l.c=t.c,l.s=t.s),2===t.m&&(l.d?(l.d=(0,o.concatBinary)(l.d,t.d),l.t.push(...t.t),l.p+=t.p):(l.d=t.d,l.t=t.t,l.p=t.p,l.f=Math.floor(t.f*l.s/1e3))),a=t.e}}return(0,n.createCaf)(l)}},2476:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseOggPage=void 0;const n=i(3643),r=[10,20,40,60,10,20,40,60,10,20,40,60,10,20,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20];e.parseOggPage=(t,e,i)=>{i+=26;const s=e.getUint8(i),o=((t,e,i)=>{let n=0;const r=[],s=t=>{const e=[];for(;t>127;t=Math.floor(t/128))e.unshift(t%128);e.unshift(t);for(let t=0,i=e.length-1;t<i;++t)e[t]=128|e[t];n+=1,r.push(...e)};let o=0,a=0,l=0,c=0;for(let n=0;n<i;++n){const i=t.getUint8(e+n);o+=i,l>0||(255===i?a+=i:(i>0||a>0)&&(l=i+a)),255===i?c+=i:c>0?(c+=i,s(c),c=0):i>0&&s(i)}return{e:i,p:n,s:o,t:r}})(e,i+=1,s);if(i+=o.e,(0,n.checkBinaryFlagOpusTags)(t,i))return{m:0,e:i+=o.s};if((0,n.checkBinaryFlagOpusHead)(t,i)){const t=i+o.s;i+=9;const n=e.getUint8(i);return i+=3,{m:1,e:t,c:n,s:e.getUint32(i,!0)}}const a=e.getUint8(i),l=r[(248&a)>>>3],c=i+o.s,d=t.subarray(i,c);return{m:2,e:c,f:l,t:o.t,p:o.p,d}}},3564:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatBinary=e.setBigInt64=void 0;const i=4294967296;e.setBigInt64=(t,e,n)=>{t.setInt32(e,n/i,!1),t.setUint32(e+4,n%i,!1)},e.concatBinary=(t,e)=>{const i=new Uint8Array(t.length+e.length);return i.set(t,0),i.set(e,t.length),i}},3044:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toError=void 0;const n=i(1549);e.toError=(t,i)=>{let r="Unknown error";if((0,n.isRecord)(t)){if(t instanceof Error)return Object.assign(t,{cause:Object.assign({},t.cause,i)});if("message"in t)r=String(t.message);else try{r=JSON.stringify(t,Object.getOwnPropertyNames(t))}catch(t){}}else r=String(t);const s=new Error(r,{cause:i});return(Error.captureStackTrace||n.noop)(s,e.toError),Object.assign(s,{cause:i})}},631:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createEvents=void 0;const r=n(i(9391));e.createEvents=()=>{const t=(0,r.default)();return Object.assign(Object.assign({},t),{once:(e,i)=>{const n=r=>{t.off(e,n),i(r)};t.on(e,n)}})}},3053:(t,e)=>{var i,n;Object.defineProperty(e,"__esModule",{value:!0}),e.TBiometryClassification_EConfidence=e.EEventType=e.protobufPackage=void 0,e.protobufPackage="NAlice",(n=e.EEventType||(e.EEventType={})).voice_input="voice_input",n.text_input="text_input",n.suggested_input="suggested_input",n.image_input="image_input",n.music_input="music_input",n.server_action="server_action",n.hybrid_asr_partial_result="hybrid_asr_partial_result",(i=e.TBiometryClassification_EConfidence||(e.TBiometryClassification_EConfidence={})).low="low",i.high="high"},7934:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.TAlice2ModeInfo_EMode=e.protobufPackage=void 0,e.protobufPackage="NAlice.NApi.NAlice2Mode",(i=e.TAlice2ModeInfo_EMode||(e.TAlice2ModeInfo_EMode={})).Undefined="Undefined",i.Base="Base",i.Pro="Pro"},7482:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.EAsrResponseCode=e.protobufPackage=void 0,e.protobufPackage="NAlice.NAliceApi",(i=e.EAsrResponseCode||(e.EAsrResponseCode={})).OK="OK",i.InternalError="InternalError"},145:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.EDislikeReason=e.protobufPackage=void 0,e.protobufPackage="NAlice",(i=e.EDislikeReason||(e.EDislikeReason={})).LostDialogTopic="LostDialogTopic",i.InaccuracyOrError="InaccuracyOrError",i.OutdatedInformation="OutdatedInformation",i.LackOfInformation="LackOfInformation",i.UnclearAnswer="UnclearAnswer",i.OffensiveAnswer="OffensiveAnswer",i.Other="Other"},3771:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUniproxyController=void 0;const n=i(4916),r=i(3133),s=i(9804);e.createUniproxyController=t=>{let e=2;const i=()=>{e=2};t.on("open",i),t.on("close",i);const o=new Map,a=()=>{t.disconnect(r.KitWebSocketCloseCode.CUSTOM_TIMEDOUT)};t.on("close",(()=>{o.forEach((t=>{window.clearTimeout(t)})),o.clear()}));let l=0;return t.on("close",(()=>{window.clearTimeout(l)})),{send:i=>{const{header:r}=i.event,l=r.messageId||(0,n.createUUID)();r.messageId=l;const c=(0,s.isHeaderNamed)(r,"Vins","TextInput")||(0,s.isHeaderNamed)(r,"Vins","VoiceInput");return((i,n)=>{const{header:r}=i.event;r.seqNumber=e,t.send(i)?(e+=1,n()):t.once("open",(()=>{r.seqNumber=e,t.send(i),e+=1,n()}))})(i,(()=>{c&&o.set(l,window.setTimeout(a,5e3))})),l},pong:(e,i)=>{window.clearTimeout(l),i&&(l=window.setTimeout(a,i+1e3)),t.send((0,s.createRequest)({namespace:"System",name:"Pong",messageId:(0,n.createUUID)(),refMessageId:e},{}))},ack:t=>{if(!t)return;const e=o.get(t);e&&(o.delete(t),window.clearTimeout(e))}}}},9777:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUniproxy=void 0;const n=i(4871),r=i(4916),s=i(3044),o=i(631),a=i(3133),l=i(9804),c=i(1200),d=i(3771),h=i(2386);e.createUniproxy=({url:t,state:e})=>{const i=(0,a.createWebSocket)(t),p=(0,o.createEvents)(),u={code:n.KitUniproxyStatusCode.CONNECTING,closed:null},f=t=>{p.emit("status",Object.assign(u,t))},m=(0,c.createUniproxyNetwork)();let g=0,y=1e3;const v=()=>{f({code:n.KitUniproxyStatusCode.CONNECTING}),i.connect()};i.on("open",(()=>{window.clearTimeout(g),i.send((0,l.createRequest)({namespace:"System",name:"SynchronizeState",seqNumber:1,messageId:(0,r.createUUID)()},e())),f({code:n.KitUniproxyStatusCode.OPEN})})),i.on("close",(t=>{window.clearTimeout(g),g=window.setTimeout(v,y),f({code:n.KitUniproxyStatusCode.CLOSED,closed:t})})),i.on("error",(t=>{p.emit("error",t)}));const b=(0,d.createUniproxyController)(i),_=(0,h.createUniproxyStream)(i);return _.on("streamcontrol",(t=>{p.emit("streamcontrol",t)})),i.on("message",(t=>{if((0,l.isResponse)(t)){if(b.ack(t.directive.header.refMessageId),(0,l.isAliceAck)(t))return;return(0,l.isAlicePing)(t)?void b.pong(t.directive.header.messageId,t.directive.payload.ping_timeout_milliseconds):(0,l.isAliceResponse)(t)?void p.emit("response",t.directive):(0,l.isAliceDeferedResponse)(t)?void p.emit("deferedresponse",t.directive):(0,l.isAliceASR)(t)?void p.emit("asr",t.directive):(0,l.isAliceTTS)(t)?void p.emit("tts",t.directive):(0,l.isAliceError)(t)?void p.emit("error",(0,s.toError)(t.directive.payload.error,{scope:"uniproxy",header:t.directive.header})):(0,l.isAliceInvalidAuth)(t)?void p.emit("error",(0,s.toError)("INVALID_AUTH",{scope:"uniproxy",header:t.directive.header})):void p.emit("unknown",t.directive)}(0,l.isStreamControl)(t)?p.emit("streamcontrol",t.streamcontrol):p.emit("error",(0,s.toError)("UNKNOWN_RESPONSE",{scope:"uniproxy",raw:t}))})),i.on("binary",(t=>{if(t.byteLength<4)return void p.emit("error",(0,s.toError)("UNKNOWN_BINARY",{scope:"uniproxy"}));const e=new DataView(t);p.emit("streamdata",{streamId:e.getUint32(0),data:t.slice(4)})})),m.on("online",(()=>{window.clearTimeout(g),y=1e3,u.code===n.KitUniproxyStatusCode.CLOSED&&v()})),m.on("offline",(()=>{window.clearTimeout(g),y=1e4,u.code===n.KitUniproxyStatusCode.OPEN&&v()})),v(),{stream:_,status:u,send:(t,e)=>b.send((0,l.createRequest)(t,e)),on:p.on,once:p.once,off:p.off}}},1200:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUniproxyNetwork=void 0;const n=i(631);e.createUniproxyNetwork=()=>{const t=(0,n.createEvents)();let e=navigator.onLine;const i=()=>{e!==navigator.onLine&&(e=navigator.onLine,t.emit(e?"online":"offline"))},{connection:r}=navigator;if(r){const n=()=>{"none"===r.type?e&&(e=!1,t.emit("offline")):i()};"function"==typeof r.addEventListener?r.addEventListener("change",n):r.onchange=n}return window.addEventListener("online",i),window.addEventListener("offline",i),{on:t.on,once:t.once,off:t.off}}},2386:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUniproxyStream=void 0;const n=i(631),r=i(4871);e.createUniproxyStream=t=>{const e=(0,n.createEvents)();let i=1;const s=()=>{i=1};return t.on("open",s),t.on("close",s),{send:(e,i)=>{const n=((t,e)=>{const i=new Uint32Array(1);return new DataView(i.buffer).setUint32(0,t,!1),new Blob([i,e])})(e,i);t.send(n)||t.once("open",(()=>{t.send(n)}))},open:()=>{const t=i;return i+=2,t},close:(i,n,s=0)=>{const o={action:r.KitUniproxyStreamControlAction.CLOSE,reason:s,streamId:i,messageId:n};e.emit("streamcontrol",o),t.send({streamcontrol:o})},on:e.on,once:e.once,off:e.off}}},6293:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.KitUniproxyStatusCode=void 0,(i=e.KitUniproxyStatusCode||(e.KitUniproxyStatusCode={}))[i.CONNECTING=1]="CONNECTING",i[i.CLOSED=0]="CLOSED",i[i.OPEN=2]="OPEN"},5455:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KitUniproxyFeedbackReason=e.KitUniproxyDirectiveEventType=void 0;var n=i(3053);Object.defineProperty(e,"KitUniproxyDirectiveEventType",{enumerable:!0,get:function(){return n.EEventType}});var r=i(145);Object.defineProperty(e,"KitUniproxyFeedbackReason",{enumerable:!0,get:function(){return r.EDislikeReason}})},4871:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(6293),e),r(i(5455),e),r(i(5227),e),r(i(6545),e),r(i(6486),e)},5227:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},6545:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KitUniproxyASRResponseCode=void 0;var n=i(7482);Object.defineProperty(e,"KitUniproxyASRResponseCode",{enumerable:!0,get:function(){return n.EAsrResponseCode}})},6486:(t,e)=>{var i,n;Object.defineProperty(e,"__esModule",{value:!0}),e.KitUniproxyStreamControlReason=e.KitUniproxyStreamControlAction=void 0,(n=e.KitUniproxyStreamControlAction||(e.KitUniproxyStreamControlAction={}))[n.CHUNK=1]="CHUNK",n[n.NEXT_CHUNK=3]="NEXT_CHUNK",n[n.CLOSE=0]="CLOSE",n[n.SPOTTER_END=2]="SPOTTER_END",(i=e.KitUniproxyStreamControlReason||(e.KitUniproxyStreamControlReason={}))[i.NO_ERROR=0]="NO_ERROR",i[i.STREAM_CLOSED=5]="STREAM_CLOSED",i[i.REFUSED_STREAM=7]="REFUSED_STREAM",i[i.CANCEL=8]="CANCEL"},9804:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createRequest=e.isAliceInvalidAuth=e.isAliceError=e.isAlicePing=e.isAliceAck=e.isAliceASR=e.isAliceTTS=e.isAliceDeferedResponse=e.isAliceResponse=e.isHeaderNamed=e.isResponse=e.isStreamControl=void 0;const n=i(7588);e.isStreamControl=t=>(0,n.isRecord)(t)&&(0,n.isRecord)(t.streamcontrol),e.isResponse=t=>(0,n.isRecord)(t)&&(0,n.isRecord)(t.directive)&&(0,n.isRecord)(t.directive.header)&&(0,n.isRecord)(t.directive.payload),e.isHeaderNamed=(t,e,i)=>t.namespace===e&&t.name===i,e.isAliceResponse=t=>(0,e.isHeaderNamed)(t.directive.header,"Vins","VinsResponse"),e.isAliceDeferedResponse=t=>(0,e.isHeaderNamed)(t.directive.header,"Vins","DeferredAliceResponse"),e.isAliceTTS=t=>(0,e.isHeaderNamed)(t.directive.header,"TTS","Speak"),e.isAliceASR=t=>(0,e.isHeaderNamed)(t.directive.header,"ASR","Result"),e.isAliceAck=t=>(0,e.isHeaderNamed)(t.directive.header,"System","InputStartAck"),e.isAlicePing=t=>(0,e.isHeaderNamed)(t.directive.header,"System","Ping"),e.isAliceError=t=>(0,e.isHeaderNamed)(t.directive.header,"System","EventException"),e.isAliceInvalidAuth=t=>(0,e.isHeaderNamed)(t.directive.header,"System","InvalidAuth"),e.createRequest=(t,e)=>({event:{header:t,payload:e}})},3133:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createWebSocket=e.KitWebSocketCloseCode=void 0;const n=i(1549),r=i(3044),s=i(631);var o;!function(t){t[t.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",t[t.CLOSE_GOING_AWAY=1001]="CLOSE_GOING_AWAY",t[t.CLOSE_PROTOCOL_ERROR=1002]="CLOSE_PROTOCOL_ERROR",t[t.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",t[t.CLOSED_NO_STATUS=1005]="CLOSED_NO_STATUS",t[t.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",t[t.UNSUPPORTED_PAYLOAD=1007]="UNSUPPORTED_PAYLOAD",t[t.POLICY_VIOLATION=1008]="POLICY_VIOLATION",t[t.CLOSE_TOO_LARGE=1009]="CLOSE_TOO_LARGE",t[t.MANDATORY_EXTENSION=1010]="MANDATORY_EXTENSION",t[t.SERVER_ERROR=1011]="SERVER_ERROR",t[t.SERVICE_RESTART=1012]="SERVICE_RESTART",t[t.TRY_AGAIN_LATER=1013]="TRY_AGAIN_LATER",t[t.BAD_GATEWAY=1014]="BAD_GATEWAY",t[t.TLS_HANDSHAKE_FAIL=1015]="TLS_HANDSHAKE_FAIL",t[t.CUSTOM_ABNORNAL=4006]="CUSTOM_ABNORNAL",t[t.CUSTOM_TIMEDOUT=4008]="CUSTOM_TIMEDOUT",t[t.CUSTOM_RECONNECT=4012]="CUSTOM_RECONNECT"}(o=e.KitWebSocketCloseCode||(e.KitWebSocketCloseCode={})),e.createWebSocket=t=>{let e=null;const i=t=>null!==t&&t.readyState===t.OPEN,a=(0,s.createEvents)();let l=0;const c=(t,i="UNKNOWN")=>{null!==e&&(e.onopen=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.readyState!==e.CLOSING&&e.readyState!==e.CLOSED&&e.close(),e=null,a.emit("close",{code:t,reason:t in o?o[t]:i}))},d=()=>{window.clearTimeout(l),i(e)?a.emit("open"):c(o.CUSTOM_ABNORNAL)},h=t=>{c(t.code,t.reason)},p=()=>{c(o.CUSTOM_ABNORNAL)},u=t=>{if("string"==typeof t.data)try{const e=JSON.parse(t.data);(0,n.isRecord)(e)?a.emit("message",e):a.emit("error",(0,r.toError)("MALFORMED_MESSAGE",{scope:"websocket",raw:t.data}))}catch(e){a.emit("error",(0,r.toError)(e,{scope:"websocket",raw:t.data}))}else a.emit("binary",t.data)};return{disconnect:c,connect:()=>{c(o.CUSTOM_RECONNECT),window.clearTimeout(l),l=window.setTimeout((()=>c(o.CUSTOM_TIMEDOUT)),5e3),e=new WebSocket(t),e.binaryType="arraybuffer",e.onopen=d,e.onclose=h,e.onerror=p,e.onmessage=u},send:t=>{if(i(e)){if(t instanceof Blob)e.send(t);else try{e.send(JSON.stringify(t))}catch(e){a.emit("error",(0,r.toError)(e,{scope:"websocket",raw:t}))}return!0}return!1},on:a.on,once:a.once,off:a.off}}},7710:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MessageMark=e.DialogType=e.Alice2Mode=e.DEFAULT_GET_CHAT_HISTORY_LIMIT=e.createChatWithMessages=e.removeChat=e.removeChatMessages=e.getChatHistory=e.getTrialState=e.getChatList=e.getJsAliceKitInfo=e.createUUID=e.isWinYabro=e.AliceStatus=e.DirectiveHandler=e.SystemCommandDirectiveHandler=e.PrintTextInMessageViewDirectiveHandler=e.CustomDirectiveHandler=e.OpenUriDirectiveHandler=e.setEventEmittersErrorHandler=e.sendExtendedFeedback=e.sendFeedback=e.getGreetings=e.default=void 0;var r=i(7738);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n(r).default}}),Object.defineProperty(e,"getGreetings",{enumerable:!0,get:function(){return r.getGreetings}}),Object.defineProperty(e,"sendFeedback",{enumerable:!0,get:function(){return r.sendFeedback}}),Object.defineProperty(e,"sendExtendedFeedback",{enumerable:!0,get:function(){return r.sendExtendedFeedback}}),Object.defineProperty(e,"setEventEmittersErrorHandler",{enumerable:!0,get:function(){return r.setEventEmittersErrorHandler}}),Object.defineProperty(e,"OpenUriDirectiveHandler",{enumerable:!0,get:function(){return r.OpenUriDirectiveHandler}}),Object.defineProperty(e,"CustomDirectiveHandler",{enumerable:!0,get:function(){return r.CustomDirectiveHandler}}),Object.defineProperty(e,"PrintTextInMessageViewDirectiveHandler",{enumerable:!0,get:function(){return r.PrintTextInMessageViewDirectiveHandler}}),Object.defineProperty(e,"SystemCommandDirectiveHandler",{enumerable:!0,get:function(){return r.SystemCommandDirectiveHandler}}),Object.defineProperty(e,"DirectiveHandler",{enumerable:!0,get:function(){return r.DirectiveHandler}}),Object.defineProperty(e,"AliceStatus",{enumerable:!0,get:function(){return r.AliceStatus}}),Object.defineProperty(e,"isWinYabro",{enumerable:!0,get:function(){return r.isWinYabro}}),Object.defineProperty(e,"createUUID",{enumerable:!0,get:function(){return r.createUUID}}),Object.defineProperty(e,"getJsAliceKitInfo",{enumerable:!0,get:function(){return r.getJsAliceKitInfo}}),Object.defineProperty(e,"getChatList",{enumerable:!0,get:function(){return r.getChatList}}),Object.defineProperty(e,"getTrialState",{enumerable:!0,get:function(){return r.getTrialState}}),Object.defineProperty(e,"getChatHistory",{enumerable:!0,get:function(){return r.getChatHistory}}),Object.defineProperty(e,"removeChatMessages",{enumerable:!0,get:function(){return r.removeChatMessages}}),Object.defineProperty(e,"removeChat",{enumerable:!0,get:function(){return r.removeChat}}),Object.defineProperty(e,"createChatWithMessages",{enumerable:!0,get:function(){return r.createChatWithMessages}}),Object.defineProperty(e,"DEFAULT_GET_CHAT_HISTORY_LIMIT",{enumerable:!0,get:function(){return r.DEFAULT_GET_CHAT_HISTORY_LIMIT}}),Object.defineProperty(e,"Alice2Mode",{enumerable:!0,get:function(){return r.Alice2Mode}}),Object.defineProperty(e,"DialogType",{enumerable:!0,get:function(){return r.DialogType}}),Object.defineProperty(e,"MessageMark",{enumerable:!0,get:function(){return r.MessageMark}})},9541:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AudioContextController=void 0;const n=i(1549),r=i(1905);e.AudioContextController=class{constructor(){this.queue=new n.TaskQueue(!0),this.active=!1,this.handleAudioContextStateChange=()=>{r.audioContextWrapper.isRunning()&&this.queue.isPaused?this.queue.resume():r.audioContextWrapper.isRunning()||this.queue.isPaused||this.queue.pause()},r.audioContextWrapper.isRunning()&&this.queue.resume()}run(t){this.queue.push(new n.Task(t))}resume(){this.active||(this.active=!0,this.queue.cancel(),r.audioContextWrapper.ctx.addEventListener("statechange",this.handleAudioContextStateChange),this.handleAudioContextStateChange()),r.audioContextWrapper.resume()}cancel(){this.active=!1,this.queue.pause(),this.queue.cancel(),r.audioContextWrapper.ctx.removeEventListener("statechange",this.handleAudioContextStateChange)}}},9788:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(9541),e)},7287:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=i(3044),r=i(9777),s=i(8778),o=i(2258),a=i(1905),l=i(917),c=i(8348),d=i(8006),h=i(5844),p=i(1549),u={shouldListen:!1,voiceSession:!1};e.default=new class{constructor(){this.state=Object.assign({},u),this._cacheAudioBuffer={},this._soundlessMicRequests=new Set,this.init=t=>{(0,p.initUUID)(t.uuid||t.apiKey);const{appId:e=l.AppId.WEB_DESKTOP,appVersion:i,uuid:n=(0,p.createUUID)(),vinsTopic:c="desktopgeneral",platform:d=navigator.platform.toLowerCase(),osVersion:h=navigator.userAgent.toLowerCase(),timezone:u=Intl.DateTimeFormat().resolvedOptions().timeZone,location:f,originDomain:m,vinsUrl:g,bassUrl:y,experiments:v=[],supported_features:b=[],unsupported_features:_,megamind_cookies:x,apiKey:k,uniproxyUrl:w="wss://uniproxy.alice.yandex.net/uni.ws",directiveHandlers:C=[],isWebKit:E=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),silentMode:S=!1}=t;return this._isWebKit=E,a.audioContextWrapper.init(),this._uniproxy=(0,r.createUniproxy)({url:w,state:()=>({auth_token:k,uuid:n,vins:{application:{app_id:e,platform:d}},supported_features:b,request:{experiments:v}})}),this._vinsConfig={uuid:n,appId:e,appVersion:i,bassUrl:y,experiments:v,location:f,osVersion:h,platform:d,timezone:u,supported_features:b,unsupported_features:_,vinsTopic:c,vinsUrl:g,megamind_cookies:x,silentMode:S,originDomain:m},this._info=Object.assign(Object.assign({},this._vinsConfig),{uniproxyUrl:w,isInit:!0}),this._speechkit=new s.Speechkit(this._uniproxy,(0,o.vinsRequestFactoryProvider)(this._vinsConfig),{appId:e,platform:d,isWebKit:E}),C.forEach((t=>this.speechkit.directiveHandlersMap.set(t.key,t))),this.initListeners(),this},this.startVoiceInput=t=>{if(this.status===l.AliceStatus.LISTENING)return void d.aliceKitEventBus.emit("listeningerror",{dialogId:(null==t?void 0:t.dialogId)||"",messageId:(null==t?void 0:t.messageId)||"",error:(0,n.toError)("Alice already LISTENING",{scope:"alicekit"})});this.setState({shouldListen:!1});const e=this.speechkit.startVoiceInput(t);(null==t?void 0:t.skipMicSounds)&&e&&this._soundlessMicRequests.add(e)},this.sendVinsRequest=(t,e,i="TextInput")=>this.speechkit.sendVinsRequest(i,t,e),this.playAudioByUrl=t=>{var e;if(null===(e=this._vinsConfig)||void 0===e?void 0:e.silentMode)return;if(!this._isWebKit)return void new Audio(t).play();const i=this._cacheAudioBuffer[t];i?(0,p.playAudioBuffer)(i,a.audioContextWrapper):fetch(t).then((t=>t.arrayBuffer())).then((e=>{a.audioContextWrapper.ctx.decodeAudioData(e,(e=>{(0,p.playAudioBuffer)(e,a.audioContextWrapper),this._cacheAudioBuffer[t]=e}))}))},this.synthesize=t=>{this.speechkit.synthesize(t)},this.addDirectiveHandler=t=>{this.speechkit.directiveHandlersMap.set(t.key,t)},this.setDialogId=(t,e)=>{this.speechkit.setDialogId(t,e)},this.setPrevRequestId=t=>{this.speechkit.setPrevRequestId(t)},this.ttsStop=()=>{this.speechkit.ttsStop()},this.cancel=(t=!0)=>{this.setState(u),this.speechkit.cancel(),this.cancelDirectives(t),d.aliceKitEventBus.emit("cancel",void 0)},this.updateRequestConfig=t=>{this._vinsConfig&&(this._vinsConfig=Object.assign(Object.assign({},this._vinsConfig),t),this.speechkit.updateRequestFactory((0,o.vinsRequestFactoryProvider)(this._vinsConfig)))},this.destroy=()=>{this.speechkit.directiveHandlersMap.forEach((t=>t.destroy())),this.speechkit.directiveHandlersMap.clear(),d.aliceKitEventBus.destroy(),this.speechkit.destroy()}}get status(){return this.speechkit.status.value}get info(){return this._info}on(t,e){return d.aliceKitEventBus.on(t,e)}once(t,e){return d.aliceKitEventBus.once(t,e)}off(t,e){return d.aliceKitEventBus.off(t,e)}setState(t){Object.assign(this.state,t)}initListeners(){d.aliceKitEventBus.emit("init",void 0),this.uniproxy.on("error",(t=>{d.aliceKitEventBus.emit("error",t)})),this.speechkit.status.onChange.on((()=>{d.aliceKitEventBus.emit("status",this.status)})),this.speechkit.onSpeechStart.on((t=>{d.aliceKitEventBus.emit("speechstart",t)})),this.speechkit.onSpeechFinished.on((t=>{d.aliceKitEventBus.emit("speechend",t)})),this.speechkit.onSpeechError.on((t=>{d.aliceKitEventBus.emit("speecherror",t)})),this.speechkit.onListeningStart.on((t=>{this._soundlessMicRequests.has(t.messageId)||this.playAudioByUrl("https://yastatic.net/s3/home/alice_popup/start.mp3"),d.aliceKitEventBus.emit("listeningstart",t)})),this.speechkit.onListeningStop.on((t=>{this._soundlessMicRequests.has(t.messageId)||this.playAudioByUrl("https://yastatic.net/s3/home/alice_popup/cancel.mp3"),this._soundlessMicRequests.delete(t.messageId),d.aliceKitEventBus.emit("listeningend",t)})),this.speechkit.onListeningError.on((t=>{this._soundlessMicRequests.has(t.messageId)||this.playAudioByUrl("https://yastatic.net/s3/home/alice_popup/error.mp3"),this._soundlessMicRequests.delete(t.messageId),d.aliceKitEventBus.emit("listeningerror",t)})),this.speechkit.onRecognition.on((t=>{d.aliceKitEventBus.emit("recognition",t)})),this.speechkit.onVinsResponse.on((t=>{var e,i,n,r,s,o;const{voice_response:a}=t.response;a&&this.setState({shouldListen:a.should_listen||!1,voiceSession:Boolean(a.has_voice_response||(null===(e=a.output_speech)||void 0===e?void 0:e.text))}),d.aliceKitEventBus.emit("vins",t);const l=null===(n=null===(i=t.response.response)||void 0===i?void 0:i.directives)||void 0===n?void 0:n.some((t=>"print_text_in_message_view"===t.name)),c=null===(s=null===(r=t.response.response)||void 0===r?void 0:r.directives)||void 0===s?void 0:s.filter((t=>!(l&&"@@mm_stack_engine_get_next"===t.name)));c&&this.executeDirectives(c,{directives:null===(o=t.response.response)||void 0===o?void 0:o.directives,request:{voiceSession:this.state.voiceSession}})})),this.speechkit.onVinsStreamResponse.on((t=>{d.aliceKitEventBus.emit("vinsstream",t)})),this.speechkit.onVinsError.on((t=>{d.aliceKitEventBus.emit("vinserror",t)}))}executeDirectives(t,e){t.forEach((t=>{(0,h.isServerAction)(t)?this.sendVinsRequest(t,null==e?void 0:e.request):this.executeClientDirective(t,e)}))}executeClientDirective(t,e){const i=`${t.type}${t.name}`,r=this.speechkit.directiveHandlersMap.get(i);r?r.handleDirective(t,e):d.aliceKitEventBus.emit("warning",(0,n.toError)(`No handler for Directive: ${t.name}`,{scope:"alicekit"}))}cancelDirectives(t=!0){this.speechkit.directiveHandlersMap.forEach((e=>e.cancel(t)))}get speechkit(){const t=this._speechkit;if(!t)throw new c.BaseError("js-alicekit not initialized");return t}get uniproxy(){const t=this._uniproxy;if(!t)throw new c.BaseError("js-alicekit not initialized");return t}}},8778:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Speechkit=void 0;const r=i(3044),s=i(4871),o=i(1905),a=i(917),l=i(5744),c=i(3943),d=n(i(7287)),h=i(4441),p=i(1776),u=i(1549),f=i(2258),m=i(6455);e.Speechkit=class{get directiveHandlers(){return Array.from(this.directiveHandlersMap.values())}constructor(t,e,i){var n,g,y;this.transport=t,this.currentDialogInfo={dialogId:null},this.directiveHandlersMap=new Map,this.status=new u.Status(a.AliceStatus.SUSPENDED),this.onListeningStart=new u.EventEmitter,this.onListeningStop=new u.EventEmitter,this.onListeningError=new u.EventEmitter,this.onRecognition=new u.EventEmitter,this.onSpeechStart=new u.EventEmitter,this.onSpeechFinished=new u.EventEmitter,this.onSpeechError=new u.EventEmitter,this.onVinsResponse=new u.EventEmitter,this.onVinsStreamResponse=new u.EventEmitter,this.onVinsError=new u.EventEmitter,this.startVoiceInput=t=>{if(this.voiceInput)return this.resume(),this.voiceInput.start(t);this.onListeningError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{error:(0,r.toError)("Voice input is not supported",{scope:"speechkit"}),messageId:(null==t?void 0:t.messageId)||""}))},this.sendVinsRequest=(t,e,i={})=>{var n;const r=this.vins.sendRequest(t,e,Object.assign(Object.assign(Object.assign({},this.currentDialogInfo),{voiceSession:this.ttsAudioFormat&&i.voiceSession,timeout:3e5,format:this.ttsAudioFormat,mime:null===(n=this.mimeFormatDescriptor)||void 0===n?void 0:n.mime}),i),((t,i)=>{var n,r,s;if(null!==i){const a="server_action"===e.type&&!!e.ignore_answer;this.tts&&((null===(n=i.voice_response)||void 0===n?void 0:n.has_voice_response)||(null===(s=null===(r=i.voice_response)||void 0===r?void 0:r.output_speech)||void 0===s?void 0:s.text))&&!a&&(this.tts.setCurrentMessageId(t),o.audioContextWrapper.resume())}this.updateStatus()}));return this.updateStatus(),r},this.synthesize=t=>{this.tts?(this.resume(),this.tts.generate(t)):this.onSpeechError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{error:(0,r.toError)("TTS is not supported",{scope:"speechkit"}),messageId:""}))},this.setDialogId=(t,e=p.DialogType.EXTERNAL_SKILL)=>{this.currentDialogInfo={dialogId:t,dialogType:e}},this.setPrevRequestId=t=>{this.vins.setPrevRequestId(t)},this.ttsStop=()=>{var t;null===(t=this.tts)||void 0===t||t.stop()},this.cancel=t=>{var e,i,n;null===(e=this.voiceInput)||void 0===e||e.stop(t),null===(i=this.yabroSpotterInput)||void 0===i||i.stop(t),null===(n=this.tts)||void 0===n||n.stop(),this.vins.cancel(),this.updateStatus()},this.destroy=()=>{var t,e,i;this.cancel(),null===(t=this.voiceInput)||void 0===t||t.destroy(),null===(e=this.yabroSpotterInput)||void 0===e||e.destroy(),null===(i=this.tts)||void 0===i||i.destroy(),this.onListeningStart.clear(),this.onListeningStop.clear(),this.onListeningError.clear(),this.onRecognition.clear(),this.onSpeechStart.clear(),this.onSpeechFinished.clear(),this.onSpeechError.clear(),this.onVinsResponse.clear(),this.onVinsError.clear()},this.updateStatus=()=>{this.status.setValue(this.getStatusValue())},this.sendVoiceEvent=(t,e={})=>{const i={type:s.KitUniproxyDirectiveEventType.voice_input};return this.sendVinsRequest("VoiceInput",i,Object.assign({streamId:t,voiceSession:!0},e))},this.resume=()=>{o.audioContextWrapper.resume()},this.ttsAudioFormat=(t=>{const e=new Audio,i=t=>{try{return!!e.canPlayType(t)}catch(t){return!1}};return t.isWebKit&&i("audio/x-caf;codecs=opus")||i("audio/ogg;codecs=opus")?"audio/ogg;codecs=opus":i("audio/x-pcm;bit=16;rate=16000")?"audio/x-pcm;bit=16;rate=16000":void 0})(i),this.mimeFormatDescriptor=m.VoiceInput.getSupportedFormat(),this.vins=new f.Vins(t,e),this.vins.onResponse.on((({messageId:t,response:e})=>{this.onVinsResponse.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t,response:e,preventTTS:this.ttsStop}))})),this.vins.onStreamingResponse.on((t=>{var e;const i=null===(e=t.response.json_response)||void 0===e?void 0:e.cancel_response;i&&(d.default.executeDirectives(i.directives||[],{request:{voiceSession:d.default.state.voiceSession}}),this.ttsStop()),this.onVinsStreamResponse.emit(t),this.updateStatus()})),this.vins.onError.on((({messageId:t,error:e})=>{this.onVinsError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t,error:e}))})),this.ttsAudioFormat&&(this.tts=new h.TTS(t,this.ttsAudioFormat,i),this.tts.onStart.on((({messageId:t})=>{this.onSpeechStart.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t}))})),this.tts.onStreamFinished.on((()=>{this.directiveHandlers.forEach((t=>t.onSpeechFetched()))})),this.tts.onFinished.on((({messageId:t})=>{var e;this.directiveHandlers.some((t=>t.isSpeaking))||(null===(e=this.tts)||void 0===e||e.stop(),this.onSpeechFinished.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t})))})),this.tts.onError.on((({error:t,messageId:e})=>{this.onSpeechError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e,error:t}))}))),this.mimeFormatDescriptor&&(this.voiceInput=new m.VoiceInput(t,this.mimeFormatDescriptor,this.sendVoiceEvent),this.initInputListeners(this.voiceInput)),(0,c.isWinYabro)(i.appId,i.platform)&&m.YabroSpotterInput.isAvailable()&&(this.yabroSpotterInput=new m.YabroSpotterInput(this.transport,this.sendVoiceEvent,this.resume),this.initInputListeners(this.yabroSpotterInput)),null===(n=this.voiceInput)||void 0===n||n.status.onChange.on(this.updateStatus),null===(g=this.yabroSpotterInput)||void 0===g||g.status.onChange.on(this.updateStatus),null===(y=this.tts)||void 0===y||y.status.onChange.on(this.updateStatus),l.DirectiveHandler.updateStatus=this.updateStatus,this.updateStatus()}get isRecorderSupported(){return Boolean(this.voiceInput)}updateRequestFactory(t){this.vins.updateRequestFactory(t)}getStatusValue(){var t,e,i,n,r,s;return(null===(t=this.voiceInput)||void 0===t?void 0:t.status.value)===a.AliceStatus.LISTENING||(null===(e=this.yabroSpotterInput)||void 0===e?void 0:e.status.value)===a.AliceStatus.LISTENING?a.AliceStatus.LISTENING:(null===(i=this.tts)||void 0===i?void 0:i.status.value)===a.AliceStatus.SPEAKING||this.directiveHandlers.some((t=>t.isSpeaking))?a.AliceStatus.SPEAKING:(null===(n=this.voiceInput)||void 0===n?void 0:n.status.value)===a.AliceStatus.THINKING||(null===(r=this.yabroSpotterInput)||void 0===r?void 0:r.status.value)===a.AliceStatus.THINKING||(null===(s=this.tts)||void 0===s?void 0:s.status.value)===a.AliceStatus.THINKING||this.directiveHandlers.some((t=>t.inProgress))||this.vins.hasPendingInput?a.AliceStatus.THINKING:a.AliceStatus.SUSPENDED}initInputListeners(t){t.onStart.on((({messageId:t})=>{this.onListeningStart.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t}))})),t.onStop.on((({messageId:t,reason:e})=>{this.onListeningStop.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t,reason:e}))})),t.onError.on((({error:t,messageId:e})=>{this.onListeningError.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:e,error:t}))})),t.onRecognition.on((({messageId:t,recognition:e})=>{this.onRecognition.emit(Object.assign(Object.assign({},this.currentDialogInfo),{messageId:t,recognition:e}))}))}}},6364:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=void 0;const n=i(9788),r=i(1905),s=i(3044),o=i(5117);e.Decoder=class{constructor(t){this.transform=t,this.audioContextController=new n.AudioContextController}resume(){this.audioContextController.resume()}decode({buffer:t,callback:e,errback:i}){this.audioContextController.run((()=>{const n=t=>{i((0,s.toError)(t,{scope:"decoder"}))};try{const i=r.audioContextWrapper.ctx.decodeAudioData(this.transform(t),e,n);(0,o.isPromise)(i)&&i.catch(n)}catch(t){n(t)}}))}cancel(){this.audioContextController.cancel()}destroy(){this.cancel()}}},6132:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=void 0;var n=i(6364);Object.defineProperty(e,"Decoder",{enumerable:!0,get:function(){return n.Decoder}})},251:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OggOpusStream=void 0;const n=i(2548),r=i(6179),s=i(4444);class o extends n.Stream{constructor(){super(...arguments),this.preloadBufferSize=2e4,this.bufferSize=4e4}static isOggOpus(t=""){return"audio/opus"===t}add(t){const e=(0,r.parseStreamPackage)(t);let i=-1,n=-1;for(const r of e){const{segments:e,size:o,offset:a}=r;e.length&&("head"===e[0].type?(-1!==i&&this.currentHeader?(this.insert(t.slice(i,n),this.currentHeader),i=-1,n=-1):this.pendingBuffer&&this.pendingBuffer.offset&&this.ready(),this.currentHeader=t.slice(a,o+a)):"tag"===e[0].type?this.currentHeader&&(this.currentHeader=(0,s.concatArrayBuffer)(this.currentHeader,t.slice(a,o+a))):-1===i?(i=a,n=a+o):n+=o)}-1!==i&&this.currentHeader&&this.insert(t.slice(i,n),this.currentHeader)}getChunk(t){return t}}e.OggOpusStream=o},2811:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.concatArrayBuffer=void 0,r(i(251),e);var s=i(4444);Object.defineProperty(e,"concatArrayBuffer",{enumerable:!0,get:function(){return s.concatArrayBuffer}})},7198:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatArrayBuffer=void 0,e.concatArrayBuffer=function(t,e){const i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(e),t.byteLength),i.buffer}},4444:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatArrayBuffer=void 0;var n=i(7198);Object.defineProperty(e,"concatArrayBuffer",{enumerable:!0,get:function(){return n.concatArrayBuffer}})},6179:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseStreamPackage=void 0;const i=1332770163,n=1214603620,r=1415669619;function s(t,e,s){const o=t.slice(e,e+s),a=new DataView(o);let l="data";return o.byteLength>=4&&a.getUint32(0)===i&&(a.getUint32(4)===n?l="head":a.getUint32(4)===r&&(l="tag")),{offset:e,type:l,size:s}}e.parseStreamPackage=function(t){const e=[];let i=0;const n=new DataView(t);for(;i<t.byteLength;){const r=i;if(1332176723!==n.getUint32(i))break;const o=n.getUint8(i+26);let a=i+26+1;const l=a+o;i+=26+o+1;const c=[];for(;a<l;a++){const e=n.getUint8(a);c.push(s(t,i,e)),i+=e}e.push({offset:r,size:i-r,segments:c})}return e}},1787:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PCMStream=void 0;const n=i(2548),r=/audio\/x-pcm;bit=(\d*);rate=(\d*)/;class s extends n.Stream{static isPCM(t=""){return r.test(t)}constructor(t){super(t),this.preloadBufferSize=2e4,this.bufferSize=4e4,this.bit=15,this.rate=16e3,this.channelCount=1;const[,e="",i=""]=(t.format||"").match(r)||[],n=parseInt(e,10),s=parseInt(i,10);this.bit=isNaN(n)?void 0:n,this.rate=isNaN(s)?void 0:s}add(t){this.insert(t)}getChunk(t){return function(t,e=1,i=15,n=16e3){const r=t.byteLength,s=new Uint8Array(44+r),o=new DataView(s.buffer);let a=0;return s.set(new Uint8Array(t),44),o.setInt32(a,1380533830),a+=4,o.setInt32(a,r+36,!0),a+=4,o.setInt32(a,1463899717),a+=4,o.setInt32(a,1718449184),a+=4,o.setInt32(a,16,!0),a+=4,o.setInt16(a,1,!0),a+=2,o.setInt16(a,e,!0),a+=2,o.setInt32(a,n,!0),a+=4,o.setInt32(a,n*e*i/8,!0),a+=4,o.setInt16(a,e*i/8,!0),a+=2,o.setInt16(a,i,!0),a+=2,o.setInt32(a,1684108385),a+=4,o.setInt32(a,r,!0),o.buffer}(t,this.channelCount,this.bit,this.rate)}}e.PCMStream=s},8338:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(1787),e)},8676:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PackageBuffer=void 0,e.PackageBuffer=class{constructor(t){this.offset=0,this.buffer=new ArrayBuffer(t)}add(t,e){const i=e?e.byteLength:0,n=0===this.offset;if(t.byteLength+(n?i:0)+this.offset>this.buffer.byteLength)return!1;const r=new Uint8Array(this.buffer);return 0===this.offset&&e&&(r.set(new Uint8Array(e),this.offset),this.offset+=e.byteLength),r.set(new Uint8Array(t),this.offset),this.offset+=t.byteLength,!0}relax(){return this.buffer=this.buffer.slice(0,this.offset)}}},2548:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stream=void 0;const n=i(8676);e.Stream=class{constructor({onBufferReady:t,streamId:e}){this.index=-1,this.finished=!1,this.breaked=!1,this.onBufferReady=t,this.streamId=e}createBuffer(t=0){this.index++,this.pendingBuffer=new n.PackageBuffer(Math.max(t,0===this.index?this.preloadBufferSize:this.bufferSize))}insert(t,e){const i=e?e.byteLength:0,n=t.byteLength+i;this.pendingBuffer||this.createBuffer(n),this.pendingBuffer&&(this.pendingBuffer.add(t,e)||(this.ready(),this.createBuffer(n),this.pendingBuffer.add(t,e)))}finish(){this.finished=!0,this.ready()}break(){this.breaked=!0,this.pendingBuffer=void 0}ready(){this.pendingBuffer?(this.onBufferReady(this.getChunk(this.pendingBuffer.relax()),this.index,this.streamId),this.pendingBuffer=void 0):this.onBufferReady(void 0,this.index,this.streamId)}}},9355:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.streamFactory=void 0;const n=i(2811),r=i(8338);e.streamFactory=function(t){return n.OggOpusStream.isOggOpus(t.format)?new n.OggOpusStream(t):r.PCMStream.isPCM(t.format)?new r.PCMStream(t):void 0}},4654:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StreamPlayer=void 0;const n=i(41),r=i(3044),s=i(9788),o=i(1905),a=i(1549),l=i(6132);e.StreamPlayer=class{constructor(t,e,i){this.streamFactory=t,this.activeBufferIndex=0,this.stopped=!0,this.format="",this.handleBufferReady=(t,e,i)=>{this.ensureStreamId(i)&&(t?this.audioContext.run((()=>{this.doDecode(i,t,e)})):this.stop())},this.audioContext=new s.AudioContextController,this.decoder=new l.Decoder((t=>"audio/ogg;codecs=opus"===e&&i.isWebKit?(0,n.transformOggToCaf)(t):t)),this.decoder.resume()}start(t){if(!this.stopped)return;const{onStart:e,onError:i,onFinished:n,format:r}=t,s=(0,a.createGUID)();this.stop(),this.audioContext.resume(),this.decoder.resume(),this.streamId=s,this.format=r,this.stopped=!1,this.onStart=e,this.onError=i,this.onFinished=n,this.onChunkEnded=()=>this.handleEnded(s),this.onChunkError=()=>this.handleError(s)}stop(){this.stopped||(this.stream&&this.stream.break(),this.clean())}destroy(){this.stop(),this.audioContext.cancel(),this.decoder&&this.decoder.destroy()}onPackage(t){const e=this.streamId;this.stream||(this.stream=this.streamFactory({streamId:e,onBufferReady:this.handleBufferReady,format:this.format})),this.stream?this.decoder?this.stream.add(t):this.error(e,(0,r.toError)("Decoder does not exists",{scope:"streamplayer"})):this.error(e,(0,r.toError)("Stream does not exists",{scope:"streamplayer"}))}onStreamFinished(){this.stream&&this.stream.finish()}doDecode(t,e,i){this.ensureStreamId(t)&&e&&t&&this.decoder.decode({buffer:e,callback:e=>this.handleDecodeAudioData(t,e,i),errback:e=>this.error(t,e)})}ensureStreamId(t){return!!this.streamId&&!!t&&this.streamId===t}handleDecodeAudioData(t,e,i){this.ensureStreamId(t)&&(this.stopped||(this.audioBuffers||(this.audioBuffers=[]),this.audioBuffers[i]=e,this.audioContext.run((()=>{this.playBuffer(t)}))))}finished(){const{onFinished:t}=this;t&&t()}activeSourceDestroy(){this.activeSource&&(this.activeSource.stop(),this.activeSource.disconnect(),this.onChunkEnded&&this.activeSource.removeEventListener("ended",this.onChunkEnded),this.onChunkError&&this.activeSource.removeEventListener("error",this.onChunkError),this.activeSource=void 0)}clean(){this.stopped=!0,this.audioContext.cancel(),this.stream=void 0,this.audioBuffers=void 0,this.activeBufferIndex=0,this.streamId=void 0,this.decoder.cancel(),this.activeSourceDestroy(),this.onStart=void 0,this.onError=void 0,this.onFinished=void 0,this.onChunkEnded=void 0,this.onChunkError=void 0}error(t,e){if(!this.ensureStreamId(t))return;const{onError:i}=this;this.clean(),i&&i((0,r.toError)(e,{scope:"streamplayer"}))}playBuffer(t,e=!1){if(!this.ensureStreamId(t))return;if(!this.audioBuffers||!this.audioBuffers.length)return;const i=this.audioBuffers[this.activeBufferIndex];!i||this.activeSource&&!e||(this.activeSourceDestroy(),this.activeSource=(0,a.playAudioBuffer)(i,o.audioContextWrapper,{ended:this.onChunkEnded,error:this.onChunkError}),0===this.activeBufferIndex&&this.onStart&&this.onStart())}handleError(t){this.error(t,(0,r.toError)("BufferSource error",{scope:"streamplayer"}))}handleEnded(t){if(!this.ensureStreamId(t))return;if(this.activeSourceDestroy(),!this.audioBuffers||!this.stream)return void this.clean();const{activeBufferIndex:e}=this;this.activeBufferIndex+=1,this.audioBuffers[e]=void 0,this.stream.finished&&this.stream.index===e?this.finished():this.audioContext.run((()=>{this.playBuffer(t,!0)}))}}},4659:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(4654),e)},1642:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TTS=void 0;const n=i(3044),r=i(4871),s=i(917),o=i(1549),a=i(9355),l=i(4659),c=i(9101);e.TTS=class{constructor(t,e,i){this.transport=t,this.queue=new o.TaskQueue(!0),this.currentStreamId=-1,this.currentMessageId="",this.status=new o.Status(s.AliceStatus.SUSPENDED),this.onStart=new o.EventEmitter,this.onStreamFinished=new o.EventEmitter,this.onFinished=new o.EventEmitter,this.onError=new o.EventEmitter,this.generate=t=>{const e=(0,o.createUUID)();this.queue.push(new o.Task((()=>{this.setCurrentMessageId(e),this.transport.send({namespace:c.TTS_NAMESPACE,name:"Generate",messageId:e},{text:t})}),{tag:"Generate"}))},this.setCurrentMessageId=t=>{this.currentMessageId=t,this.status.value===s.AliceStatus.SUSPENDED&&this.status.setValue(s.AliceStatus.THINKING),this.transport.off("tts",this.handleSpeak),this.transport.off("streamdata",this.handleStream),this.transport.off("streamcontrol",this.handleStreamControl),this.transport.off("error",this.handleUniproxyError),this.transport.on("tts",this.handleSpeak),this.transport.on("streamdata",this.handleStream),this.transport.on("streamcontrol",this.handleStreamControl),this.transport.on("error",this.handleUniproxyError)},this.stop=()=>{this.transport.off("tts",this.handleSpeak),this.transport.off("streamdata",this.handleStream),this.transport.off("streamcontrol",this.handleStreamControl),this.transport.off("error",this.handleUniproxyError),-1!==this.currentStreamId&&this.transport.stream.close(this.currentStreamId,this.currentMessageId,r.KitUniproxyStreamControlReason.STREAM_CLOSED),this.currentStreamId=-1,this.currentMessageId="",this.streamPlayer.stop(),this.queue.cancel(),this.status.setValue(s.AliceStatus.SUSPENDED)},this.destroy=()=>{this.stop(),this.streamPlayer.destroy(),this.transport.off("status",this.handleTransportStatusChanged)},this.handleTransportStatusChanged=t=>{switch(t.code){case r.KitUniproxyStatusCode.CONNECTING:return void this.queue.pause();case r.KitUniproxyStatusCode.OPEN:return void this.queue.resume();case r.KitUniproxyStatusCode.CLOSED:return this.queue.pause(),void this.queue.cancel()}},this.handleStream=t=>{this.currentStreamId===t.streamId&&this.streamPlayer.onPackage(t.data)},this.handleStreamControl=t=>{const{action:e,streamId:i}=t;if(e===r.KitUniproxyStreamControlAction.CLOSE&&i===this.currentStreamId){const{currentMessageId:t,currentStreamId:e}=this;this.currentStreamId=-1,this.currentMessageId="",this.streamPlayer.onStreamFinished(),this.onStreamFinished.emit({messageId:t,streamId:e})}},this.handleUniproxyError=t=>{"uniproxy"===t.cause.scope&&(0,o.isRecord)(t.cause.header)&&t.cause.header.refMessageId===this.currentMessageId&&this.handleError(t)},this.handleError=t=>{const{currentMessageId:e}=this;this.stop(),this.onError.emit({error:t,messageId:e})},this.handleStart=()=>{this.status.setValue(s.AliceStatus.SPEAKING),this.onStart.emit({messageId:this.currentMessageId})},this.handleFinished=()=>{const{currentMessageId:t}=this;this.status.setValue(s.AliceStatus.SUSPENDED),this.onFinished.emit({messageId:t})},this.handleSpeak=t=>{const{header:{streamId:e,refMessageId:i=""},payload:{format:s=""}}=t;void 0!==e?i===this.currentMessageId?(this.currentStreamId=e,this.streamPlayer.start({onStart:this.handleStart,onError:this.handleError,onFinished:this.handleFinished,format:s})):this.transport.stream.close(e,i,r.KitUniproxyStreamControlReason.NO_ERROR):this.handleError((0,n.toError)("Stream id was not defined",{scope:"tts"}))},this.streamPlayer=new l.StreamPlayer(a.streamFactory,e,i),this.transport.on("status",this.handleTransportStatusChanged),this.transport.status.code===r.KitUniproxyStatusCode.OPEN&&this.queue.resume()}}},9101:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TTS_NAMESPACE=void 0,e.TTS_NAMESPACE="TTS"},4441:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.TTS_NAMESPACE=void 0,r(i(1642),e);var s=i(9101);Object.defineProperty(e,"TTS_NAMESPACE",{enumerable:!0,get:function(){return s.TTS_NAMESPACE}})},275:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Vins=void 0;const n=i(3044),r=i(4871),s=i(157),o=i(1549),a=i(9462);e.Vins=class{get hasPendingInput(){const t=[r.KitUniproxyDirectiveEventType.text_input,r.KitUniproxyDirectiveEventType.voice_input,r.KitUniproxyDirectiveEventType.suggested_input,r.KitUniproxyDirectiveEventType.server_action];return Array.from(this._requests.values()).some((({status:e,event:i,isParallel:n,isLedSilent:r,isIgnoreAnswer:s})=>!n&&!r&&!s&&3!==e&&i.type&&t.includes(i.type)))}constructor(t,e){this.transport=t,this.requestFactory=e,this.onError=new o.EventEmitter,this.onResponse=new o.EventEmitter,this.onStreamingResponse=new o.EventEmitter,this._queue=new o.TaskQueue(!0),this._requests=new Map,this.cancel=()=>{this._queue.cancel(),Array.from(this._requests.values()).forEach((t=>{0!==t.status?(2===t.status&&this.transport.send({namespace:"System",name:"CancelRequest"},{requestMessageId:t.messageId}),this._requests.set(t.messageId,Object.assign(Object.assign({},t),{status:3}))):this._requests.delete(t.messageId)}))},this.sendRequest=(t,e,i,s)=>{var l,c,d,h;const p=i.messageId||(0,o.createUUID)(),{streamId:u,dialogId:f,dialogType:m,voiceSession:g=!1,resetSession:y,lang:v,format:b,mime:_,onSent:x=o.noop,forcePrevRequestId:k}=i,w=!!(null===(c=null===(l=e.payload)||void 0===l?void 0:l.request_params)||void 0===c?void 0:c.is_parallel),C=!!(null===(h=null===(d=e.payload)||void 0===d?void 0:d.request_params)||void 0===h?void 0:h.is_led_silent),E="server_action"===e.type&&!!e.ignore_answer,S={event:e,status:0,messageId:p,isParallel:w,isLedSilent:C,isIgnoreAnswer:E};return this._requests.set(p,S),this._queue.push(new o.Task((i=>{const l=this.requestFactory({event:e,requestId:i,prevRequestId:null!=k?k:this._prevRequestId,dialogId:f,dialogType:m,lang:v,voiceSession:g,resetSession:y,format:b,mime:_});let c,d,h,C;this._requests.set(p,Object.assign(Object.assign({},S),{status:1})),x();const $=()=>{this.transport.off("streamcontrol",d),this.transport.off("response",c),this.transport.off("error",h),this.transport.off("status",C)};c=t=>{var e,i;const{header:n,payload:r}=t;if(n.refMessageId!==p)return;$(),E||w||k||(this._prevRequestId=null===(e=r.header)||void 0===e?void 0:e.request_id);const o=this._requests.get(p);if(3===(null==o?void 0:o.status))return this._requests.delete(p),void s(p,null);(null===(i=r.response)||void 0===i?void 0:i.is_streaming)&&o?this._requests.set(o.messageId,Object.assign(Object.assign({},o),{status:2})):this._requests.delete(p),s(p,r),E||this.onResponse.emit({messageId:p,response:r})},d=t=>{t.messageId===p&&t.action!==r.KitUniproxyStreamControlAction.CHUNK&&t.action!==r.KitUniproxyStreamControlAction.NEXT_CHUNK&&($(),this._requests.delete(p),s(p,null))};const M=t=>{$(),this._requests.delete(p),s(p,null),this.onError.emit({messageId:p,error:t})};h=t=>{"uniproxy"===t.cause.scope&&(0,o.isRecord)(t.cause.header)&&t.cause.header.refMessageId===p&&M(t)},C=t=>{t.code!==r.KitUniproxyStatusCode.OPEN&&M((0,n.toError)("Connection closed",{scope:"vins"}))},e.type===r.KitUniproxyDirectiveEventType.voice_input&&this.transport.on("streamcontrol",d),this.transport.on("response",c),this.transport.on("error",h),this.transport.on("status",C),this.transport.send({namespace:a.VINS_NAMESPACE,name:t,streamId:u,messageId:p},l)}),{id:p,data:{messageId:p}})),this.transport.status.code===r.KitUniproxyStatusCode.OPEN&&this._queue.resume(),p},this.setPrevRequestId=t=>{this._prevRequestId=t},this.handleMessage=t=>{const e=t.header.refMessageId;if(!e)return;const i=Array.from(this._requests.values()).find((({messageId:t,status:i})=>t===e&&2===i));i&&t.payload.json_response&&(t.payload.json_response.is_last&&this._requests.delete(i.messageId),this.onStreamingResponse.emit({messageId:e,response:t.payload}))},this.handleStatusChange=t=>{switch(t.code){case r.KitUniproxyStatusCode.CONNECTING:return void this._queue.pause();case r.KitUniproxyStatusCode.CLOSED:{this._queue.pause();const e=new s.ConnectionClosedError(t.closed.code,t.closed.reason);return this._queue.forEach((t=>{this.onError&&this.onError.emit({messageId:t.id,error:e})})),this._queue.cancel(),void this.cancel()}case r.KitUniproxyStatusCode.OPEN:return void this._queue.resume()}},this.transport.on("status",this.handleStatusChange),this.transport.on("deferedresponse",this.handleMessage)}updateRequestFactory(t){this.requestFactory=t}}},9462:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VINS_NAMESPACE=void 0,e.VINS_NAMESPACE="Vins"},2258:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.VINS_NAMESPACE=void 0,r(i(275),e),r(i(1310),e);var s=i(9462);Object.defineProperty(e,"VINS_NAMESPACE",{enumerable:!0,get:function(){return s.VINS_NAMESPACE}})},1310:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.vinsRequestFactoryProvider=void 0;e.vinsRequestFactoryProvider=function(t){return function({event:e,requestId:i,prevRequestId:n,voiceSession:r,dialogId:s,dialogType:o,resetSession:a,format:l,mime:c,lang:d="ru-RU"}){var h,p,u,f,m;return{application:{app_id:t.appId,app_version:t.appVersion,platform:null!==(h=t.platform)&&void 0!==h?h:navigator.platform.toLowerCase(),os_version:null!==(p=t.osVersion)&&void 0!==p?p:navigator.userAgent.toLowerCase(),uuid:t.uuid,lang:d,client_time:(new Date).toISOString().slice(0,19).replace(/[:+-]/g,""),timezone:t.timezone,timestamp:String(Date.now()).slice(0,-3)},header:{prev_req_id:n,sequence_number:void 0,request_id:i,dialog_id:s||void 0,dialog_type:o},request:{event:e,voice_session:!t.silentMode&&Boolean(r),experiments:null!==(u=t.experiments)&&void 0!==u?u:[],additional_options:{bass_url:t.bassUrl,bass_options:{screen_scale_factor:window.devicePixelRatio||1},origin_domain:t.originDomain,supported_features:null!==(f=t.supported_features)&&void 0!==f?f:[],unsupported_features:null!==(m=t.unsupported_features)&&void 0!==m?m:[]},location:t.location,reset_session:a,megamind_cookies:t.megamind_cookies},format:l,mime:c,topic:t.vinsTopic,vinsUrl:t.vinsUrl,alice_2_settings:t.aliceSettings}}}},9370:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ASR=void 0;const n=i(1549),r=i(157),s=i(4871),o=i(3044);e.ASR=class{constructor(t){this.currentEventId="",this.buffer=[],this.indexBuffer=0,this.stopped=!0,this.start=t=>{this.stop(),this.transport.on("status",this.handleStatusChanged),this.transport.status.code===s.KitUniproxyStatusCode.OPEN?this.initializeRecognition(t):this.onReady=()=>this.initializeRecognition(t)},this.stop=(t={})=>{if(this.stopped)return;this.handleRequestSent=void 0,this.stopped=!0;const{currentEventId:e}=this,{timeout:i}=t,{reason:r=(i?s.KitUniproxyStreamControlReason.NO_ERROR:s.KitUniproxyStreamControlReason.CANCEL)}=t;this.streamId&&e&&this.transport.stream.close(this.streamId,e,r),i?this.closeTimer=new n.Timer((()=>{this.throwError((0,o.toError)("timeout",{scope:"asr"}))}),i):(this.clean(),!t.silent&&this.onStop&&this.onStop(e))},this.onData=t=>{this.buffer.push(t),this.stopped||this.handleData()},this.handleStreamControl=t=>{const{action:e,streamId:i}=t;i===this.streamId&&e!==s.KitUniproxyStreamControlAction.CHUNK&&e!==s.KitUniproxyStreamControlAction.NEXT_CHUNK&&(this.streamId=0,this.stop())},this.handleStatusChanged=t=>{switch(t.code){case s.KitUniproxyStatusCode.OPEN:return void(this.onReady&&this.onReady());case s.KitUniproxyStatusCode.CLOSED:return void this.throwError(new r.ConnectionClosedError(t.closed.code,t.closed.reason))}},this.handleASRResult=({header:t,payload:e})=>{var i,n,r,a;if(t.eventId!==this.currentEventId)return;if(null===(i=this.closeTimer)||void 0===i||i.cancel(),e.responseCode===s.KitUniproxyASRResponseCode.InternalError)return void this.throwError((0,o.toError)(e.responseCode,{scope:"asr"}));const l=e.endOfUtt||!1,c=(null===(r=null===(n=e.recognition)||void 0===n?void 0:n[0])||void 0===r?void 0:r.normalized)||"";(c||l)&&(null===(a=this.silenceTimer)||void 0===a||a.cancel()),this.onRecognition&&this.currentEventId&&this.onRecognition(this.currentEventId,{text:c,finished:l}),this.stopped&&this.clean()},this.handleError=t=>{"uniproxy"!==t.cause.scope||!(0,n.isRecord)(t.cause.header)||t.cause.header.eventId!==this.currentEventId&&t.cause.header.refMessageId!==this.currentEventId||this.throwError(t)},this.transport=t.transport,this.onRecognition=t.onRecognition,this.onError=t.onError,this.onStart=t.onStart,this.onStop=t.onStop,this.silenceTimeout=t.silenceTimeout||0}initializeRecognition(t){this.onReady=void 0,this.transport.on("asr",this.handleASRResult),this.transport.on("streamcontrol",this.handleStreamControl),this.transport.on("error",this.handleError),this.streamId=this.transport.stream.open();try{if(this.handleRequestSent=()=>{this.stopped=!1,this.handleData(),this.silenceTimeout&&(this.silenceTimer=new n.Timer((()=>this.stop()),this.silenceTimeout))},this.currentEventId=t(this.streamId,(()=>{var t;null===(t=this.handleRequestSent)||void 0===t||t.call(this)})),!this.currentEventId)throw(0,o.toError)("Request failed",{scope:"asr"});this.onStart&&this.onStart(this.currentEventId)}catch(t){this.throwError((0,o.toError)(t,{scope:"asr"}))}}clean(){var t,e;this.streamId=0,this.currentEventId="",this.buffer=[],this.indexBuffer=0,this.onReady=void 0,this.handleRequestSent=void 0,this.stopped=!0,this.transport.off("asr",this.handleASRResult),this.transport.off("streamcontrol",this.handleStreamControl),this.transport.off("error",this.handleError),null===(t=this.closeTimer)||void 0===t||t.cancel(),null===(e=this.silenceTimer)||void 0===e||e.cancel()}handleData(){if(this.currentEventId&&this.streamId)for(;this.indexBuffer<this.buffer.length;this.indexBuffer++)try{this.transport.stream.send(this.streamId,this.buffer[this.indexBuffer])}catch(t){this.throwError((0,o.toError)(t,{scope:"asr"}))}}throwError(t){const{onError:e,currentEventId:i}=this;this.clean(),e&&e(i,(0,o.toError)(t,{scope:"asr"}))}}},9086:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(9370),e)},4573:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Microphone=void 0;const n=i(1549),r=i(2510),s=i(8389),o=i(3044);e.Microphone=class{constructor(t,e){this.formatDescriptor=t,this.convertorProvider=e,this.indexData=0,this.dataBuffer=[],this.stopped=!0,this.timeSlice=1e3,this.onResult=new n.EventEmitter,this.onErrorResult=new n.EventEmitter,this.handleDataAvailable=t=>{this.onData&&this.onData(t.data),this.converter?this.converter.onData(t.data,this.indexData++).catch(this.handleError):this.dataBuffer.push(t.data),this.stopped&&0!==t.data.size&&this.finishData()},this.finishData=()=>{this.timerId&&clearTimeout(this.timerId);const t=this.converter?this.converter.getResultData():this.dataBuffer;this.onResult.emit(t),this.clear()},this.handleError=t=>{this.stop();const e=(0,o.toError)(t,{scope:"microphone"});this.onErrorResult.emit(e),this.onError&&this.onError(e)},this.clear=()=>{const{mediaRecorder:t}=this;t&&(this.timerId&&(clearTimeout(this.timerId),this.timerId=void 0),this.converter&&(this.converter.stop(),this.converter=void 0),t.removeEventListener("dataavailable",this.handleDataAvailable),t.removeEventListener("error",this.handleError))},this.recorderFactoryPromise=(0,s.getRecorderFactory)(this.formatDescriptor)}start(t=1e3,e){var i;return this.timeSlice=t,(0,r.isAudioSupported)()?Promise.all([this.recorderFactoryPromise,navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1}}),null===(i=this.convertorProvider)||void 0===i?void 0:i.call(this)]).then((([i,n,r])=>{this.converter=r?new r:void 0;const s=i(n);if(this.mediaRecorder=s,"inactive"===s.state){s.addEventListener("dataavailable",this.handleDataAvailable),s.addEventListener("error",this.handleError),s.addEventListener("start",e);const i=()=>{n.getAudioTracks().forEach((t=>t.stop())),s.removeEventListener("stop",i)};s.addEventListener("stop",i),s.start(t)}return this.stopped=!1,n})):Promise.reject((0,o.toError)("Media devices are not supported",{scope:"microphone"}))}stop(){const{mediaRecorder:t}=this;t&&!this.stopped&&(this.stopped=!0,"inactive"!==t.state&&t.stop(),this.timerId=window.setTimeout((()=>{this.finishData()}),this.timeSlice))}destroy(){this.stop(),this.clear()}}},6031:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.getRecorderFactory=void 0;const o=i(1549);e.getRecorderFactory=function(t){var e;const n={mimeType:t.mime,audioBitsPerSecond:16e3};return(null===(e=t.decoderDescriptor)||void 0===e?void 0:e.polyfillRequired)||"audio/x-pcm"===n.mimeType?Promise.resolve().then((()=>s(i(7838)))).then((({MediaRecorderPolyfill:t,PCMEncoder:e})=>{const i=new e;return e=>new t(e,Object.assign(Object.assign({},n),{encoder:i}))})):Promise.resolve((t=>{const e=new window.MediaRecorder(t,n);return Object.assign(e,{destroy:o.noop})}))}},8389:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(6031),e)},4400:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(4573),e)},6621:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MediaRecorderPolyfill=void 0;const n=i(9788),r=i(1905);class s{constructor(t,e){var i;this.destroyed=!1,this.state="inactive",this.mimeType="audio/x-pcm",this.outSampleRate=16e3,this.em=document.createDocumentFragment(),this.isRecordingStarted=!1,this.audioBitsPerSecond=0,this.videoBitsPerSecond=0,this.ondataavailable=null,this.onerror=null,this.onpause=null,this.onresume=null,this.onstart=null,this.onstop=null,this.onEncoderResult=t=>{const e=new Blob([t],{type:this.mimeType}),i=new MessageEvent("dataavailable",{data:e});this.dispatchEvent(i),"inactive"===this.state&&this.dispatchEvent(new Event("stop"))},this.onAudioProcess=t=>{"recording"===this.state&&(this.isRecordingStarted?this.encoder.handleAudioInput(t.inputBuffer):(t.inputBuffer.getChannelData(0).some((t=>0!==t))||t.inputBuffer.getChannelData(1).some((t=>0!==t)))&&(this.isRecordingStarted=!0,this.dispatchEvent(new Event("start"))))},this.onTimeSliceInterval=()=>{"recording"===this.state&&this.requestData()},this.stream=t,this.mimeType=null!==(i=e.mimeType)&&void 0!==i?i:this.mimeType,this.outSampleRate=(null==e?void 0:e.audioBitsPerSecond)||this.outSampleRate,this.audioBitsPerSecond=this.outSampleRate,this.audioContextController=new n.AudioContextController,this.encoder=e&&e.encoder,this.encoder&&this.encoder.onDataReadyCallback.on(this.onEncoderResult)}start(t){"inactive"===this.state&&(this.state="recording",this.isRecordingStarted=!1,this.initEncoder(),this.audioContextController.resume(),this.audioContextController.run((()=>{this.input=r.audioContextWrapper.ctx.createMediaStreamSource(this.stream),this.processor=r.audioContextWrapper.ctx.createScriptProcessor(2048,2,2),this.input.connect(this.processor),this.processor.connect(r.audioContextWrapper.ctx.destination),this.processor.onaudioprocess=this.onAudioProcess,t&&(this.slicingIntervalId=setInterval(this.onTimeSliceInterval,t))})))}initEncoder(){this.encoder.init&&this.encoder.init({sampleRate:r.audioContextWrapper.ctx.sampleRate,outSampleRate:this.outSampleRate})}requestData(){"inactive"!==this.state&&this.encoder.requestData()}stop(){var t;"inactive"!==this.state&&(this.audioContextController.cancel(),this.destroyed||this.requestData(),this.state="inactive",this.slicingIntervalId&&(clearInterval(this.slicingIntervalId),this.slicingIntervalId=void 0),this.processor&&(null===(t=this.input)||void 0===t||t.disconnect(this.processor),this.processor.disconnect(r.audioContextWrapper.ctx.destination),this.processor.onaudioprocess=null),delete this.processor,delete this.input)}pause(){"recording"===this.state&&(this.state="paused",this.dispatchEvent(new Event("pause")))}resume(){"paused"===this.state&&(this.state="recording",this.dispatchEvent(new Event("resume")))}destroy(){this.destroyed=!0,this.stop(),this.encoder.destroy()}addEventListener(t,e,i){this.em.addEventListener.call(this.em,t,e,i)}removeEventListener(t,e,i){this.em.removeEventListener.call(this.em,t,e,i)}dispatchEvent(t){return this.em.dispatchEvent.call(this.em,t)}static isTypeSupported(t){return/audio\/x-pcm?/.test(t)||/audio\/x-raw?/.test(t)||/audio\/wave?/.test(t)}}s.notSupported=!navigator.mediaDevices||!AudioContext,e.MediaRecorderPolyfill=s},8233:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(1549),s=n(i(7663));e.default=class{constructor(){this.onDataReadyCallback=new r.EventEmitter,this.handleResultFromWorker=t=>{this.onDataReadyCallback.emit(t.data)},this.worker=function(t){const e=`(${t.toString()})()`,i=new Blob([e],{type:"application/javascript"});return new Worker(URL.createObjectURL(i))}(s.default),this.worker.addEventListener("message",this.handleResultFromWorker)}init(t){this.worker.postMessage(["init",{sampleRate:t.sampleRate,format:{sampleRate:t.outSampleRate,bufferSize:2048},channels:1}])}handleAudioInput(t){this.worker.postMessage(["encode",t.getChannelData(0)])}requestData(){this.worker.postMessage(["dump"])}destroy(){var t;this.onDataReadyCallback.clear(),null===(t=this.worker)||void 0===t||t.terminate()}}},7663:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){let t,e,i=0,n=[],r=4096;const s=1;function o(t,e,i){for(let n=0;n<i.length;n++)t.setUint8(e+n,i.charCodeAt(n))}function a(){const t=function(t){const i=new ArrayBuffer(44+2*t.length),n=new DataView(i);o(n,0,"RIFF"),n.setUint32(4,32+2*t.length,!0),o(n,8,"WAVE"),o(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,s,!0),n.setUint32(24,e,!0);const r=2*s;return n.setUint32(28,e*r,!0),n.setUint16(32,r,!0),n.setUint16(34,16,!0),o(n,36,"data"),n.setUint32(40,2*t.length,!0),function(t,e,i){for(let n=0;n<i.length;n++,e+=2){const r=Math.max(-1,Math.min(1,i[n]));t.setInt16(e,r<0?32768*r:32767*r,!0)}}(n,44,t),n}(function(t,e){const i=new Float32Array(e);let n=0;for(let e=0;e<t.length;e++)i.set(t[e],n),n+=t[e].length;return i}(n,i)).buffer;postMessage(t,[t]),i=0,n=[]}self.onmessage=function(s){const o=s.data[0],l=s.data[1];switch(o){case"init":t=(c=l).sampleRate,e=c.format.sampleRate||t,r=c.format.bufferSize||r;break;case"encode":!function(r){if(e===t)n.push(r),i+=r.length;else{const s=(i=>{const n=Number(t)/e,r=Math.ceil(i.length/n),s=new Float32Array(r);for(let t=1,e=n;t<r-1;e+=n,t++){const n=Math.floor(e),r=e-n,o=n+1<i.length?n+1:i.length-1;s[t]=i[n]*(1-r)+i[o]*r}return s[0]=i[0],s[r-1]=i[i.length-1],s})(r);n.push(s),i+=s.length}}(l);break;case"dump":a()}var c}}},7838:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PCMEncoder=e.MediaRecorderPolyfill=void 0;var r=i(6621);Object.defineProperty(e,"MediaRecorderPolyfill",{enumerable:!0,get:function(){return r.MediaRecorderPolyfill}});var s=i(8233);Object.defineProperty(e,"PCMEncoder",{enumerable:!0,get:function(){return n(s).default}})},9329:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceInput=void 0;const n=i(4871),r=i(917),s=i(1549),o=i(9086),a=i(8607),l=i(4400),c=i(2510);class d{constructor(t,e,i){this.transport=t,this.formatDescriptor=e,this.sendVoiceEvent=i,this.status=new s.Status(r.AliceStatus.SUSPENDED),this.onStart=new s.EventEmitter,this.onError=new s.EventEmitter,this.onStop=new s.EventEmitter,this.onRecognition=new s.EventEmitter,this.currentMessageId="",this.start=t=>{this.destroy(),this.status.setValue(r.AliceStatus.THINKING);const e=(null==t?void 0:t.messageId)||(0,s.createUUID)();return this.currentMessageId=e,this.asr=new o.ASR({transport:this.transport,onRecognition:this.handleRecognition,onError:this.handleError,onStop:this.handleStop,silenceTimeout:a.SILENCE_TIMEOUT}),this.asr.start(((e,i)=>this.sendVoiceEvent(e,Object.assign(Object.assign({},t),{messageId:this.currentMessageId,onSent:i})))),this.microphone.start(200,(()=>{this.currentMessageId&&(this.onStart.emit({messageId:this.currentMessageId}),this.status.setValue(r.AliceStatus.LISTENING))})).catch(this.throwError),e},this.stop=(t={})=>{const{currentMessageId:e}=this;e&&(this.clean(),t.silent||this.onStop.emit({messageId:e}))},this.destroy=()=>{this.stop({silent:!0}),this.microphone.destroy()},this.handleMicrophoneData=t=>{this.asr&&this.asr.onData(t)},this.throwError=t=>{const{currentMessageId:e}=this;this.clean(),e&&this.onError.emit({messageId:e,error:t})},this.handleRecognition=(t,e)=>{this.onRecognition.emit({messageId:t,recognition:e})},this.handleError=(t,e)=>{this.throwError(e)},this.handleStop=()=>{this.stop()},this.microphone=new l.Microphone(this.formatDescriptor),this.microphone.onData=this.handleMicrophoneData}clean(){this.microphone.stop(),this.asr&&(this.asr.stop({reason:n.KitUniproxyStreamControlReason.REFUSED_STREAM,silent:!0}),this.asr=void 0),this.currentMessageId="",this.status.setValue(r.AliceStatus.SUSPENDED)}}d.getSupportedFormat=c.getAudioFormat,e.VoiceInput=d},1720:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.YabroSpotterInput=void 0;const r=i(3044),s=i(4871),o=i(917),a=n(i(7287)),l=i(1549),c=i(9086),d=i(8607);e.YabroSpotterInput=class{static isAvailable(){var t;return(0,l.isRecord)(null===(t=window.yandex)||void 0===t?void 0:t.spotter)}constructor(t,e,i){var n,s,h,p;this.transport=t,this.sendVoiceEvent=e,this.beforeStartCallback=i,this.status=new l.Status(o.AliceStatus.SUSPENDED),this.onStart=new l.EventEmitter,this.onError=new l.EventEmitter,this.onStop=new l.EventEmitter,this.onRecognition=new l.EventEmitter,this.currentMessageId="",this.spotterStarted=!1,this.start=()=>{this.beforeStartCallback(),this.destroy(),this.currentMessageId=(0,l.createUUID)(),this.status.setValue(o.AliceStatus.LISTENING),this.onStart.emit({messageId:this.currentMessageId}),this.asr=new c.ASR({transport:this.transport,onRecognition:this.handleRecognition,onError:this.handleError,onStop:this.handleStop,silenceTimeout:d.SILENCE_TIMEOUT}),this.asr.start(((t,e)=>this.sendVoiceEvent(t,{messageId:this.currentMessageId,onSent:e,mime:"audio/x-pcm;bit=16;rate=16000"})))},this.stop=(t={})=>{const{currentMessageId:e}=this;e&&(this.stopSpotter(),this.clean(),t.silent||this.onStop.emit({messageId:e}))},this.destroy=()=>{this.stop({silent:!0})},this.handleSpotter=t=>{if(this.spotterStarted&&(this.currentMessageId||this.start(),this.asr)){const e=new Uint8Array(t),i=new Blob([e],{type:"audio/x-pcm;bit=16;rate=16000"});this.asr.onData(i)}},this.throwError=t=>{const{currentMessageId:e}=this;this.clean(),e&&this.onError.emit({messageId:e,error:t})},this.handleRecognition=(t,e)=>{this.onRecognition.emit({messageId:t,recognition:e})},this.handleError=(t,e)=>{this.stopSpotter(),this.throwError(e)},this.handleStop=()=>{this.stop()},null===(s=null===(n=window.yandex)||void 0===n?void 0:n.spotter)||void 0===s||s.onMicDataAvailable.addListener(this.handleSpotter),null===(p=null===(h=window.yandex)||void 0===h?void 0:h.spotter)||void 0===p||p.onCaptureError.addListener((t=>this.throwError((0,r.toError)(t,{scope:"spotter"})))),a.default.on("status",(()=>{a.default.status===o.AliceStatus.SUSPENDED?this.startSpotter():this.status.value===o.AliceStatus.SUSPENDED&&this.stopSpotter()})),Promise.resolve().then((()=>{a.default.status===o.AliceStatus.SUSPENDED&&this.startSpotter()}))}startSpotter(){var t,e;this.spotterStarted||(null===(e=null===(t=window.yandex)||void 0===t?void 0:t.spotter)||void 0===e||e.startReceiveMicData(),this.spotterStarted=!0)}stopSpotter(){var t,e;this.spotterStarted&&(null===(e=null===(t=window.yandex)||void 0===t?void 0:t.spotter)||void 0===e||e.stopReceiveMicData(),this.spotterStarted=!1)}clean(){this.asr&&(this.asr.stop({reason:s.KitUniproxyStreamControlReason.REFUSED_STREAM,silent:!0}),this.asr=void 0),this.currentMessageId="",this.status.setValue(o.AliceStatus.SUSPENDED)}}},8607:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SILENCE_TIMEOUT=void 0,e.SILENCE_TIMEOUT=1e4},6455:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(9329),e),r(i(1720),e),r(i(6790),e)},6790:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},2711:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getAudioFormat=void 0;const n=i(2717);e.getAudioFormat=function(){if((0,n.isAudioSupported)()){if(!window.MediaRecorder||!window.MediaRecorder.isTypeSupported)return{mime:"audio/x-pcm;bit=16;rate=16000",decoderDescriptor:{polyfillRequired:!0}};for(const t of["audio/webm;codecs=opus","audio/ogg;codecs=opus"])if(window.MediaRecorder.isTypeSupported(t))return{mime:t};return{mime:"audio/x-pcm;bit=16;rate=16000",decoderDescriptor:{polyfillRequired:!0}}}}},2510:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(2711),e),r(i(2717),e)},2717:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isAudioSupported=void 0,e.isAudioSupported=()=>{var t;const{MediaRecorder:e,AudioContext:i,webkitAudioContext:n}=window,r=null===(t=null===navigator||void 0===navigator?void 0:navigator.mediaDevices)||void 0===t?void 0:t.getUserMedia;return Boolean(r&&(e||i||n))}},1905:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.audioContextWrapper=void 0;const n=i(2969),r=t=>s(t)?t.resume().catch((t=>n.logger.error("Failed to resume AudioContext",t))):Promise.resolve(),s=t=>"suspended"===t.state||"interrupted"===t.state;let o;e.audioContextWrapper={get ctx(){return o},init:()=>{o||(o=(()=>{const t=new(window.AudioContext||window.webkitAudioContext);return(t=>{if(!s(t))return;const e=["touchstart","touchend","mousedown","keydown"],i=()=>{r(t).then(n)},n=()=>e.forEach((t=>document.body.removeEventListener(t,i)));e.forEach((t=>document.body.addEventListener(t,i)))})(t),t})())},resume:()=>r(o),isSuspended:()=>s(o),isRunning:()=>"running"===o.state}},917:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AliceStatus=e.AppId=e.Platform=void 0,e.Platform={WINDOWS:"windows"},e.AppId={WEB_DESKTOP:"ru.yandex.web.desktop",YABRO:"yabro"},e.AliceStatus={THINKING:"thinking",LISTENING:"listening",SUSPENDED:"suspended",SPEAKING:"speaking"}},7948:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CustomDirectiveHandler=void 0;const n=i(1549),r=i(5744);class s extends r.DirectiveHandler{constructor(t){const{name:e,type:i,handleDirective:r,cancel:s=n.noop,destroy:o=n.noop}=t;super(e,i),this.handleDirective=r,this.cancel=s,this.destroy=o}}e.CustomDirectiveHandler=s},5744:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DirectiveHandler=void 0;class i{constructor(t,e="client_action"){this.name=t,this.type=e,this._inProgress=!1}get inProgress(){return this._inProgress}get isSpeaking(){return!1}onSpeechFetched(){}cancel(t=!0){}destroy(){this.cancel(!1)}get key(){return this.type+this.name}setProgress(t){this._inProgress!==t&&(this._inProgress=t,i.updateStatus())}}i.updateStatus=()=>{},e.DirectiveHandler=i},1386:function(t,e,i){var n=this&&this.__decorate||function(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0}),e.OpenUriDirectiveHandler=void 0;const r=i(1549),s=i(5744);class o extends s.DirectiveHandler{constructor(t={}){super("open_uri"),this._options=t,this._timeoutId=0}handleDirective(t,e){var i;const{beforeHandle:n,onHandle:s,skip:o=r.noop}=this._options,a=(null==e?void 0:e.isUserEvent)?0:null!==(i=this._options.delay)&&void 0!==i?i:1200;if(o(t))return;this.cancel(),null==n||n(t);const{payload:l}=t;if(!l)return;const c=()=>{s?s(t,e):(null==e?void 0:e.isUserEvent)?window.open(l.uri,"_blank"):window.location.href=l.uri,this.cancel()};a?(this.setProgress(!0),this._timeoutId=window.setTimeout(c,a)):c()}cancel(){clearTimeout(this._timeoutId),this._timeoutId=void 0,this.setProgress(!1)}}n([r.bind],o.prototype,"handleDirective",null),n([r.bind],o.prototype,"cancel",null),e.OpenUriDirectiveHandler=o},9351:function(t,e,i){var n=this&&this.__decorate||function(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PrintTextInMessageViewDirectiveHandler=void 0;const s=i(4871),o=r(i(7287)),a=i(2969),l=i(1549),c=i(5744);class d extends c.DirectiveHandler{constructor(t){super("print_text_in_message_view"),this.options=t,this._isSpeaking=!1,this._isSpeechFetched=!1}handleDirective(t,e){var i;this._isSpeaking=o.default.state.voiceSession;const n=(null!==(i=null==e?void 0:e.directives)&&void 0!==i?i:[]).find((t=>"server_action"===t.type));this._currentDirective&&t?a.logger.error("Got new PrintTextInMessageView directive before handled prev"):this._nextServerDirective&&n?a.logger.error("Got new server directive before handled prev"):(this.setProgress(!0),this._currentDirective=t,this._nextServerDirective=n,this.handlePrintTextDirective())}cancel(){var t,e;null===(e=(t=this.options).onCancel)||void 0===e||e.call(t),this.clean()}get isSpeaking(){return this._isSpeaking}onSpeechFetched(){this._isSpeaking&&(this._currentDirective||this._nextServerDirective?(this._isSpeechFetched=!0,this.handleServerDirective()):this.clean())}handlePrintTextDirective(){if(!this._currentDirective||this._textAnimationTimeoutId)return;this.options.onHandle(this._currentDirective);const{payload:t}=this._currentDirective;if(!t)return;if(this._currentDirective=void 0,!this._nextServerDirective)return void(this._isSpeaking&&!this._isSpeechFetched||this.clean());const e=t.symbols_per_second?t.text.length/t.symbols_per_second*1e3:0;this._textAnimationTimeoutId=window.setTimeout((()=>{this._textAnimationTimeoutId=void 0,this.handlePrintTextDirective()}),e);const i=t.prefetch_after_ms||0;this._serverDirectiveTimeoutId=window.setTimeout((()=>{this._serverDirectiveTimeoutId=void 0,this.handleServerDirective()}),i)}handleServerDirective(){this._currentDirective||!this._nextServerDirective||this._serverDirectiveTimeoutId||this._isSpeaking&&!this._isSpeechFetched||(o.default.sendVinsRequest({type:s.KitUniproxyDirectiveEventType.server_action,name:this._nextServerDirective.name,payload:this._nextServerDirective.payload},{voiceSession:this._isSpeaking}),this._nextServerDirective=void 0,this._isSpeechFetched=!1)}clean(){window.clearTimeout(this._serverDirectiveTimeoutId),window.clearTimeout(this._textAnimationTimeoutId),this.setProgress(!1),this._serverDirectiveTimeoutId=void 0,this._textAnimationTimeoutId=void 0,this._currentDirective=void 0,this._nextServerDirective=void 0,this._isSpeaking=!1,this._isSpeechFetched=!1}}n([l.bind],d.prototype,"handleDirective",null),n([l.bind],d.prototype,"clean",null),e.PrintTextInMessageViewDirectiveHandler=d},7573:function(t,e,i){var n=this&&this.__decorate||function(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(e,"__esModule",{value:!0}),e.SystemCommandDirectiveHandler=void 0;const r=i(1549),s=i(5744);class o extends s.DirectiveHandler{static isAvailable(){var t;return(0,r.isRecord)(null===(t=window.yandex)||void 0===t?void 0:t.speechkit)}constructor(t){super(t.name),this._options=t}handleDirective(t){var e,i,n,r;null===(i=null===(e=window.yandex)||void 0===e?void 0:e.speechkit)||void 0===i||i.onExecuteDirectiveResult.addListener(this.handleExecuteDirective),this.setProgress(!0),null===(r=(n=this._options).onBeforeHandle)||void 0===r||r.call(n,t),this._timeoutId=window.setTimeout((()=>{var e,i,n,r;this._timeoutId=void 0,this.setProgress(!1),null===(i=(e=this._options).onHandle)||void 0===i||i.call(e,t),t.name&&(null===(r=null===(n=window.yandex)||void 0===n?void 0:n.speechkit)||void 0===r||r.executeDirective(t.name,JSON.stringify(t),!1))}),this._options.delay)}cancel(){var t,e;window.clearTimeout(this._timeoutId),this._timeoutId=void 0,null===(e=(t=this._options).onCancel)||void 0===e||e.call(t),this.removeListener(),this.setProgress(!1)}handleExecuteDirective(t,e){var i,n,r,s;"DIRECTIVE_ERROR_OK"===e?null===(n=null===(i=window.yandex)||void 0===i?void 0:i.speechkit)||void 0===n||n.executeDirective("",t,!0):null===(s=(r=this._options).onError)||void 0===s||s.call(r,e),this.removeListener()}removeListener(){var t,e;null===(e=null===(t=window.yandex)||void 0===t?void 0:t.speechkit)||void 0===e||e.onExecuteDirectiveResult.removeListener(this.handleExecuteDirective)}}n([r.bind],o.prototype,"handleExecuteDirective",null),e.SystemCommandDirectiveHandler=o},8348:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseError=void 0;class i extends Error{constructor(t,e){super(t),e&&(this.stack=e),Object.setPrototypeOf(this,i.prototype)}static is(t){return t instanceof this}}e.BaseError=i},6788:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionClosedError=void 0;const n=i(3315);class r extends n.TransportError{constructor(t,e,i){super("Connection closed",i),this.closeCode=t,this.closeReason=e,Object.setPrototypeOf(this,r.prototype)}}e.ConnectionClosedError=r},7489:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorVisitor=void 0,e.ErrorVisitor=class{constructor(t,e){this.error=t,this.callback=e}}},3315:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TransportError=void 0;const n=i(8348);class r extends n.BaseError{constructor(t,e){super(`TransportError, ${t}`,e),Object.setPrototypeOf(this,r.prototype)}}e.TransportError=r},157:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorVisitor=void 0;var s=i(7489);Object.defineProperty(e,"ErrorVisitor",{enumerable:!0,get:function(){return s.ErrorVisitor}}),r(i(3315),e),r(i(6788),e)},8006:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.aliceKitEventBus=e.AliceKitEventBus=void 0;class i{constructor(){this.handlersMap={}}getEventHandlers(t){const e=this.handlersMap[t];if(e)return e;{const e=new Set;return this.handlersMap[t]=e,e}}emit(t,e){this.getEventHandlers(t).forEach((t=>t(e)))}on(t,e){return this.getEventHandlers(t).add(e),()=>this.off(t,e)}once(t,e){const i=()=>{this.off(t,e),this.off(t,i)};return this.on(t,e),this.on(t,i),i}off(t,e){this.getEventHandlers(t).delete(e)}destroy(){Object.values(this.handlersMap).forEach((t=>t.clear()))}}e.AliceKitEventBus=i,e.aliceKitEventBus=new i},9439:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.arpcRequest=void 0;const n=i(1549),r=i(9158),s=i(4162),o=i(8006),a="https://rpc.alice.yandex.ru";e.arpcRequest=async(t,e,i={})=>{const{basePath:l=a,headers:c}=i,d=t.split("/").filter(Boolean).join("_"),h=`${l}${t}`;try{return await((t,e,i,a={})=>(0,r.retry)((async()=>{try{const r={method:"POST",headers:await(async(t={})=>{const{appId:e,uuid:i}=await(0,n.getJsAliceKitInfo)();return Object.assign({"X-Ya-App-Id":e,"X-Ya-Uuid":i,"X-Ya-Device-Id":"","X-Ya-Language":"ru","Content-Type":"application/json"},t)})(a),body:JSON.stringify(i),credentials:"include"},l=await fetch(t,r);return o.aliceKitEventBus.emit("arpc-request-end",{name:e,url:t}),await(0,s.getResponseData)(l,t)}catch(i){throw o.aliceKitEventBus.emit("arpc-request-error",{url:t,name:`${e}_error`,error:i}),i}}),4)())(h,d,e,c)}catch(t){throw o.aliceKitEventBus.emit("arpc-request-fatal-error",{url:h,name:d,error:t}),t}}},4544:function(t,e,i){var n=this&&this.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i};Object.defineProperty(e,"__esModule",{value:!0}),e.createChatWithMessages=void 0;const r=i(9439);e.createChatWithMessages=async(t,e={},i)=>{var{dialogId:s}=e,o=n(e,["dialogId"]);return(0,r.arpcRequest)("/dialog/create_dialog_with_messages",Object.assign(Object.assign({},o),{dialog_id:s,request_ids:t}),{basePath:i})}},5844:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isServerAction=void 0,e.isServerAction=t=>"server_action"===t.type},9162:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getChatHistory=e.DEFAULT_GET_CHAT_HISTORY_LIMIT=e.MessageMark=void 0;const n=i(9439);var r;(r=e.MessageMark||(e.MessageMark={}))[r.NOT_SET=0]="NOT_SET",r[r.GOOD=1]="GOOD",r[r.BAD=2]="BAD",e.DEFAULT_GET_CHAT_HISTORY_LIMIT=50,e.getChatHistory=async(t,i=Number.MAX_SAFE_INTEGER,r,s=e.DEFAULT_GET_CHAT_HISTORY_LIMIT,o)=>(0,n.arpcRequest)("/dialog/read_dialog",{dialog_id:t,ts_max_ms:i,last_history_message_id:r,limit:s},{basePath:o})},2854:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getChatList=void 0;const n=i(9439);e.getChatList=t=>(0,n.arpcRequest)("/dialog/list_dialogs",{},{basePath:t})},3478:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getGreetings=void 0;const r=i(4871),s=n(i(7287));e.getGreetings=(t={})=>{const{onboardingType:e,isTextExpected:i,origin:n="Web",purpose:o="get_greetings",originInfo:a}=t;return s.default.sendVinsRequest({name:"@@mm_semantic_frame",payload:{typed_semantic_frame:{onboarding_get_greetings_semantic_frame:Object.assign(Object.assign({},e&&{onboarding_type:{type_value:e}}),i&&{is_text_expected:{bool_value:i}})},analytics:Object.assign({purpose:o,origin:n},a&&{origin_info:a}),request_params:{disable_output_speech:!0,disable_should_listen:!0,is_parallel:!0}},type:r.KitUniproxyDirectiveEventType.server_action})}},3420:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getTrialState=void 0;const n=i(9439);e.getTrialState=async t=>(0,n.arpcRequest)("/get_alice_state",{},{basePath:t})},3943:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isWinYabro=void 0;const n=i(917);e.isWinYabro=(t,e)=>t===n.AppId.YABRO&&e===n.Platform.WINDOWS},8171:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.removeChat=void 0;const n=i(9439);e.removeChat=async(t,e)=>(0,n.arpcRequest)("/dialog/remove_dialog",{dialog_id:t},{basePath:e})},2416:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.removeChatMessages=void 0;const n=i(9439);e.removeChatMessages=async(t,e=[],i,r)=>(0,n.arpcRequest)("/dialog/remove_messages",{dialog_id:t,request_ids:e,do_remove_all:i},{basePath:r})},1669:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.sendExtendedFeedback=e.sendFeedback=void 0;const r=i(4871),s=n(i(7287));e.sendFeedback=(t,e)=>{const i="positive"===e?"Like":"Dislike";return s.default.sendVinsRequest({name:"@@mm_typed_callback",type:r.KitUniproxyDirectiveEventType.server_action,payload:{typed_callback_struct:{typed_callback_name:`AliceResponse${i}TypedCallback`,payload:{request_id:t}},analytics:{origin:"Scenario",purpose:"purpose"}},ignore_answer:!0},{voiceSession:!1})},e.sendExtendedFeedback=(t,e,i)=>s.default.sendVinsRequest({name:"@@mm_typed_callback",type:r.KitUniproxyDirectiveEventType.server_action,payload:{typed_callback_struct:{typed_callback_name:"AliceResponseFeedbackTypedCallback",payload:{request_id:t,dislike_reason:e,extended_feedback:i}},analytics:{origin:"Scenario",purpose:"purpose"}},ignore_answer:!0},{voiceSession:!1})},9328:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setEventEmittersErrorHandler=void 0;const n=i(1549);e.setEventEmittersErrorHandler=t=>{n.EventEmitter.errorHandler=t}},7738:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AliceStatus=e.DialogType=e.Alice2Mode=e.CustomDirectiveHandler=e.SystemCommandDirectiveHandler=e.PrintTextInMessageViewDirectiveHandler=e.OpenUriDirectiveHandler=e.DirectiveHandler=e.setEventEmittersErrorHandler=e.getGreetings=e.sendExtendedFeedback=e.sendFeedback=e.DEFAULT_GET_CHAT_HISTORY_LIMIT=e.MessageMark=e.getChatHistory=e.createChatWithMessages=e.getTrialState=e.getChatList=e.removeChat=e.removeChatMessages=e.isWinYabro=e.getJsAliceKitInfo=e.createUUID=e.default=void 0;var r=i(7287);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n(r).default}});var s=i(1549);Object.defineProperty(e,"createUUID",{enumerable:!0,get:function(){return s.createUUID}}),Object.defineProperty(e,"getJsAliceKitInfo",{enumerable:!0,get:function(){return s.getJsAliceKitInfo}});var o=i(3943);Object.defineProperty(e,"isWinYabro",{enumerable:!0,get:function(){return o.isWinYabro}});var a=i(2416);Object.defineProperty(e,"removeChatMessages",{enumerable:!0,get:function(){return a.removeChatMessages}});var l=i(8171);Object.defineProperty(e,"removeChat",{enumerable:!0,get:function(){return l.removeChat}});var c=i(2854);Object.defineProperty(e,"getChatList",{enumerable:!0,get:function(){return c.getChatList}});var d=i(3420);Object.defineProperty(e,"getTrialState",{enumerable:!0,get:function(){return d.getTrialState}});var h=i(4544);Object.defineProperty(e,"createChatWithMessages",{enumerable:!0,get:function(){return h.createChatWithMessages}});var p=i(9162);Object.defineProperty(e,"getChatHistory",{enumerable:!0,get:function(){return p.getChatHistory}}),Object.defineProperty(e,"MessageMark",{enumerable:!0,get:function(){return p.MessageMark}}),Object.defineProperty(e,"DEFAULT_GET_CHAT_HISTORY_LIMIT",{enumerable:!0,get:function(){return p.DEFAULT_GET_CHAT_HISTORY_LIMIT}});var u=i(1669);Object.defineProperty(e,"sendFeedback",{enumerable:!0,get:function(){return u.sendFeedback}}),Object.defineProperty(e,"sendExtendedFeedback",{enumerable:!0,get:function(){return u.sendExtendedFeedback}});var f=i(3478);Object.defineProperty(e,"getGreetings",{enumerable:!0,get:function(){return f.getGreetings}});var m=i(9328);Object.defineProperty(e,"setEventEmittersErrorHandler",{enumerable:!0,get:function(){return m.setEventEmittersErrorHandler}});var g=i(5744);Object.defineProperty(e,"DirectiveHandler",{enumerable:!0,get:function(){return g.DirectiveHandler}});var y=i(1386);Object.defineProperty(e,"OpenUriDirectiveHandler",{enumerable:!0,get:function(){return y.OpenUriDirectiveHandler}});var v=i(9351);Object.defineProperty(e,"PrintTextInMessageViewDirectiveHandler",{enumerable:!0,get:function(){return v.PrintTextInMessageViewDirectiveHandler}});var b=i(7573);Object.defineProperty(e,"SystemCommandDirectiveHandler",{enumerable:!0,get:function(){return b.SystemCommandDirectiveHandler}});var _=i(7948);Object.defineProperty(e,"CustomDirectiveHandler",{enumerable:!0,get:function(){return _.CustomDirectiveHandler}});var x=i(1776);Object.defineProperty(e,"Alice2Mode",{enumerable:!0,get:function(){return x.Alice2Mode}}),Object.defineProperty(e,"DialogType",{enumerable:!0,get:function(){return x.DialogType}});var k=i(917);Object.defineProperty(e,"AliceStatus",{enumerable:!0,get:function(){return k.AliceStatus}})},2969:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.logger=void 0,e.logger={error:(t,e="")=>console.error(t,String(e)),warn:(t,e="")=>console.warn(t,String(e))}},1776:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Alice2Mode=e.DialogType=void 0;const n=i(7934);var r;Object.defineProperty(e,"Alice2Mode",{enumerable:!0,get:function(){return n.TAlice2ModeInfo_EMode}}),(r=e.DialogType||(e.DialogType={}))[r.EXTERNAL_SKILL=1]="EXTERNAL_SKILL",r[r.DEDICATED_CHAT=2]="DEDICATED_CHAT"},4170:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EventEmitter=void 0;const n=i(3044),r=i(9476);class s{constructor(){this.listeners=new Set}on(t){if(!this.listeners.has(t))return this.listeners.add(t),()=>this.off(t)}off(t){this.listeners.delete(t)}once(t){const e=()=>{this.off(t),this.off(e)};this.on(t),this.on(e)}emit(t){if(this.listeners)for(const e of this.listeners)try{e(t)}catch(t){s.errorHandler((0,n.toError)(t,{scope:"eventemitter"}))}}clear(){this.listeners.clear()}}s.errorHandler=r.noop,e.EventEmitter=s},7185:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(4170),e)},3011:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Queue=void 0,e.Queue=class{constructor(){this.queue={},this.head=0,this.tail=0,this.push=t=>{this.queue[this.tail]=t,this.tail++},this.shift=()=>this.removeByIndex(this.head),this.forEach=t=>{for(let e=this.head;e<this.tail;e++)t(this.queue[e],e)},this.removeByIndex=t=>{const e=this.queue[t];return e&&(delete this.queue[t],this.head++),e},this.reset=()=>{this.queue={},this.head=0,this.tail=0}}get length(){return this.tail-this.head}}},9164:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Task=void 0;const n=i(3044),r=i(4916),s=i(9476);e.Task=class{constructor(t,{tag:e="default",id:i=(0,r.createUUID)(),data:o,onDone:a=s.noop,onCancel:l=s.noop}={}){this.task=t,this.run=()=>{try{const t=this.task(this.id);return t?t.then((()=>{this.onDone()})).catch((t=>{this.cancel(t)})):(this.onDone(),Promise.resolve())}catch(t){const e=(0,n.toError)(t,{scope:"task"});return this.cancel(e),Promise.reject(e)}},this.cancel=t=>{try{this.onCancel((0,n.toError)(t,{scope:"task"}))}catch(t){}},this.tag=e,this.id=i,this.data=o,this.onCancel=l,this.onDone=a}}},1444:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TaskQueue=void 0;const n=i(3011);e.TaskQueue=class{constructor(t=!1){this.isPaused=t,this.queue=new n.Queue,this.taskIds={},this.isExecuting=!1,this.isCanceling=!1,this.pause=()=>{this.isPaused=!0},this.resume=()=>{this.isPaused&&(this.isPaused=!1,this.execute())},this.push=(t,e)=>!this.isCanceling&&(e&&this.cancel(e),this.queue.push(t),this.taskIds[t.id]=!0,this.execute(),!0),this.cancel=(t,e)=>{if(!t)return void this.cancelAll(e);this.isCanceling=!0;const{id:i,tag:n}=t;this.queue.forEach(((t,r)=>{i!==t.id&&n!==t.tag||this.cancelTask(r,e)})),this.isCanceling=!1},this.forEach=t=>this.queue.forEach(t),this.hasTaskId=t=>{var e;return null!==(e=this.taskIds[t])&&void 0!==e&&e}}get length(){return this.queue.length}execute(){var t;if(!this.isPaused&&!this.isExecuting){for(this.isExecuting=!0;this.length&&!this.isPaused;)null===(t=this.queue.shift())||void 0===t||t.run();this.isExecuting=!1}}cancelAll(t){this.isCanceling=!0,this.queue.forEach((e=>e.cancel(t))),this.queue.reset(),this.taskIds={},this.isCanceling=!1}cancelTask(t,e){const i=this.queue.removeByIndex(t);i.cancel(e),delete this.taskIds[i.id]}}},8299:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(3011),e),r(i(1444),e),r(i(9164),e)},6802:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Status=void 0;const n=i(7185);e.Status=class{get value(){return this._value}constructor(t){this._value=t,this.onChange=new n.EventEmitter}setValue(t){this._value!==t&&(this._value=t,this.onChange.emit())}}},5297:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Timer=void 0,e.Timer=class{constructor(t,e,i=500){this.callback=t,this.timeout=e,this.step=i,this.timeoutId=void 0,this.endTime=0,this.cancel=()=>{this.timeoutId&&clearTimeout(this.timeoutId)},this.tick=()=>{const t=Date.now();if(this.endTime<=t||this.timeout<=0)return this.timeoutId=void 0,void this.callback();this.timeoutId=setTimeout(this.tick,this.endTime-t>this.step?this.step:this.endTime-t)},this.endTime=Date.now()+e,this.tick()}}},8362:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(5297),e)},6929:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createGUID=void 0,e.createGUID=(t="xxxx-xxxx-xxxx-xxxx")=>t.replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},4916:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createUUID=e.initUUID=void 0;const i=(()=>{if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues){let t=8;const e=new Uint32Array(8);return()=>(t>=8&&(crypto.getRandomValues(e),t=0),e[t++])}const t=()=>Math.trunc(65536*Math.random());return()=>65536*t()+t()})(),n=new Uint8Array(16),r=[2**40,2**32,2**24,65536,256];let s=i();const o="0123456789abcdef";let a=0;e.initUUID=t=>{a=0;for(let e=0,{length:i}=t;e<i;++e)a=(a<<5)-a+t.charCodeAt(e)|0;a&=65535},e.createUUID=()=>{var t,e,l,c;return t=Date.now(),e=a,l=(()=>{const t=s;return s+=1,s>4294967295&&(s=i()),t})(),c=i(),n[0]=t/r[0],n[1]=t/r[1],n[2]=t/r[2],n[3]=t/r[3],n[4]=t/r[4],n[5]=t,n[6]=e>>8&15|64,n[7]=e,n[8]=l>>24&63|128,n[9]=l>>16,n[10]=l>>8,n[11]=l,n[12]=c>>24,n[13]=c>>16,n[14]=c>>8,n[15]=c,(()=>{let t="";for(let e=0;e<16;++e)t+=o.charAt(n[e]>>>4),t+=o.charAt(15&n[e]),3!==e&&5!==e&&7!==e&&9!==e||(t+="-");return t})()}},9994:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bind=void 0;const n=i(7588),r=i(5117);e.bind=(t,e,i)=>{if((0,r.isFunction)(t))throw new TypeError(`bind decorator can't be applied to static method ${e.toString()}`);let s=i.value,o=!1;return{configurable:!0,get:function(){if(o||this===t||(0,n.hasOwnProperty)(this,e)||!(0,r.isFunction)(s))return s;const i=s.bind(this);return o=!0,Object.defineProperty(this,e,{configurable:!0,get:()=>i,set(t){s=t,delete this[e]}}),o=!1,i},set(t){s=t}}}},4739:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getJsAliceKitInfo=void 0;const r=n(i(7287)),s=i(2969);e.getJsAliceKitInfo=()=>r.default.info?Promise.resolve(r.default.info):(s.logger.warn("JsAliceKit should be initialized before use"),new Promise(((t,e)=>r.default.once("init",(()=>{r.default.info?t(r.default.info):e("JsAliceKit.info not exists after init")})))))},4162:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getResponseData=void 0;const n=i(3044);e.getResponseData=async(t,e)=>{if(!t.ok)throw(0,n.toError)(`Got status ${t.status} for request to ${e}`,{scope:"arpc"});return await t.json()}},1549:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(e,i);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,r)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),r(i(7185),e),r(i(8362),e),r(i(8299),e),r(i(6802),e),r(i(6929),e),r(i(4916),e),r(i(4739),e),r(i(5117),e),r(i(9476),e),r(i(355),e),r(i(9994),e),r(i(7588),e)},9476:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.noop=void 0,e.noop=()=>{}},7588:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.hasOwnProperty=e.isRecord=void 0,e.isRecord=t=>null!==t&&"object"==typeof t,e.hasOwnProperty=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},355:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.playAudioBuffer=void 0;const n=i(5117);e.playAudioBuffer=(t,e,i)=>{e.resume();const r=e.ctx.createBufferSource();r.buffer=t,r.connect(e.ctx.destination);const s=e.ctx.createGain();if(r.connect(s),s.connect(e.ctx.destination),s.gain.value=1,i)for(const t in i){const e=i[t];e&&r.addEventListener(t,e)}return"noteOn"in r&&(0,n.isFunction)(r.noteOn)?r.noteOn(0):r.start(),r}},9158:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.retry=void 0;const n=i(3044),r=i(5513);e.retry=(t,e=1,i=(t=>500*t**2))=>{if(e<=0)throw(0,n.toError)("@retry Error: invalid retry init. Tries count have to be > 0",{scope:"arpc"});return(...s)=>{const o=(t,s,a)=>t(...s).catch((l=>{if(a<=1)throw(0,n.toError)(`Function call "${t.name}" fail in ${e} retries. ${l.message}`,{scope:"arpc"});return(0,r.timeout)(i(e-a)).then((()=>o(t,s,a-1)))}));return o(t,s,e)}}},5513:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=void 0,e.timeout=t=>new Promise((e=>{setTimeout(e,t)}))},5117:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=e.isFunction=void 0;const n=i(7588);e.isFunction=t=>"function"==typeof t,e.isPromise=t=>(0,n.isRecord)(t)&&(0,e.isFunction)(t.then)},1248:function(module,exports,__webpack_require__){var factory;"undefined"!=typeof navigator&&(factory=function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,e){var i,n,r=t.length;for(i=0;i<r;i+=1)for(var s in n=t[i].prototype)Object.prototype.hasOwnProperty.call(n,s)&&(e.prototype[s]=n[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}var audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,i=this.audios.length;for(e=0;e<i;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(t,e){var i,n=0,r=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(n=0;n<e;n+=1)r.push(i);return r}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,i){return"float32"===e?new Float32Array(i):"int16"===e?new Int16Array(i):"uint8c"===e?new Uint8ClampedArray(i):t(e,i)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i=e.length;for(t=0;t<i;t+=1)BMMath[e[t]]=Math[e[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===_typeof$6(t)&&t.length){var e,i=createSizedArray(t.length),n=t.length;for(e=0;e<n;e+=1)i[e]=Math.abs(t[e]);return i}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,i,n){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=n<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,i,n){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,i){var n,r,s,o,a,l,c,d;switch(l=i*(1-e),c=i*(1-(a=6*t-(o=Math.floor(6*t)))*e),d=i*(1-(1-a)*e),o%6){case 0:n=i,r=d,s=l;break;case 1:n=c,r=i,s=l;break;case 2:n=l,r=i,s=d;break;case 3:n=l,r=c,s=i;break;case 4:n=d,r=l,s=i;break;case 5:n=i,r=l,s=c}return[n,r,s]}function RGBtoHSV(t,e,i){var n,r=Math.max(t,e,i),s=Math.min(t,e,i),o=r-s,a=0===r?0:o/r,l=r/255;switch(r){case s:n=0;break;case t:n=e-i+o*(e<i?6:0),n/=6*o;break;case e:n=i-t+2*o,n/=6*o;break;case i:n=t-e+4*o,n/=6*o}return[n,a,l]}function addSaturationToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[1]+=e,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[2]+=e,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(t,e){var i=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return i[0]+=e/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}var rgbToHex=function(){var t,e,i=[];for(t=0;t<256;t+=1)e=t.toString(16),i[t]=1===e.length?"0"+e:e;return function(t,e,n){return t<0&&(t=0),e<0&&(e=0),n<0&&(n=0),"#"+i[t]+i[e]+i[n]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$5(t)}var dataManager=function(){var t,e,i=1,n=[],r={onmessage:function(){},postMessage:function(e){t({data:e})}},s={postMessage:function(t){r.onmessage({data:t})}};function o(){e||(e=function(e){if(window.Worker&&window.Blob&&getWebWorker()){var i=new Blob(["var _workerSelf = self; self.onmessage = ",e.toString()],{type:"text/javascript"}),n=URL.createObjectURL(i);return new Worker(n)}return t=e,r}((function(t){if(s.dataManager||(s.dataManager=function(){function t(r,s){var o,a,l,c,d,h,p,u=r.length;for(a=0;a<u;a+=1)if("ks"in(o=r[a])&&!o.completed){if(o.completed=!0,o.hasMask){var f=o.masksProperties;for(c=f.length,l=0;l<c;l+=1)if(f[l].pt.k.i)n(f[l].pt.k);else for(h=f[l].pt.k.length,d=0;d<h;d+=1)f[l].pt.k[d].s&&n(f[l].pt.k[d].s[0]),f[l].pt.k[d].e&&n(f[l].pt.k[d].e[0])}0===o.ty?(o.layers=e(o.refId,s),t(o.layers,s)):4===o.ty?i(o.shapes):5===o.ty&&(0===(p=o).t.a.length&&p.t.p)}}function e(t,e){var i=function(t,e){for(var i=0,n=e.length;i<n;){if(e[i].id===t)return e[i];i+=1}return null}(t,e);return i?i.layers.__used?JSON.parse(JSON.stringify(i.layers)):(i.layers.__used=!0,i.layers):null}function i(t){var e,r,s;for(e=t.length-1;e>=0;e-=1)if("sh"===t[e].ty)if(t[e].ks.k.i)n(t[e].ks.k);else for(s=t[e].ks.k.length,r=0;r<s;r+=1)t[e].ks.k[r].s&&n(t[e].ks.k[r].s[0]),t[e].ks.k[r].e&&n(t[e].ks.k[r].e[0]);else"gr"===t[e].ty&&i(t[e].it)}function n(t){var e,i=t.i.length;for(e=0;e<i;e+=1)t.i[e][0]+=t.v[e][0],t.i[e][1]+=t.v[e][1],t.o[e][0]+=t.v[e][0],t.o[e][1]+=t.v[e][1]}function r(t,e){var i=e?e.split("."):[100,100,100];return t[0]>i[0]||!(i[0]>t[0])&&(t[1]>i[1]||!(i[1]>t[1])&&(t[2]>i[2]||!(i[2]>t[2])&&null))}var s,o=function(){var t=[4,4,14];function e(t){var e,i,n,r=t.length;for(e=0;e<r;e+=1)5===t[e].ty&&(void 0,n=(i=t[e]).t.d,i.t.d={k:[{s:n,t:0}]})}return function(i){if(r(t,i.v)&&(e(i.layers),i.assets)){var n,s=i.assets.length;for(n=0;n<s;n+=1)i.assets[n].layers&&e(i.assets[n].layers)}}}(),a=(s=[4,7,99],function(t){if(t.chars&&!r(s,t.v)){var e,n=t.chars.length;for(e=0;e<n;e+=1){var o=t.chars[e];o.data&&o.data.shapes&&(i(o.data.shapes),o.data.ip=0,o.data.op=99999,o.data.st=0,o.data.sr=1,o.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},t.chars[e].t||(o.data.shapes.push({ty:"no"}),o.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),l=function(){var t=[5,7,15];function e(t){var e,i,n=t.length;for(e=0;e<n;e+=1)5===t[e].ty&&(i=void 0,"number"==typeof(i=t[e].t.p).a&&(i.a={a:0,k:i.a}),"number"==typeof i.p&&(i.p={a:0,k:i.p}),"number"==typeof i.r&&(i.r={a:0,k:i.r}))}return function(i){if(r(t,i.v)&&(e(i.layers),i.assets)){var n,s=i.assets.length;for(n=0;n<s;n+=1)i.assets[n].layers&&e(i.assets[n].layers)}}}(),c=function(){var t=[4,1,9];function e(t){var i,n,r,s=t.length;for(i=0;i<s;i+=1)if("gr"===t[i].ty)e(t[i].it);else if("fl"===t[i].ty||"st"===t[i].ty)if(t[i].c.k&&t[i].c.k[0].i)for(r=t[i].c.k.length,n=0;n<r;n+=1)t[i].c.k[n].s&&(t[i].c.k[n].s[0]/=255,t[i].c.k[n].s[1]/=255,t[i].c.k[n].s[2]/=255,t[i].c.k[n].s[3]/=255),t[i].c.k[n].e&&(t[i].c.k[n].e[0]/=255,t[i].c.k[n].e[1]/=255,t[i].c.k[n].e[2]/=255,t[i].c.k[n].e[3]/=255);else t[i].c.k[0]/=255,t[i].c.k[1]/=255,t[i].c.k[2]/=255,t[i].c.k[3]/=255}function i(t){var i,n=t.length;for(i=0;i<n;i+=1)4===t[i].ty&&e(t[i].shapes)}return function(e){if(r(t,e.v)&&(i(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}(),d=function(){var t=[4,4,18];function e(t){var i,n,r;for(i=t.length-1;i>=0;i-=1)if("sh"===t[i].ty)if(t[i].ks.k.i)t[i].ks.k.c=t[i].closed;else for(r=t[i].ks.k.length,n=0;n<r;n+=1)t[i].ks.k[n].s&&(t[i].ks.k[n].s[0].c=t[i].closed),t[i].ks.k[n].e&&(t[i].ks.k[n].e[0].c=t[i].closed);else"gr"===t[i].ty&&e(t[i].it)}function i(t){var i,n,r,s,o,a,l=t.length;for(n=0;n<l;n+=1){if((i=t[n]).hasMask){var c=i.masksProperties;for(s=c.length,r=0;r<s;r+=1)if(c[r].pt.k.i)c[r].pt.k.c=c[r].cl;else for(a=c[r].pt.k.length,o=0;o<a;o+=1)c[r].pt.k[o].s&&(c[r].pt.k[o].s[0].c=c[r].cl),c[r].pt.k[o].e&&(c[r].pt.k[o].e[0].c=c[r].cl)}4===i.ty&&e(i.shapes)}}return function(e){if(r(t,e.v)&&(i(e.layers),e.assets)){var n,s=e.assets.length;for(n=0;n<s;n+=1)e.assets[n].layers&&i(e.assets[n].layers)}}}();var h={completeData:function(i){i.__complete||(c(i),o(i),a(i),l(i),d(i),t(i.layers,i.assets),function(i,n){if(i){var r=0,s=i.length;for(r=0;r<s;r+=1)1===i[r].t&&(i[r].data.layers=e(i[r].data.refId,n),t(i[r].data.layers,n))}}(i.chars,i.assets),i.__complete=!0)}};return h.checkColors=c,h.checkChars=a,h.checkPathProperties=l,h.checkShapes=d,h.completeLayers=t,h}()),s.assetLoader||(s.assetLoader=function(){function t(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"===_typeof$5(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(e,i,n,r){var s,o=new XMLHttpRequest;try{o.responseType="json"}catch(t){}o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)s=t(o),n(s);else try{s=t(o),n(s)}catch(t){r&&r(t)}};try{o.open(["G","E","T"].join(""),e,!0)}catch(t){o.open(["G","E","T"].join(""),i+"/"+e,!0)}o.send()}}}()),"loadAnimation"===t.data.type)s.assetLoader.load(t.data.path,t.data.fullPath,(function(e){s.dataManager.completeData(e),s.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){s.postMessage({id:t.data.id,status:"error"})}));else if("complete"===t.data.type){var e=t.data.animation;s.dataManager.completeData(e),s.postMessage({id:t.data.id,payload:e,status:"success"})}else"loadData"===t.data.type&&s.assetLoader.load(t.data.path,t.data.fullPath,(function(e){s.postMessage({id:t.data.id,payload:e,status:"success"})}),(function(){s.postMessage({id:t.data.id,status:"error"})}))})),e.onmessage=function(t){var e=t.data,i=e.id,r=n[i];n[i]=null,"success"===e.status?r.onComplete(e.payload):r.onError&&r.onError()})}function a(t,e){var r="processId_"+(i+=1);return n[r]={onComplete:t,onError:e},r}return{loadAnimation:function(t,i,n){o();var r=a(i,n);e.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:r})},loadData:function(t,i,n){o();var r=a(i,n);e.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:r})},completeAnimation:function(t,i,n){o();var r=a(i,n);e.postMessage({type:"complete",animation:t,id:r})}}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(t,e,i){var n="";if(t.e)n=t.p;else if(e){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),n=e+r}else n=i,n+=t.u?t.u:"",n+=t.p;return n}function r(t){var e=0,i=setInterval(function(){(t.getBBox().width||e>500)&&(this._imageLoaded(),clearInterval(i)),e+=1}.bind(this),50)}function s(t){var e={assetData:t},i=n(t,this.assetsPath,this.path);return dataManager.loadData(i,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}function o(){this._imageLoaded=e.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=r.bind(this),this.createFootageData=s.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return o.prototype={loadAssets:function(t,e){var i;this.imagesLoadedCb=e;var n=t.length;for(i=0;i<n;i+=1)t[i].layers||(t[i].t&&"seq"!==t[i].t?3===t[i].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[i]))):(this.totalImages+=1,this.images.push(this._createImageData(t[i]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,i=this.images.length;e<i;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(e){var i=n(e,this.assetsPath,this.path),r=createTag("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",function(){s.img=t,this._imageLoaded()}.bind(this),!1),r.src=i;var s={img:r,assetData:e};return s},createImageData:function(e){var i=n(e,this.assetsPath,this.path),r=createNS("image");isSafari?this.testImageLoaded(r):r.addEventListener("load",this._imageLoaded,!1),r.addEventListener("error",function(){s.img=t,this._imageLoaded()}.bind(this),!1),r.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this._elementHelper.append?this._elementHelper.append(r):this._elementHelper.appendChild(r);var s={img:r,assetData:e};return s},imageLoaded:e,footageLoaded:i,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},o}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var i=this._cbs[t],n=0;n<i.length;n+=1)i[n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var i=0,n=this._cbs[t].length;i<n;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),i-=1,n-=1),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(t){for(var e,i=t.split("\r\n"),n={},r=0,s=0;s<i.length;s+=1)2===(e=i[s].split(":")).length&&(n[e[0]]=e[1].trim(),r+=1);if(0===r)throw new Error;return n}return function(e){for(var i=[],n=0;n<e.length;n+=1){var r=e[n],s={time:r.tm,duration:r.dr};try{s.payload=JSON.parse(e[n].cm)}catch(i){try{s.payload=t(e[n].cm)}catch(t){s.payload={name:e[n].cm}}}i.push(s)}return i}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function e(t){for(var e=0,i=this.compositions.length;e<i;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),renderers={},registerRenderer=function(t,e){renderers[t]=e};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";t.animType?e=t.animType:t.renderer&&(e=t.renderer);var i=getRenderer(e);this.renderer=new i(this,t.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&"object"!==_typeof$4(e)&&(e=JSON.parse(e));var i={wrapper:t,animationData:e},n=t.attributes;i.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",i.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var r=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";"false"===r?i.loop=!1:"true"===r?i.loop=!0:""!==r&&(i.loop=parseInt(r,10));var s=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;i.autoplay="false"!==s,i.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),i.path?this.setParams(i):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,i,n=this.animationData.layers,r=n.length,s=t.layers,o=s.length;for(i=0;i<o;i+=1)for(e=0;e<r;){if(n[e].id===s[i].id){n[e]=s[i];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(r=t.assets.length,e=0;e<r;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,e){var i="number"==typeof t?t:void 0,n="number"==typeof e?e:void 0;this.renderer.updateContainerSize(i,n)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,i=0;i<this.markers.length;i+=1)if((e=this.markers[i]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,i){if(!i||this.name===i){var n=Number(t);if(isNaN(n)){var r=this.getMarkerData(t);r&&this.goToAndStop(r.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,i){if(!i||this.name===i){var n=Number(t);if(isNaN(n)){var r=this.getMarkerData(t);r&&(r.duration?this.playSegments([r.time,r.time+r.duration],!0):this.goToAndStop(r.time,!0))}else this.goToAndStop(n,e,i);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var e=this.currentRawFrame+t*this.frameModifier,i=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(i=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(i=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),i&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"===_typeof$4(t[0])){var i,n=t.length;for(i=0;i<n;i+=1)this.segments.push(t[i])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var i=t.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),e=this.assetsPath+i}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,e,i){try{this.renderer.getElementByPath(t).updateDocumentData(e,i)}catch(t){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var t={},e=[],i=0,n=0,r=0,s=!0,o=!1;function a(t){for(var i=0,r=t.target;i<n;)e[i].animation===r&&(e.splice(i,1),i-=1,n-=1,r.isPaused||d()),i+=1}function l(t,i){if(!t)return null;for(var r=0;r<n;){if(e[r].elem===t&&null!==e[r].elem)return e[r].animation;r+=1}var s=new AnimationItem;return h(s,t),s.setData(t,i),s}function c(){r+=1,f()}function d(){r-=1}function h(t,i){t.addEventListener("destroy",a),t.addEventListener("_active",c),t.addEventListener("_idle",d),e.push({elem:i,animation:t}),n+=1}function p(t){var a,l=t-i;for(a=0;a<n;a+=1)e[a].animation.advanceTime(l);i=t,r&&!o?window.requestAnimationFrame(p):s=!0}function u(t){i=t,window.requestAnimationFrame(p)}function f(){!o&&r&&s&&(window.requestAnimationFrame(u),s=!1)}return t.registerAnimation=l,t.loadAnimation=function(t){var e=new AnimationItem;return h(e,null),e.setParams(t),e},t.setSpeed=function(t,i){var r;for(r=0;r<n;r+=1)e[r].animation.setSpeed(t,i)},t.setDirection=function(t,i){var r;for(r=0;r<n;r+=1)e[r].animation.setDirection(t,i)},t.play=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.play(t)},t.pause=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.pause(t)},t.stop=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.stop(t)},t.togglePause=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.togglePause(t)},t.searchAnimations=function(t,e,i){var n,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=r.length;for(n=0;n<s;n+=1)i&&r[n].setAttribute("data-bm-type",i),l(r[n],t);if(e&&0===s){i||(i="svg");var o=document.getElementsByTagName("body")[0];o.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",i),o.appendChild(a),l(a,t)}},t.resize=function(){var t;for(t=0;t<n;t+=1)e[t].animation.resize()},t.goToAndStop=function(t,i,r){var s;for(s=0;s<n;s+=1)e[s].animation.goToAndStop(t,i,r)},t.destroy=function(t){var i;for(i=n-1;i>=0;i-=1)e[i].animation.destroy(t)},t.freeze=function(){o=!0},t.unfreeze=function(){o=!1,f()},t.setVolume=function(t,i){var r;for(r=0;r<n;r+=1)e[r].animation.setVolume(t,i)},t.mute=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.mute(t)},t.unmute=function(t){var i;for(i=0;i<n;i+=1)e[i].animation.unmute(t)},t.getRegisteredAnimations=function(){var t,i=e.length,n=[];for(t=0;t<i;t+=1)n.push(e[t].animation);return n},t}(),BezierFactory=function(){var t={getBezierEasing:function(t,i,n,r,s){var o=s||("bez_"+t+"_"+i+"_"+n+"_"+r).replace(/\./g,"p");if(e[o])return e[o];var a=new d([t,i,n,r]);return e[o]=a,a}},e={},i=11,n=1/(i-1),r="function"==typeof Float32Array;function s(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function a(t){return 3*t}function l(t,e,i){return((s(e,i)*t+o(e,i))*t+a(e))*t}function c(t,e,i){return 3*s(e,i)*t*t+2*o(e,i)*t+a(e)}function d(t){this._p=t,this._mSampleValues=r?new Float32Array(i):new Array(i),this._precomputed=!1,this.get=this.get.bind(this)}return d.prototype={get:function(t){var e=this._p[0],i=this._p[1],n=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),e===i&&n===r?t:0===t?0:1===t?1:l(this._getTForX(t),i,r)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&i===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],r=0;r<i;++r)this._mSampleValues[r]=l(r*n,t,e)},_getTForX:function(t){for(var e=this._p[0],r=this._p[2],s=this._mSampleValues,o=0,a=1,d=i-1;a!==d&&s[a]<=t;++a)o+=n;var h=o+(t-s[--a])/(s[a+1]-s[a])*n,p=c(h,e,r);return p>=.001?function(t,e,i,n){for(var r=0;r<4;++r){var s=c(e,i,n);if(0===s)return e;e-=(l(e,i,n)-t)/s}return e}(t,h,e,r):0===p?h:function(t,e,i,n,r){var s,o,a=0;do{(s=l(o=e+(i-e)/2,n,r)-t)>0?i=o:e=o}while(Math.abs(s)>1e-7&&++a<10);return o}(t,o,o+n,e,r)}},t}(),pooling={double:function(t){return t.concat(createSizedArray(t.length))}},poolFactory=function(t,e,i){var n=0,r=t,s=createSizedArray(r);return{newElement:function(){return n?s[n-=1]:e()},release:function(t){n===r&&(s=pooling.double(s),r*=2),i&&i(t),s[n]=t,n+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(t){var e,i=t.lengths.length;for(e=0;e<i;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0}));function bezFunction(){var t=Math;function e(t,e,i,n,r,s){var o=t*n+e*r+i*s-r*n-s*t-i*e;return o>-.001&&o<.001}var i=function(t,e,i,n){var r,s,o,a,l,c,d=getDefaultCurveSegments(),h=0,p=[],u=[],f=bezierLengthPool.newElement();for(o=i.length,r=0;r<d;r+=1){for(l=r/(d-1),c=0,s=0;s<o;s+=1)a=bmPow(1-l,3)*t[s]+3*bmPow(1-l,2)*l*i[s]+3*(1-l)*bmPow(l,2)*n[s]+bmPow(l,3)*e[s],p[s]=a,null!==u[s]&&(c+=bmPow(p[s]-u[s],2)),u[s]=p[s];c&&(h+=c=bmSqrt(c)),f.percents[r]=l,f.lengths[r]=h}return f.addedLength=h,f};function n(t){this.segmentLength=0,this.points=new Array(t)}function r(t,e){this.partialLength=t,this.point=e}var s,o=(s={},function(t,i,o,a){var l=(t[0]+"_"+t[1]+"_"+i[0]+"_"+i[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!s[l]){var c,d,h,p,u,f,m,g=getDefaultCurveSegments(),y=0,v=null;2===t.length&&(t[0]!==i[0]||t[1]!==i[1])&&e(t[0],t[1],i[0],i[1],t[0]+o[0],t[1]+o[1])&&e(t[0],t[1],i[0],i[1],i[0]+a[0],i[1]+a[1])&&(g=2);var b=new n(g);for(h=o.length,c=0;c<g;c+=1){for(m=createSizedArray(h),u=c/(g-1),f=0,d=0;d<h;d+=1)p=bmPow(1-u,3)*t[d]+3*bmPow(1-u,2)*u*(t[d]+o[d])+3*(1-u)*bmPow(u,2)*(i[d]+a[d])+bmPow(u,3)*i[d],m[d]=p,null!==v&&(f+=bmPow(m[d]-v[d],2));y+=f=bmSqrt(f),b.points[c]=new r(f,m),v=m}b.segmentLength=y,s[l]=b}return s[l]});function a(t,e){var i=e.percents,n=e.lengths,r=i.length,s=bmFloor((r-1)*t),o=t*e.addedLength,a=0;if(s===r-1||0===s||o===n[s])return i[s];for(var l=n[s]>o?-1:1,c=!0;c;)if(n[s]<=o&&n[s+1]>o?(a=(o-n[s])/(n[s+1]-n[s]),c=!1):s+=l,s<0||s>=r-1){if(s===r-1)return i[s];c=!1}return i[s]+(i[s+1]-i[s])*a}var l=createTypedArray("float32",8);return{getSegmentsLength:function(t){var e,n=segmentsLengthPool.newElement(),r=t.c,s=t.v,o=t.o,a=t.i,l=t._length,c=n.lengths,d=0;for(e=0;e<l-1;e+=1)c[e]=i(s[e],s[e+1],o[e],a[e+1]),d+=c[e].addedLength;return r&&l&&(c[e]=i(s[e],s[0],o[e],a[0]),d+=c[e].addedLength),n.totalLength=d,n},getNewSegment:function(e,i,n,r,s,o,c){s<0?s=0:s>1&&(s=1);var d,h=a(s,c),p=a(o=o>1?1:o,c),u=e.length,f=1-h,m=1-p,g=f*f*f,y=h*f*f*3,v=h*h*f*3,b=h*h*h,_=f*f*m,x=h*f*m+f*h*m+f*f*p,k=h*h*m+f*h*p+h*f*p,w=h*h*p,C=f*m*m,E=h*m*m+f*p*m+f*m*p,S=h*p*m+f*p*p+h*m*p,$=h*p*p,M=m*m*m,I=p*m*m+m*p*m+m*m*p,D=p*p*m+m*p*p+p*m*p,T=p*p*p;for(d=0;d<u;d+=1)l[4*d]=t.round(1e3*(g*e[d]+y*n[d]+v*r[d]+b*i[d]))/1e3,l[4*d+1]=t.round(1e3*(_*e[d]+x*n[d]+k*r[d]+w*i[d]))/1e3,l[4*d+2]=t.round(1e3*(C*e[d]+E*n[d]+S*r[d]+$*i[d]))/1e3,l[4*d+3]=t.round(1e3*(M*e[d]+I*n[d]+D*r[d]+T*i[d]))/1e3;return l},getPointInSegment:function(e,i,n,r,s,o){var l=a(s,o),c=1-l;return[t.round(1e3*(c*c*c*e[0]+(l*c*c+c*l*c+c*c*l)*n[0]+(l*l*c+c*l*l+l*c*l)*r[0]+l*l*l*i[0]))/1e3,t.round(1e3*(c*c*c*e[1]+(l*c*c+c*l*c+c*c*l)*n[1]+(l*l*c+c*l*l+l*c*l)*r[1]+l*l*l*i[1]))/1e3]},buildBezierData:o,pointOnLine2D:e,pointOnLine3D:function(i,n,r,s,o,a,l,c,d){if(0===r&&0===a&&0===d)return e(i,n,s,o,l,c);var h,p=t.sqrt(t.pow(s-i,2)+t.pow(o-n,2)+t.pow(a-r,2)),u=t.sqrt(t.pow(l-i,2)+t.pow(c-n,2)+t.pow(d-r,2)),f=t.sqrt(t.pow(l-s,2)+t.pow(c-o,2)+t.pow(d-a,2));return(h=p>u?p>f?p-u-f:f-u-p:f>u?f-u-p:u-p-f)>-1e-4&&h<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,e){var i,n=this.offsetTime;"multidimensional"===this.propType&&(i=createTypedArray("float32",this.pv.length));for(var r,s,o,a,l,c,d,h,p,u=e.lastIndex,f=u,m=this.keyframes.length-1,g=!0;g;){if(r=this.keyframes[f],s=this.keyframes[f+1],f===m-1&&t>=s.t-n){r.h&&(r=s),u=0;break}if(s.t-n>t){u=f;break}f<m-1?f+=1:(u=0,g=!1)}o=this.keyframesMetadata[f]||{};var y,v=s.t-n,b=r.t-n;if(r.to){o.bezierData||(o.bezierData=bez.buildBezierData(r.s,s.s||r.e,r.to,r.ti));var _=o.bezierData;if(t>=v||t<b){var x=t>=v?_.points.length-1:0;for(l=_.points[x].point.length,a=0;a<l;a+=1)i[a]=_.points[x].point[a]}else{o.__fnct?p=o.__fnct:(p=BezierFactory.getBezierEasing(r.o.x,r.o.y,r.i.x,r.i.y,r.n).get,o.__fnct=p),c=p((t-b)/(v-b));var k,w=_.segmentLength*c,C=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastAddedLength:0;for(h=e.lastFrame<t&&e._lastKeyframeIndex===f?e._lastPoint:0,g=!0,d=_.points.length;g;){if(C+=_.points[h].partialLength,0===w||0===c||h===_.points.length-1){for(l=_.points[h].point.length,a=0;a<l;a+=1)i[a]=_.points[h].point[a];break}if(w>=C&&w<C+_.points[h+1].partialLength){for(k=(w-C)/_.points[h+1].partialLength,l=_.points[h].point.length,a=0;a<l;a+=1)i[a]=_.points[h].point[a]+(_.points[h+1].point[a]-_.points[h].point[a])*k;break}h<d-1?h+=1:g=!1}e._lastPoint=h,e._lastAddedLength=C-_.points[h].partialLength,e._lastKeyframeIndex=f}}else{var E,S,$,M,I;if(m=r.s.length,y=s.s||r.e,this.sh&&1!==r.h)t>=v?(i[0]=y[0],i[1]=y[1],i[2]=y[2]):t<=b?(i[0]=r.s[0],i[1]=r.s[1],i[2]=r.s[2]):quaternionToEuler(i,slerp(createQuaternion(r.s),createQuaternion(y),(t-b)/(v-b)));else for(f=0;f<m;f+=1)1!==r.h&&(t>=v?c=1:t<b?c=0:(r.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[f]?p=o.__fnct[f]:(E=void 0===r.o.x[f]?r.o.x[0]:r.o.x[f],S=void 0===r.o.y[f]?r.o.y[0]:r.o.y[f],$=void 0===r.i.x[f]?r.i.x[0]:r.i.x[f],M=void 0===r.i.y[f]?r.i.y[0]:r.i.y[f],p=BezierFactory.getBezierEasing(E,S,$,M).get,o.__fnct[f]=p)):o.__fnct?p=o.__fnct:(E=r.o.x,S=r.o.y,$=r.i.x,M=r.i.y,p=BezierFactory.getBezierEasing(E,S,$,M).get,r.keyframeMetadata=p),c=p((t-b)/(v-b)))),y=s.s||r.e,I=1===r.h?r.s[f]:r.s[f]+(y[f]-r.s[f])*c,"multidimensional"===this.propType?i[f]=I:i=I}return e.lastIndex=u,i}function slerp(t,e,i){var n,r,s,o,a,l=[],c=t[0],d=t[1],h=t[2],p=t[3],u=e[0],f=e[1],m=e[2],g=e[3];return(r=c*u+d*f+h*m+p*g)<0&&(r=-r,u=-u,f=-f,m=-m,g=-g),1-r>1e-6?(n=Math.acos(r),s=Math.sin(n),o=Math.sin((1-i)*n)/s,a=Math.sin(i*n)/s):(o=1-i,a=i),l[0]=o*c+a*u,l[1]=o*d+a*f,l[2]=o*h+a*m,l[3]=o*p+a*g,l}function quaternionToEuler(t,e){var i=e[0],n=e[1],r=e[2],s=e[3],o=Math.atan2(2*n*s-2*i*r,1-2*n*n-2*r*r),a=Math.asin(2*i*n+2*r*s),l=Math.atan2(2*i*s-2*n*r,1-2*i*i-2*r*r);t[0]=o/degToRads,t[1]=a/degToRads,t[2]=l/degToRads}function createQuaternion(t){var e=t[0]*degToRads,i=t[1]*degToRads,n=t[2]*degToRads,r=Math.cos(e/2),s=Math.cos(i/2),o=Math.cos(n/2),a=Math.sin(e/2),l=Math.sin(i/2),c=Math.sin(n/2);return[a*l*o+r*s*c,a*s*o+r*l*c,r*l*o-a*s*c,r*s*o-a*l*c]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=i&&t>=i||this._caching.lastFrame<e&&t<e))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(t,this._caching);this.pv=n}return this._caching.lastFrame=t,this.pv}function setVValue(t){var e;if("unidimensional"===this.propType)e=t*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)e=t[i]*this.mult,mathAbs(this.v[i]-e)>1e-5&&(this.v[i]=e,this._mdf=!0),i+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t;this.lock=!0,this._mdf=this._isFirstFrame;var e=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(t=0;t<e;t+=1)i=this.effectsSequence[t](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,e,i,n){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,e,i,n){var r;this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s=e.k.length;for(this.v=createTypedArray("float32",s),this.pv=createTypedArray("float32",s),this.vel=createTypedArray("float32",s),r=0;r<s;r+=1)this.v[r]=e.k[r]*this.mult,this.pv[r]=e.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,e,i,n){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=i||1,this.elem=t,this.container=n,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,e,i,n){var r;this.propType="multidimensional";var s,o,a,l,c=e.k.length;for(r=0;r<c-1;r+=1)e.k[r].to&&e.k[r].s&&e.k[r+1]&&e.k[r+1].s&&(s=e.k[r].s,o=e.k[r+1].s,a=e.k[r].to,l=e.k[r].ti,(2===s.length&&(s[0]!==o[0]||s[1]!==o[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],s[0]+a[0],s[1]+a[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],o[0]+l[0],o[1]+l[1])||3===s.length&&(s[0]!==o[0]||s[1]!==o[1]||s[2]!==o[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],s[0]+a[0],s[1]+a[1],s[2]+a[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],o[0]+l[0],o[1]+l[1],o[2]+l[2]))&&(e.k[r].to=null,e.k[r].ti=null),s[0]===o[0]&&s[1]===o[1]&&0===a[0]&&0===a[1]&&0===l[0]&&0===l[1]&&(2===s.length||s[2]===o[2]&&0===a[2]&&0===l[2])&&(e.k[r].to=null,e.k[r].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=t,this.container=n,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var d=e.k[0].s.length;for(this.v=createTypedArray("float32",d),this.pv=createTypedArray("float32",d),r=0;r<d;r+=1)this.v[r]=initFrame,this.pv[r]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",d)},this.addEffect=addEffect}var PropertyFactory={getProp:function(t,e,i,n,r){var s;if(e.sid&&(e=t.globalData.slotManager.getProp(e)),e.k.length)if("number"==typeof e.k[0])s=new MultiDimensionalProperty(t,e,n,r);else switch(i){case 0:s=new KeyframedValueProperty(t,e,n,r);break;case 1:s=new KeyframedMultidimensionalProperty(t,e,n,r)}else s=new ValueProperty(t,e,n,r);return s.effectsSequence.length&&r.addDynamicProperty(s),s}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,i,n,r){var s;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[]}(!s[n]||s[n]&&!r)&&(s[n]=pointPool.newElement()),s[n][0]=t,s[n][1]=e},ShapePath.prototype.setTripleAt=function(t,e,i,n,r,s,o,a){this.setXYAt(t,e,"v",o,a),this.setXYAt(i,n,"o",o,a),this.setXYAt(r,s,"i",o,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,i=this.o,n=this.i,r=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],i[0][0],i[0][1],0,!1),r=1);var s,o=this._length-1,a=this._length;for(s=r;s<a;s+=1)t.setTripleAt(e[o][0],e[o][1],n[o][0],n[o][1],i[o][0],i[o][1],s,!1),o-=1;return t},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,(function(){return new ShapePath}),(function(t){var e,i=t._length;for(e=0;e<i;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1})),factory.clone=function(t){var e,i=factory.newElement(),n=void 0===t._length?t.v.length:t._length;for(i.setLength(n),i.c=t.c,e=0;e<n;e+=1)i.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return i},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=(ob={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(t){var e,i=t._length;for(e=0;e<i;e+=1)shapePool.release(t.shapes[e]);t._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=t,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob),ob,_length,_maxLength,pool,ShapePropertyFactory=function(){var t=-999999;function e(t,e,i){var n,r,s,o,a,l,c,d,h,p=i.lastIndex,u=this.keyframes;if(t<u[0].t-this.offsetTime)n=u[0].s[0],s=!0,p=0;else if(t>=u[u.length-1].t-this.offsetTime)n=u[u.length-1].s?u[u.length-1].s[0]:u[u.length-2].e[0],s=!0;else{for(var f,m,g,y=p,v=u.length-1,b=!0;b&&(f=u[y],!((m=u[y+1]).t-this.offsetTime>t));)y<v-1?y+=1:b=!1;if(g=this.keyframesMetadata[y]||{},p=y,!(s=1===f.h)){if(t>=m.t-this.offsetTime)d=1;else if(t<f.t-this.offsetTime)d=0;else{var _;g.__fnct?_=g.__fnct:(_=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,g.__fnct=_),d=_((t-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}r=m.s?m.s[0]:f.e[0]}n=f.s[0]}for(l=e._length,c=n.i[0].length,i.lastIndex=p,o=0;o<l;o+=1)for(a=0;a<c;a+=1)h=s?n.i[o][a]:n.i[o][a]+(r.i[o][a]-n.i[o][a])*d,e.i[o][a]=h,h=s?n.o[o][a]:n.o[o][a]+(r.o[o][a]-n.o[o][a])*d,e.o[o][a]=h,h=s?n.v[o][a]:n.v[o][a]+(r.v[o][a]-n.v[o][a])*d,e.v[o][a]=h}function i(){var e=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return r!==t&&(r<i&&e<i||r>n&&e>n)||(this._caching.lastIndex=r<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function n(){this.paths=this.localShapeCollection}function r(t){(function(t,e){if(t._length!==e._length||t.c!==e.c)return!1;var i,n=t._length;for(i=0;i<n;i+=1)if(t.v[i][0]!==e.v[i][0]||t.v[i][1]!==e.v[i][1]||t.o[i][0]!==e.o[i][0]||t.o[i][1]!==e.o[i][1]||t.i[i][0]!==e.i[i][0]||t.i[i][1]!==e.i[i][1])return!1;return!0})(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var t,e;this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var i=this.effectsSequence.length;for(e=0;e<i;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;var r=3===i?e.pt.k:e.ks.k;this.v=shapePool.clone(r),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function a(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function l(e,r,s){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===s?r.pt.k:r.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=n,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[i.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=s,o.prototype.setVValue=r,o.prototype.addEffect=a,l.prototype.getValue=s,l.prototype.interpolateShape=e,l.prototype.setVValue=r,l.prototype.addEffect=a;var c=function(){var t=roundCorner;function e(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],i=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,s=3!==this.d,o=this.v;o.v[0][0]=e,o.v[0][1]=i-r,o.v[1][0]=s?e+n:e-n,o.v[1][1]=i,o.v[2][0]=e,o.v[2][1]=i+r,o.v[3][0]=s?e-n:e+n,o.v[3][1]=i,o.i[0][0]=s?e-n*t:e+n*t,o.i[0][1]=i-r,o.i[1][0]=s?e+n:e-n,o.i[1][1]=i-r*t,o.i[2][0]=s?e+n*t:e-n*t,o.i[2][1]=i+r,o.i[3][0]=s?e-n:e+n,o.i[3][1]=i+r*t,o.o[0][0]=s?e+n*t:e-n*t,o.o[0][1]=i-r,o.o[1][0]=s?e+n:e-n,o.o[1][1]=i+r*t,o.o[2][0]=s?e-n*t:e+n*t,o.o[2][1]=i+r,o.o[3][0]=s?e-n:e+n,o.o[3][1]=i-r*t}},extendPrototype([DynamicPropertyContainer],e),e}(),d=function(){function t(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,e,i,n,r=2*Math.floor(this.pt.v),s=2*Math.PI/r,o=!0,a=this.or.v,l=this.ir.v,c=this.os.v,d=this.is.v,h=2*Math.PI*a/(2*r),p=2*Math.PI*l/(2*r),u=-Math.PI/2;u+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,t=0;t<r;t+=1){i=o?c:d,n=o?h:p;var m=(e=o?a:l)*Math.cos(u),g=e*Math.sin(u),y=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),v=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-y*n*i*f,g-v*n*i*f,m+y*n*i*f,g+v*n*i*f,t,!0),o=!o,u+=s*f}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,n=this.or.v,r=this.os.v,s=2*Math.PI*n/(4*e),o=.5*-Math.PI,a=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,t=0;t<e;t+=1){var l=n*Math.cos(o),c=n*Math.sin(o),d=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),h=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-d*s*r*a,c-h*s*r*a,l+d*s*r*a,c+h*s*r*a,t,!0),o+=i*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),h=function(){function t(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=bmMin(i,n,this.r.v),s=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-n+r,t+i,e-n+r,t+i,e-n+s,0,!0),this.v.setTripleAt(t+i,e+n-r,t+i,e+n-s,t+i,e+n-r,1,!0),0!==r?(this.v.setTripleAt(t+i-r,e+n,t+i-r,e+n,t+i-s,e+n,2,!0),this.v.setTripleAt(t-i+r,e+n,t-i+s,e+n,t-i+r,e+n,3,!0),this.v.setTripleAt(t-i,e+n-r,t-i,e+n-r,t-i,e+n-s,4,!0),this.v.setTripleAt(t-i,e-n+r,t-i,e-n+s,t-i,e-n+r,5,!0),this.v.setTripleAt(t-i+r,e-n,t-i+r,e-n,t-i+s,e-n,6,!0),this.v.setTripleAt(t+i-r,e-n,t+i-s,e-n,t+i-r,e-n,7,!0)):(this.v.setTripleAt(t-i,e+n,t-i+s,e+n,t-i,e+n,2),this.v.setTripleAt(t-i,e-n,t-i,e-n+s,t-i,e-n,3))):(this.v.setTripleAt(t+i,e-n+r,t+i,e-n+s,t+i,e-n+r,0,!0),0!==r?(this.v.setTripleAt(t+i-r,e-n,t+i-r,e-n,t+i-s,e-n,1,!0),this.v.setTripleAt(t-i+r,e-n,t-i+s,e-n,t-i+r,e-n,2,!0),this.v.setTripleAt(t-i,e-n+r,t-i,e-n+r,t-i,e-n+s,3,!0),this.v.setTripleAt(t-i,e+n-r,t-i,e+n-s,t-i,e+n-r,4,!0),this.v.setTripleAt(t-i+r,e+n,t-i+r,e+n,t-i+s,e+n,5,!0),this.v.setTripleAt(t+i-r,e+n,t+i-s,e+n,t+i-r,e+n,6,!0),this.v.setTripleAt(t+i,e+n-r,t+i,e+n-r,t+i,e+n-s,7,!0)):(this.v.setTripleAt(t-i,e-n,t-i+s,e-n,t-i,e-n,1,!0),this.v.setTripleAt(t-i,e+n,t-i,e+n-s,t-i,e+n,2,!0),this.v.setTripleAt(t+i,e+n,t+i-s,e+n,t+i,e+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],t),t}();return{getShapeProp:function(t,e,i){var n;return 3===i||4===i?n=(3===i?e.pt:e.ks).k.length?new l(t,e,i):new o(t,e,i):5===i?n=new h(t,e):6===i?n=new c(t,e):7===i&&(n=new d(t,e)),n.k&&t.addDynamicProperty(n),n},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return l}}}(),Matrix=function(){var t=Math.cos,e=Math.sin,i=Math.tan,n=Math.round;function r(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(i){if(0===i)return this;var n=t(i),r=e(i);return this._t(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1)}function o(i){if(0===i)return this;var n=t(i),r=e(i);return this._t(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1)}function a(i){if(0===i)return this;var n=t(i),r=e(i);return this._t(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1)}function l(i){if(0===i)return this;var n=t(i),r=e(i);return this._t(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1)}function c(t,e){return this._t(1,e,t,1,0,0)}function d(t,e){return this.shear(i(t),i(e))}function h(n,r){var s=t(r),o=e(r);return this._t(s,o,0,0,-o,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(n),1,0,0,0,0,1,0,0,0,0,1)._t(s,-o,0,0,o,s,0,0,0,0,1,0,0,0,0,1)}function p(t,e,i){return i||0===i||(i=1),1===t&&1===e&&1===i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function u(t,e,i,n,r,s,o,a,l,c,d,h,p,u,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=n,this.props[4]=r,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=l,this.props[9]=c,this.props[10]=d,this.props[11]=h,this.props[12]=p,this.props[13]=u,this.props[14]=f,this.props[15]=m,this}function f(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function m(t,e,i,n,r,s,o,a,l,c,d,h,p,u,f,m){var g=this.props;if(1===t&&0===e&&0===i&&0===n&&0===r&&1===s&&0===o&&0===a&&0===l&&0===c&&1===d&&0===h)return g[12]=g[12]*t+g[15]*p,g[13]=g[13]*s+g[15]*u,g[14]=g[14]*d+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var y=g[0],v=g[1],b=g[2],_=g[3],x=g[4],k=g[5],w=g[6],C=g[7],E=g[8],S=g[9],$=g[10],M=g[11],I=g[12],D=g[13],T=g[14],P=g[15];return g[0]=y*t+v*r+b*l+_*p,g[1]=y*e+v*s+b*c+_*u,g[2]=y*i+v*o+b*d+_*f,g[3]=y*n+v*a+b*h+_*m,g[4]=x*t+k*r+w*l+C*p,g[5]=x*e+k*s+w*c+C*u,g[6]=x*i+k*o+w*d+C*f,g[7]=x*n+k*a+w*h+C*m,g[8]=E*t+S*r+$*l+M*p,g[9]=E*e+S*s+$*c+M*u,g[10]=E*i+S*o+$*d+M*f,g[11]=E*n+S*a+$*h+M*m,g[12]=I*t+D*r+T*l+P*p,g[13]=I*e+D*s+T*c+P*u,g[14]=I*i+D*o+T*d+P*f,g[15]=I*n+D*a+T*h+P*m,this._identityCalculated=!1,this}function g(t){var e=t.props;return this.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function y(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function b(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function _(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]}function x(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function k(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function w(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function C(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function E(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,i=-this.props[1]/t,n=-this.props[4]/t,r=this.props[0]/t,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,a=new Matrix;return a.props[0]=e,a.props[1]=i,a.props[4]=n,a.props[5]=r,a.props[12]=s,a.props[13]=o,a}function S(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function $(t){var e,i=t.length,n=[];for(e=0;e<i;e+=1)n[e]=S(t[e]);return n}function M(t,e,i){var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=t[0],n[1]=t[1],n[2]=e[0],n[3]=e[1],n[4]=i[0],n[5]=i[1];else{var r=this.props[0],s=this.props[1],o=this.props[4],a=this.props[5],l=this.props[12],c=this.props[13];n[0]=t[0]*r+t[1]*o+l,n[1]=t[0]*s+t[1]*a+c,n[2]=e[0]*r+e[1]*o+l,n[3]=e[0]*s+e[1]*a+c,n[4]=i[0]*r+i[1]*o+l,n[5]=i[0]*s+i[1]*a+c}return n}function I(t,e,i){return this.isIdentity()?[t,e,i]:[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]}function D(t,e){if(this.isIdentity())return t+","+e;var i=this.props;return Math.round(100*(t*i[0]+e*i[4]+i[12]))/100+","+Math.round(100*(t*i[1]+e*i[5]+i[13]))/100}function T(){for(var t=0,e=this.props,i="matrix3d(";t<16;)i+=n(1e4*e[t])/1e4,i+=15===t?")":",",t+=1;return i}function P(t){return t<1e-6&&t>0||t>-1e-6&&t<0?n(1e4*t)/1e4:t}function A(){var t=this.props;return"matrix("+P(t[0])+","+P(t[1])+","+P(t[4])+","+P(t[5])+","+P(t[12])+","+P(t[13])+")"}return function(){this.reset=r,this.rotate=s,this.rotateX=o,this.rotateY=a,this.rotateZ=l,this.skew=d,this.skewFromAxis=h,this.shear=c,this.scale=p,this.setTransform=u,this.translate=f,this.transform=m,this.multiply=g,this.applyToPoint=x,this.applyToX=k,this.applyToY=w,this.applyToZ=C,this.applyToPointArray=I,this.applyToTriplePoints=M,this.applyToPointStringified=D,this.toCSS=T,this.to2dCSS=A,this.clone=b,this.cloneFromProps=_,this.equals=v,this.inversePoints=$,this.inversePoint=S,this.getInverseMatrix=E,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$3(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&setExpressionsPlugin(e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),i=0;i<e.length;i+=1){var n=e[i].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(t){}var ShapeModifiers=function(){var t={},e={};return t.registerModifier=function(t,i){e[t]||(e[t]=i)},t.getModifier=function(t,i,n){return new e[t](i,n)},t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,i,n,r){var s=[];e<=1?s.push({s:t,e}):t>=1?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));var o,a,l=[],c=s.length;for(o=0;o<c;o+=1){var d,h;(a=s[o]).e*r<n||a.s*r>n+i||(d=a.s*r<=n?0:(a.s*r-n)/i,h=a.e*r>=n+i?1:(a.e*r-n)/i,l.push([d,h]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var e,i=t.length;for(e=0;e<i;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,i,n,r;if(this._mdf||t){var s=this.o.v%360/360;if(s<0&&(s+=1),(e=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(i=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var o=e;e=i,i=o}e=1e-4*Math.round(1e4*e),i=1e-4*Math.round(1e4*i),this.sValue=e,this.eValue=i}else e=this.sValue,i=this.eValue;var a,l,c,d,h,p=this.shapes.length,u=0;if(i===e)for(r=0;r<p;r+=1)this.shapes[r].localShapeCollection.releaseShapes(),this.shapes[r].shape._mdf=!0,this.shapes[r].shape.paths=this.shapes[r].localShapeCollection,this._mdf&&(this.shapes[r].pathsData.length=0);else if(1===i&&0===e||0===i&&1===e){if(this._mdf)for(r=0;r<p;r+=1)this.shapes[r].pathsData.length=0,this.shapes[r].shape._mdf=!0}else{var f,m,g=[];for(r=0;r<p;r+=1)if((f=this.shapes[r]).shape._mdf||this._mdf||t||2===this.m){if(l=(n=f.shape.paths)._length,h=0,!f.shape._mdf&&f.pathsData.length)h=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),a=0;a<l;a+=1)d=bez.getSegmentsLength(n.shapes[a]),c.push(d),h+=d.totalLength;f.totalShapeLength=h,f.pathsData=c}u+=h,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var y,v=e,b=i,_=0;for(r=p-1;r>=0;r-=1)if((f=this.shapes[r]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&p>1?(y=this.calculateShapeEdges(e,i,f.totalShapeLength,_,u),_+=f.totalShapeLength):y=[[v,b]],l=y.length,a=0;a<l;a+=1){v=y[a][0],b=y[a][1],g.length=0,b<=1?g.push({s:f.totalShapeLength*v,e:f.totalShapeLength*b}):v>=1?g.push({s:f.totalShapeLength*(v-1),e:f.totalShapeLength*(b-1)}):(g.push({s:f.totalShapeLength*v,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(b-1)}));var x=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var k=x.pop();this.addPaths(x,m),x=this.addShapes(f,g[1],k)}else this.addPaths(x,m),x=this.addShapes(f,g[1]);this.addPaths(x,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)e.addShape(t[i])},TrimModifier.prototype.addSegment=function(t,e,i,n,r,s,o){r.setXYAt(e[0],e[1],"o",s),r.setXYAt(i[0],i[1],"i",s+1),o&&r.setXYAt(t[0],t[1],"v",s),r.setXYAt(n[0],n[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,i,n){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),n&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},TrimModifier.prototype.addShapes=function(t,e,i){var n,r,s,o,a,l,c,d,h=t.pathsData,p=t.shape.paths.shapes,u=t.shape.paths._length,f=0,m=[],g=!0;for(i?(a=i._length,d=i._length):(i=shapePool.newElement(),a=0,d=0),m.push(i),n=0;n<u;n+=1){for(l=h[n].lengths,i.c=p[n].c,s=p[n].c?l.length:l.length+1,r=1;r<s;r+=1)if(f+(o=l[r-1]).addedLength<e.s)f+=o.addedLength,i.c=!1;else{if(f>e.e){i.c=!1;break}e.s<=f&&e.e>=f+o.addedLength?(this.addSegment(p[n].v[r-1],p[n].o[r-1],p[n].i[r],p[n].v[r],i,a,g),g=!1):(c=bez.getNewSegment(p[n].v[r-1],p[n].v[r],p[n].o[r-1],p[n].i[r],(e.s-f)/o.addedLength,(e.e-f)/o.addedLength,l[r-1]),this.addSegmentFromArray(c,i,a,g),g=!1,i.c=!1),f+=o.addedLength,a+=1}if(p[n].c&&l.length){if(o=l[r-1],f<=e.e){var y=l[r-1].addedLength;e.s<=f&&e.e>=f+y?(this.addSegment(p[n].v[r-1],p[n].o[r-1],p[n].i[0],p[n].v[0],i,a,g),g=!1):(c=bez.getNewSegment(p[n].v[r-1],p[n].v[0],p[n].o[r-1],p[n].i[0],(e.s-f)/y,(e.e-f)/y,l[r-1]),this.addSegmentFromArray(c,i,a,g),g=!1,i.c=!1)}else i.c=!1;f+=o.addedLength,a+=1}if(i._length&&(i.setXYAt(i.v[d][0],i.v[d][1],"i",d),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),f>e.e)break;n<u-1&&(i=shapePool.newElement(),g=!0,m.push(i),a=0)}return m},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var i=e/100,n=[0,0],r=t._length,s=0;for(s=0;s<r;s+=1)n[0]+=t.v[s][0],n[1]+=t.v[s][1];n[0]/=r,n[1]/=r;var o,a,l,c,d,h,p=shapePool.newElement();for(p.c=t.c,s=0;s<r;s+=1)o=t.v[s][0]+(n[0]-t.v[s][0])*i,a=t.v[s][1]+(n[1]-t.v[s][1])*i,l=t.o[s][0]+(n[0]-t.o[s][0])*-i,c=t.o[s][1]+(n[1]-t.o[s][1])*-i,d=t.i[s][0]+(n[0]-t.i[s][0])*-i,h=t.i[s][1]+(n[1]-t.i[s][1])*-i,p.setTripleAt(o,a,l,c,d,h,s);return p},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,i,n,r,s,o,a=this.shapes.length,l=this.amount.v;if(0!==l)for(i=0;i<a;i+=1){if(o=(s=this.shapes[i]).localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,r=s.shape.paths._length,n=0;n<r;n+=1)o.addShape(this.processPath(e[n],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function e(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti){var n,r=e.or.k.length;for(n=0;n<r;n+=1)e.or.k[n].to=null,e.or.k[n].ti=null}this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var i;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,r;if(i=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/i,0)):(n=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],r=[];var s=this.px,o=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(n[0]=s.getValueAtTime((s.keyframes[0].t+.01)/i,0),n[1]=o.getValueAtTime((o.keyframes[0].t+.01)/i,0),r[0]=s.getValueAtTime(s.keyframes[0].t/i,0),r[1]=o.getValueAtTime(o.keyframes[0].t/i,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(n[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/i,0),n[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/i,0),r[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/i,0),r[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/i,0)):(n=[s.pv,o.pv],r[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/i,s.offsetTime),r[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/i,o.offsetTime))}else n=r=t;this.v.rotate(-Math.atan2(n[1]-r[1],n[0]-r[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,i,n){return new e(t,i,n)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,e){return 1e5*Math.abs(t-e)<=Math.min(Math.abs(t),Math.abs(e))}function floatZero(t){return Math.abs(t)<=1e-5}function lerp(t,e,i){return t*(1-i)+e*i}function lerpPoint(t,e,i){return[lerp(t[0],e[0],i),lerp(t[1],e[1],i)]}function quadRoots(t,e,i){if(0===t)return[];var n=e*e-4*t*i;if(n<0)return[];var r=-e/(2*t);if(0===n)return[r];var s=Math.sqrt(n)/(2*t);return[r-s,r+s]}function polynomialCoefficients(t,e,i,n){return[3*e-t-3*i+n,3*t-6*e+3*i,-3*t+3*e,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,e,i,n,r){r&&pointEqual(t,e)&&(e=lerpPoint(t,n,1/3)),r&&pointEqual(i,n)&&(i=lerpPoint(t,n,2/3));var s=polynomialCoefficients(t[0],e[0],i[0],n[0]),o=polynomialCoefficients(t[1],e[1],i[1],n[1]);this.a=[s[0],o[0]],this.b=[s[1],o[1]],this.c=[s[2],o[2]],this.d=[s[3],o[3]],this.points=[t,e,i,n]}function extrema(t,e){var i=t.points[0][e],n=t.points[t.points.length-1][e];if(i>n){var r=n;n=i,i=r}for(var s=quadRoots(3*t.a[e],2*t.b[e],t.c[e]),o=0;o<s.length;o+=1)if(s[o]>0&&s[o]<1){var a=t.point(s[o])[e];a<i?i=a:a>n&&(n=a)}return{min:i,max:n}}function intersectData(t,e,i){var n=t.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:t,t:(e+i)/2,t1:e,t2:i}}function splitData(t){var e=t.bez.split(.5);return[intersectData(e[0],t.t1,t.t),intersectData(e[1],t.t,t.t2)]}function boxIntersect(t,e){return 2*Math.abs(t.cx-e.cx)<t.width+e.width&&2*Math.abs(t.cy-e.cy)<t.height+e.height}function intersectsImpl(t,e,i,n,r,s){if(boxIntersect(t,e))if(i>=s||t.width<=n&&t.height<=n&&e.width<=n&&e.height<=n)r.push([t.t,e.t]);else{var o=splitData(t),a=splitData(e);intersectsImpl(o[0],a[0],i+1,n,r,s),intersectsImpl(o[0],a[1],i+1,n,r,s),intersectsImpl(o[1],a[0],i+1,n,r,s),intersectsImpl(o[1],a[1],i+1,n,r,s)}}function crossProduct(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function lineIntersection(t,e,i,n){var r=[t[0],t[1],1],s=[e[0],e[1],1],o=[i[0],i[1],1],a=[n[0],n[1],1],l=crossProduct(crossProduct(r,s),crossProduct(o,a));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(t,e,i){return[t[0]+Math.cos(e)*i,t[1]-Math.sin(e)*i]}function pointDistance(t,e){return Math.hypot(t[0]-e[0],t[1]-e[1])}function pointEqual(t,e){return floatEqual(t[0],e[0])&&floatEqual(t[1],e[1])}function ZigZagModifier(){}function setPoint(t,e,i,n,r,s,o){var a=i-Math.PI/2,l=i+Math.PI/2,c=e[0]+Math.cos(i)*n*r,d=e[1]-Math.sin(i)*n*r;t.setTripleAt(c,d,c+Math.cos(a)*s,d-Math.sin(a)*s,c+Math.cos(l)*o,d-Math.sin(l)*o,t.length())}function getPerpendicularVector(t,e){var i=[e[0]-t[0],e[1]-t[1]],n=.5*-Math.PI;return[Math.cos(n)*i[0]-Math.sin(n)*i[1],Math.sin(n)*i[0]+Math.cos(n)*i[1]]}function getProjectingAngle(t,e){var i=0===e?t.length()-1:e-1,n=(e+1)%t.length(),r=getPerpendicularVector(t.v[i],t.v[n]);return Math.atan2(0,1)-Math.atan2(r[1],r[0])}function zigZagCorner(t,e,i,n,r,s,o){var a=getProjectingAngle(e,i),l=e.v[i%e._length],c=e.v[0===i?e._length-1:i-1],d=e.v[(i+1)%e._length],h=2===s?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,p=2===s?Math.sqrt(Math.pow(l[0]-d[0],2)+Math.pow(l[1]-d[1],2)):0;setPoint(t,e.v[i%e._length],a,o,n,p/(2*(r+1)),h/(2*(r+1)),s)}function zigZagSegment(t,e,i,n,r,s){for(var o=0;o<n;o+=1){var a=(o+1)/(n+1),l=2===r?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,c=e.normalAngle(a);setPoint(t,e.point(a),c,s,i,l/(2*(n+1)),l/(2*(n+1)),r),s=-s}return s}function linearOffset(t,e,i){var n=Math.atan2(e[0]-t[0],e[1]-t[1]);return[polarOffset(t,n,i),polarOffset(e,n,i)]}function offsetSegment(t,e){var i,n,r,s,o,a,l;i=(l=linearOffset(t.points[0],t.points[1],e))[0],n=l[1],r=(l=linearOffset(t.points[1],t.points[2],e))[0],s=l[1],o=(l=linearOffset(t.points[2],t.points[3],e))[0],a=l[1];var c=lineIntersection(i,n,r,s);null===c&&(c=n);var d=lineIntersection(o,a,r,s);return null===d&&(d=o),new PolynomialBezier(i,c,d,a)}function joinLines(t,e,i,n,r){var s=e.points[3],o=i.points[0];if(3===n)return s;if(pointEqual(s,o))return s;if(2===n){var a=-e.tangentAngle(1),l=-i.tangentAngle(0)+Math.PI,c=lineIntersection(s,polarOffset(s,a+Math.PI/2,100),o,polarOffset(o,a+Math.PI/2,100)),d=c?pointDistance(c,s):pointDistance(s,o)/2,h=polarOffset(s,a,2*d*roundCorner);return t.setXYAt(h[0],h[1],"o",t.length()-1),h=polarOffset(o,l,2*d*roundCorner),t.setTripleAt(o[0],o[1],o[0],o[1],h[0],h[1],t.length()),o}var p=lineIntersection(pointEqual(s,e.points[2])?e.points[0]:e.points[2],s,o,pointEqual(o,i.points[1])?i.points[3]:i.points[1]);return p&&pointDistance(p,s)<r?(t.setTripleAt(p[0],p[1],p[0],p[1],p[0],p[1],t.length()),p):s}function getIntersection(t,e){var i=t.intersections(e);return i.length&&floatEqual(i[0][0],1)&&i.shift(),i.length?i[0]:null}function pruneSegmentIntersection(t,e){var i=t.slice(),n=e.slice(),r=getIntersection(t[t.length-1],e[0]);return r&&(i[t.length-1]=t[t.length-1].split(r[0])[0],n[0]=e[0].split(r[1])[1]),t.length>1&&e.length>1&&(r=getIntersection(t[0],e[e.length-1]))?[[t[0].split(r[0])[0]],[e[e.length-1].split(r[1])[1]]]:[i,n]}function pruneIntersections(t){for(var e,i=1;i<t.length;i+=1)e=pruneSegmentIntersection(t[i-1],t[i]),t[i-1]=e[0],t[i]=e[1];return t.length>1&&(e=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=e[0],t[0]=e[1]),t}function offsetSegmentSplit(t,e){var i,n,r,s,o=t.inflectionPoints();if(0===o.length)return[offsetSegment(t,e)];if(1===o.length||floatEqual(o[1],1))return i=(r=t.split(o[0]))[0],n=r[1],[offsetSegment(i,e),offsetSegment(n,e)];i=(r=t.split(o[0]))[0];var a=(o[1]-o[0])/(1-o[0]);return s=(r=r[1].split(a))[0],n=r[1],[offsetSegment(i,e),offsetSegment(s,e),offsetSegment(n,e)]}function OffsetPathModifier(){}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],i="normal",n="normal",r=e.length,s=0;s<r;s+=1)switch(e[s].toLowerCase()){case"italic":n="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200"}return{style:n,weight:t.fWeight||i}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,i,n,r,s){var o=s?-1:1,a=n.s.v[0]+(1-n.s.v[0])*(1-r),l=n.s.v[1]+(1-n.s.v[1])*(1-r);t.translate(n.p.v[0]*o*r,n.p.v[1]*o*r,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*o*r),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),i.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),i.scale(s?1/a:a,s?1/l:l),i.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(t,e,i,n){for(this.elem=t,this.arr=e,this.pos=i,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);i>0;)i-=1,this._elements.unshift(e[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e]._processed=!1,"gr"===t[e].ty&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)t[i]._render=e,"gr"===t[i].ty&&this.changeGroupRender(t[i].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,i,n,r,s,o=!1;if(this._mdf||t){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),o=!0}for(s=0,n=0;n<=this._groups.length-1;n+=1){if(a=s<l,this._groups[n]._render=a,this.changeGroupRender(this._groups[n].it,a),!a){var d=this.elemsData[n].it,h=d[d.length-1];0!==h.transform.op.v?(h.transform.op._mdf=!0,h.transform.op.v=0):h.transform.op._mdf=!1}s+=1}this._currentCopies=l;var p=this.o.v,u=p%1,f=p>0?Math.floor(p):Math.ceil(p),m=this.pMatrix.props,g=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var v,b,_=0;if(p>0){for(;_<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),_+=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,u,!1),_+=u)}else if(p<0){for(;_>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),_-=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-u,!0),_-=u)}for(n=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,s=this._currentCopies;s;){if(b=(i=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==_){for((0!==n&&1===r||n!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),v=0;v<b;v+=1)i[v]=this.matrix.props[v];this.matrix.reset()}else for(this.matrix.reset(),v=0;v<b;v+=1)i[v]=this.matrix.props[v];_+=1,s-=1,n+=r}}else for(s=this._currentCopies,n=0,r=1;s;)i=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,s-=1,n+=r;return o},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var i,n=shapePool.newElement();n.c=t.c;var r,s,o,a,l,c,d,h,p,u,f,m,g=t._length,y=0;for(i=0;i<g;i+=1)r=t.v[i],o=t.o[i],s=t.i[i],r[0]===o[0]&&r[1]===o[1]&&r[0]===s[0]&&r[1]===s[1]?0!==i&&i!==g-1||t.c?(a=0===i?t.v[g-1]:t.v[i-1],c=(l=Math.sqrt(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)))?Math.min(l/2,e)/l:0,d=f=r[0]+(a[0]-r[0])*c,h=m=r[1]-(r[1]-a[1])*c,p=d-(d-r[0])*roundCorner,u=h-(h-r[1])*roundCorner,n.setTripleAt(d,h,p,u,f,m,y),y+=1,a=i===g-1?t.v[0]:t.v[i+1],c=(l=Math.sqrt(Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)))?Math.min(l/2,e)/l:0,d=p=r[0]+(a[0]-r[0])*c,h=u=r[1]+(a[1]-r[1])*c,f=d-(d-r[0])*roundCorner,m=h-(h-r[1])*roundCorner,n.setTripleAt(d,h,p,u,f,m,y),y+=1):(n.setTripleAt(r[0],r[1],o[0],o[1],s[0],s[1],y),y+=1):(n.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],y),y+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var e,i,n,r,s,o,a=this.shapes.length,l=this.rd.v;if(0!==l)for(i=0;i<a;i+=1){if(o=(s=this.shapes[i]).localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,r=s.shape.paths._length,n=0;n<r;n+=1)o.addShape(this.processPath(e[n],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var e=this.derivative(t);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(t){var e=this.derivative(t);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,i=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(i<0)return[];var n=Math.sqrt(i);return floatZero(n)?n>0&&n<1?[e]:[]:[e-n,e+n].filter((function(t){return t>0&&t<1}))},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],t),i=lerpPoint(this.points[1],this.points[2],t),n=lerpPoint(this.points[2],this.points[3],t),r=lerpPoint(e,i,t),s=lerpPoint(i,n,t),o=lerpPoint(r,s,t);return[new PolynomialBezier(this.points[0],e,r,o,!0),new PolynomialBezier(o,s,n,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,e,i){void 0===e&&(e=2),void 0===i&&(i=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,e,n,i),n},PolynomialBezier.shapeSegment=function(t,e){var i=(e+1)%t.length();return new PolynomialBezier(t.v[e],t.o[e],t.i[i],t.v[i],!0)},PolynomialBezier.shapeSegmentInverted=function(t,e){var i=(e+1)%t.length();return new PolynomialBezier(t.v[i],t.i[i],t.o[e],t.v[e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,e.s,0,null,this),this.frequency=PropertyFactory.getProp(t,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(t,e,i,n){var r=t._length,s=shapePool.newElement();if(s.c=t.c,t.c||(r-=1),0===r)return s;var o=-1,a=PolynomialBezier.shapeSegment(t,0);zigZagCorner(s,t,0,e,i,n,o);for(var l=0;l<r;l+=1)o=zigZagSegment(s,a,e,i,n,-o),a=l!==r-1||t.c?PolynomialBezier.shapeSegment(t,(l+1)%r):null,zigZagCorner(s,t,l+1,e,i,n,o);return s},ZigZagModifier.prototype.processShapes=function(t){var e,i,n,r,s,o,a=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),d=this.pointsType.v;if(0!==l)for(i=0;i<a;i+=1){if(o=(s=this.shapes[i]).localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,r=s.shape.paths._length,n=0;n<r;n+=1)o.addShape(this.processPath(e[n],l,c,d));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(t,e,i,n){var r=shapePool.newElement();r.c=t.c;var s,o,a,l=t.length();t.c||(l-=1);var c=[];for(s=0;s<l;s+=1)a=PolynomialBezier.shapeSegment(t,s),c.push(offsetSegmentSplit(a,e));if(!t.c)for(s=l-1;s>=0;s-=1)a=PolynomialBezier.shapeSegmentInverted(t,s),c.push(offsetSegmentSplit(a,e));c=pruneIntersections(c);var d=null,h=null;for(s=0;s<c.length;s+=1){var p=c[s];for(h&&(d=joinLines(r,h,p[0],i,n)),h=p[p.length-1],o=0;o<p.length;o+=1)a=p[o],d&&pointEqual(a.points[0],d)?r.setXYAt(a.points[1][0],a.points[1][1],"o",r.length()-1):r.setTripleAt(a.points[0][0],a.points[0][1],a.points[1][0],a.points[1][1],a.points[0][0],a.points[0][1],r.length()),r.setTripleAt(a.points[3][0],a.points[3][1],a.points[3][0],a.points[3][1],a.points[2][0],a.points[2][1],r.length()),d=a.points[3]}return c.length&&joinLines(r,h,c[0][0],i,n),r},OffsetPathModifier.prototype.processShapes=function(t){var e,i,n,r,s,o,a=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,d=this.lineJoin;if(0!==l)for(i=0;i<a;i+=1){if(o=(s=this.shapes[i]).localShapeCollection,s.shape._mdf||this._mdf||t)for(o.releaseShapes(),s.shape._mdf=!0,e=s.shape.paths.shapes,r=s.shape.paths._length,n=0;n<r;n+=1)o.addShape(this.processPath(e[n],l,d,c));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t={w:0,size:0,shapes:[],data:{shapes:[]}},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var i=127988,n=127462,r=127487,s=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function o(t,e){var i=createTag("span");i.setAttribute("aria-hidden",!0),i.style.fontFamily=e;var n=createTag("span");n.innerText="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(n),document.body.appendChild(i);var r=n.offsetWidth;return n.style.fontFamily=function(t){var e,i=t.split(","),n=i.length,r=[];for(e=0;e<n;e+=1)"sans-serif"!==i[e]&&"monospace"!==i[e]&&r.push(i[e]);return r.join(",")}(t)+", "+e,{node:n,w:r,parent:i}}function a(t,e){var i,n=document.body&&e?"svg":"canvas",r=getFontProperties(t);if("svg"===n){var s=createNS("text");s.style.fontSize="100px",s.setAttribute("font-family",t.fFamily),s.setAttribute("font-style",r.style),s.setAttribute("font-weight",r.weight),s.textContent="1",t.fClass?(s.style.fontFamily="inherit",s.setAttribute("class",t.fClass)):s.style.fontFamily=t.fFamily,e.appendChild(s),i=s}else{var o=new OffscreenCanvas(500,500).getContext("2d");o.font=r.style+" "+r.weight+" 100px "+t.fFamily,i=o}return{measureText:function(t){return"svg"===n?(i.textContent=t,i.getComputedTextLength()):i.measureText(t).width}}}function l(t){var e=0,i=t.charCodeAt(0);if(i>=55296&&i<=56319){var n=t.charCodeAt(1);n>=56320&&n<=57343&&(e=1024*(i-55296)+n-56320+65536)}return e}function c(t){var e=l(t);return e>=n&&e<=r}var d=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};d.isModifier=function(t,e){var i=t.toString(16)+e.toString(16);return-1!==s.indexOf(i)},d.isZeroWidthJoiner=function(t){return 8205===t},d.isFlagEmoji=function(t){return c(t.substr(0,2))&&c(t.substr(2,2))},d.isRegionalCode=c,d.isCombinedCharacter=function(t){return-1!==e.indexOf(t)},d.isRegionalFlag=function(t,e){var n=l(t.substr(e,2));if(n!==i)return!1;var r=0;for(e+=2;r<5;){if((n=l(t.substr(e,2)))<917601||n>917626)return!1;r+=1,e+=2}return 917631===l(t.substr(e,2))},d.isVariationSelector=function(t){return 65039===t},d.BLACK_FLAG_CODE_POINT=i;var h={addChars:function(t){if(t){var e;this.chars||(this.chars=[]);var i,n,r=t.length,s=this.chars.length;for(e=0;e<r;e+=1){for(i=0,n=!1;i<s;)this.chars[i].style===t[e].style&&this.chars[i].fFamily===t[e].fFamily&&this.chars[i].ch===t[e].ch&&(n=!0),i+=1;n||(this.chars.push(t[e]),s+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);if(!document.body)return this.isLoaded=!0,t.list.forEach((function(t){t.helper=a(t),t.cache={}})),void(this.fonts=t.list);var i,n=t.list,r=n.length,s=r;for(i=0;i<r;i+=1){var l,c,d=!0;if(n[i].loaded=!1,n[i].monoCase=o(n[i].fFamily,"monospace"),n[i].sansCase=o(n[i].fFamily,"sans-serif"),n[i].fPath){if("p"===n[i].fOrigin||3===n[i].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[i].fFamily+'"], style[f-origin="3"][f-family="'+n[i].fFamily+'"]')).length>0&&(d=!1),d){var h=createTag("style");h.setAttribute("f-forigin",n[i].fOrigin),h.setAttribute("f-origin",n[i].origin),h.setAttribute("f-family",n[i].fFamily),h.type="text/css",h.innerText="@font-face {font-family: "+n[i].fFamily+"; font-style: normal; src: url('"+n[i].fPath+"');}",e.appendChild(h)}}else if("g"===n[i].fOrigin||1===n[i].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c+=1)-1!==l[c].href.indexOf(n[i].fPath)&&(d=!1);if(d){var p=createTag("link");p.setAttribute("f-forigin",n[i].fOrigin),p.setAttribute("f-origin",n[i].origin),p.type="text/css",p.rel="stylesheet",p.href=n[i].fPath,document.body.appendChild(p)}}else if("t"===n[i].fOrigin||2===n[i].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c+=1)n[i].fPath===l[c].src&&(d=!1);if(d){var u=createTag("link");u.setAttribute("f-forigin",n[i].fOrigin),u.setAttribute("f-origin",n[i].origin),u.setAttribute("rel","stylesheet"),u.setAttribute("href",n[i].fPath),e.appendChild(u)}}}else n[i].loaded=!0,s-=1;n[i].helper=a(n[i],e),n[i].cache={},this.fonts.push(n[i])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,i,n){for(var r=0,s=this.chars.length;r<s;){if(this.chars[r].ch===e&&this.chars[r].style===i&&this.chars[r].fFamily===n)return this.chars[r];r+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,i,n)),t},getFontByName:function(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,i){var n=this.getFontByName(e),r=t;if(!n.cache[r]){var s=n.helper;if(" "===t){var o=s.measureText("|"+t+"|"),a=s.measureText("||");n.cache[r]=(o-a)/100}else n.cache[r]=s.measureText(t)/100}return n.cache[r]*i},checkLoadedFonts:function(){var t,e,i,n=this.fonts.length,r=n;for(t=0;t<n;t+=1)this.fonts[t].loaded?r-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(e=this.fonts[t].monoCase.node,i=this.fonts[t].monoCase.w,e.offsetWidth!==i?(r-=1,this.fonts[t].loaded=!0):(e=this.fonts[t].sansCase.node,i=this.fonts[t].sansCase.w,e.offsetWidth!==i&&(r-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==r&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return d.prototype=h,d}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums;function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function AngleEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function ColorEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function PointEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function LayerIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function MaskIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function CheckboxEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var i,n=t.ef||[];this.effectElements=[];var r,s=n.length;for(i=0;i<s;i+=1)r=new GroupEffect(n[i],e),this.effectElements.push(r)}function GroupEffect(t,e){this.init(t,e)}function BaseElement(){}function FrameElement(){}function FootageElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,i)}function AudioElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,i),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var i;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var n,r=this.data.ef.length,s=this.data.ef;for(i=0;i<r;i+=1){switch(n=null,s[i].ty){case 0:n=new SliderEffect(s[i],e,this);break;case 1:n=new AngleEffect(s[i],e,this);break;case 2:n=new ColorEffect(s[i],e,this);break;case 3:n=new PointEffect(s[i],e,this);break;case 4:case 7:n=new CheckboxEffect(s[i],e,this);break;case 10:n=new LayerIndexEffect(s[i],e,this);break;case 11:n=new MaskIndexEffect(s[i],e,this);break;case 5:n=new EffectsManager(s[i],e,this);break;default:n=new NoValueEffect(s[i],e,this)}n&&this.effectElements.push(n)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var e=t("layer"),i=t("effects"),n=t("shape"),r=t("text"),s=t("comp");this.layerInterface=e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var o=i.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(o),0===this.data.ty||this.data.xt?this.compInterface=s(this):4===this.data.ty?(this.layerInterface.shapeInterface=n(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=r(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,i){this.globalData=e,this.comp=i,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var i,n=this.dynamicProperties.length;for(i=0;i<n;i+=1)(e||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var e=t("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var i=this._volume*this._volumeMultiplier;this._previousVolume!==i&&(this._previousVolume=i,this.audio.volume(i))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var e,i,n=this.layers.length;for(this.completeLayers=!0,e=n-1;e>=0;e-=1)this.elements[e]||(i=this.layers[e]).ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var i,n=t.length,r=this.layers.length;for(e=0;e<n;e+=1)for(i=0;i<r;){if(this.layers[i].id===t[e].id){this.layers[i]=t[e];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,i){for(var n=this.elements,r=this.layers,s=0,o=r.length;s<o;)r[s].ind==e&&(n[s]&&!0!==n[s]?(i.push(n[s]),n[s].setAsParent(),void 0!==r[s].parent?this.buildElementParenting(t,r[s].parent,i):t.setHierarchy(i)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,i=t.length;for(e=0;e<i;e+=1)if(t[e].xt){var n=this.createComp(t[e]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementById=function(t){var e,i=this.elements.length;for(e=0;e<i;e+=1)if(this.elements[e].data.ind===t)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(t){var e,i=t.shift();if("number"==typeof i)e=this.elements[i];else{var n,r=this.elements.length;for(n=0;n<r;n+=1)if(this.elements[n].data.nm===i){e=this.elements[n];break}}return 0===t.length?e:e.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,e,i){this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,r,s=this.globalData.defs,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var a,l,c,d,h,p,u=this.masksProperties,f=0,m=[],g=createElementID(),y="clipPath",v="clip-path";for(n=0;n<o;n+=1)if(("a"!==u[n].mode&&"n"!==u[n].mode||u[n].inv||100!==u[n].o.k||u[n].o.x)&&(y="mask",v="mask"),"s"!==u[n].mode&&"i"!==u[n].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),r=createNS("path"),"n"===u[n].mode)this.viewData[n]={op:PropertyFactory.getProp(this.element,u[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,u[n],3),elem:r,lastPath:""},s.appendChild(r);else{var b;if(f+=1,r.setAttribute("fill","s"===u[n].mode?"#000000":"#ffffff"),r.setAttribute("clip-rule","nonzero"),0!==u[n].x.k?(y="mask",v="mask",p=PropertyFactory.getProp(this.element,u[n].x,0,null,this.element),b=createElementID(),(d=createNS("filter")).setAttribute("id",b),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),d.appendChild(h),s.appendChild(d),r.setAttribute("stroke","s"===u[n].mode?"#000000":"#ffffff")):(h=null,p=null),this.storedData[n]={elem:r,x:p,expan:h,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===u[n].mode){l=m.length;var _=createNS("g");for(a=0;a<l;a+=1)_.appendChild(m[a]);var x=createNS("mask");x.setAttribute("mask-type","alpha"),x.setAttribute("id",g+"_"+f),x.appendChild(r),s.appendChild(x),_.setAttribute("mask","url("+getLocationHref()+"#"+g+"_"+f+")"),m.length=0,m.push(_)}else m.push(r);u[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:r,lastPath:"",op:PropertyFactory.getProp(this.element,u[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,u[n],3),invRect:c},this.viewData[n].prop.k||this.drawPath(u[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(y),o=m.length,n=0;n<o;n+=1)this.maskElement.appendChild(m[n]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(v,"url("+getLocationHref()+"#"+g+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,i=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<n;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),i=0;i<n;i+=1)e.multiply(this.hierarchy[i].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<e;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var i=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(i),t=1;t<e;t+=1){var n=this.localTransforms[t].matrix;i.multiply(n)}i.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var r=this.finalTransform.localOpacity;for(t=0;t<e;t+=1)r*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=r}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var e=0,i=t.length;for(e=0;e<i;e+=1)this.localTransforms.push(t[e])}}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var i,n=!0,r=this.comp;n;)r.finalTransform?(r.data.hasMask&&e.splice(0,0,r.finalTransform),r=r.comp):n=!1;var s,o=e.length;for(i=0;i<o;i+=1)s=e[i].mat.applyToPointArray(0,0,0),t=[t[0]-s[0],t[1]-s[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,i=this.element.finalTransform.mat,n=this.masksProperties.length;for(e=0;e<n;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),"n"!==this.masksProperties[e].mode&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var r=this.storedData[e].expan;this.storedData[e].x.v<0?("erode"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[e].filterId+")")),r.setAttribute("radius",-this.storedData[e].x.v)):("dilate"!==this.storedData[e].lastOperator&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,(t+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,i){var n,r,s=" M"+e.v[0][0]+","+e.v[0][1];for(r=e._length,n=1;n<r;n+=1)s+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[n][0]+","+e.i[n][1]+" "+e.v[n][0]+","+e.v[n][1];if(e.c&&r>1&&(s+=" C"+e.o[n-1][0]+","+e.o[n-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==s){var o="";i.elem&&(e.c&&(o=t.inv?this.solidPath+s:s),i.elem.setAttribute("d",o)),i.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory={createFilter:function(t,e){var i=createNS("filter");return i.setAttribute("id",t),!0!==e&&(i.setAttribute("filterUnits","objectBoundingBox"),i.setAttribute("x","0%"),i.setAttribute("y","0%"),i.setAttribute("width","100%"),i.setAttribute("height","100%")),i},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}},featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var e,i,n="SourceGraphic",r=t.data.ef?t.data.ef.length:0,s=createElementID(),o=filtersFactory.createFilter(s,!0),a=0;for(this.filters=[],e=0;e<r;e+=1){i=null;var l=t.data.ef[e].ty;registeredEffects$1[l]&&(i=new(0,registeredEffects$1[l].effect)(o,t.effectsManager.effectElements[e],t,idPrefix+a,n),n=idPrefix+a,registeredEffects$1[l].countsAsEffect&&(a+=1)),i&&this.filters.push(i)}a&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,e,i){registeredEffects$1[t]={effect:e,countsAsEffect:i}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(t,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,e){this.elem=t,this.pos=e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var e,i=this.filters.length,n=[];for(e=0;e<i;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var e=createNS("g");e.setAttribute("id",this.layerId),e.appendChild(this.layerElement),t=e,this.globalData.defs.appendChild(e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var i=createNS("clipPath"),n=createNS("path");n.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var r=createElementID();if(i.setAttribute("id",r),i.appendChild(n),this.globalData.defs.appendChild(i),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+r+")"),s.appendChild(this.layerElement),this.transformedElement=s,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+r+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var e,i,n,r,s=this.layerId+"_"+t;if(1===t||3===t){var o=createNS("mask");o.setAttribute("id",s),o.setAttribute("mask-type",3===t?"luminance":"alpha"),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),o.appendChild(n),this.globalData.defs.appendChild(o),featureSupport.maskType||1!==t||(o.setAttribute("mask-type","luminance"),e=createElementID(),i=filtersFactory.createFilter(e),this.globalData.defs.appendChild(i),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(n),o.appendChild(r),r.setAttribute("filter","url("+getLocationHref()+"#"+e+")"))}else if(2===t){var a=createNS("mask");a.setAttribute("id",s),a.setAttribute("mask-type","alpha");var l=createNS("g");a.appendChild(l),e=createElementID(),i=filtersFactory.createFilter(e);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),i.appendChild(c);var d=createNS("feFuncA");d.setAttribute("type","table"),d.setAttribute("tableValues","1.0 0.0"),c.appendChild(d),this.globalData.defs.appendChild(i);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+e+")"),l.appendChild(h),(n=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(n),featureSupport.maskType||(a.setAttribute("mask-type","luminance"),i.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),l.appendChild(h),r.appendChild(this.layerElement),l.appendChild(r)),this.globalData.defs.appendChild(a)}this.matteMasks[t]=s}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var e,i=this.shapeModifiers.length;for(e=0;e<i;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,i=0,n=e.length;i<n;){if(e[i].elem===t)return e[i].pos;i+=1}return 0},addProcessedElement:function(t,e){for(var i=this.processedElements,n=i.length;n;)if(i[n-=1].elem===t)return void(i[n].pos=e);i.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var n=0,r=t.length;n<r;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,e,i,n){var r;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var s,o=e.length||0;for(r=0;r<o;r+=1)s=PropertyFactory.getProp(t,e[r].v,0,0,this),this.k=s.k||this.k,this.dataProps[r]={n:e[r].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i}function SVGNoStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=i}function GradientProperty(t,e,i){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var n=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}function SVGGradientStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<i;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,e){for(var i=0,n=this.o.length/2;i<n;){if(Math.abs(t[4*i]-t[4*e+2*i])>.01)return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,i,n,r=4*this.data.p;for(e=0;e<r;e+=1)i=e%4==0?100:255,n=Math.round(this.prop.v[e]*i),this.c[e]!==n&&(this.c[e]=n,this._cmdf=!t);if(this.o.length)for(r=this.prop.v.length,e=4*this.data.p;e<r;e+=1)i=e%2==0?100:1,n=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==n&&(this.o[e-4*this.data.p]=n,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,i){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var i=createElementID(),n=createNS(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var r,s,o,a=[];for(o=4*e.g.p,s=0;s<o;s+=4)r=createNS("stop"),n.appendChild(r),a.push(r);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+i+")"),this.gf=n,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,n,r,s=createNS("mask"),o=createNS("path");s.appendChild(o);var a=createElementID(),l=createElementID();s.setAttribute("id",l);var c=createNS(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",a),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),r=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var d=this.stops;for(n=4*t.g.p;n<r;n+=2)(i=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(i),d.push(i);o.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===t.ty&&(o.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&o.setAttribute("stroke-miterlimit",t.ml)),this.of=c,this.ms=s,this.ost=d,this.maskId=l,e.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,e,i,n){if(0===e)return"";var r,s=t.o,o=t.i,a=t.v,l=" M"+n.applyToPointStringified(a[0][0],a[0][1]);for(r=1;r<e;r+=1)l+=" C"+n.applyToPointStringified(s[r-1][0],s[r-1][1])+" "+n.applyToPointStringified(o[r][0],o[r][1])+" "+n.applyToPointStringified(a[r][0],a[r][1]);return i&&e&&(l+=" C"+n.applyToPointStringified(s[r-1][0],s[r-1][1])+" "+n.applyToPointStringified(o[0][0],o[0][1])+" "+n.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function i(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function n(){}function r(i,n,r){var s,o,a,l,c,d,h,p,u,f,m=n.styles.length,g=n.lvl;for(d=0;d<m;d+=1){if(l=n.sh._mdf||r,n.styles[d].lvl<g){for(p=e.reset(),u=g-n.styles[d].lvl,f=n.transformers.length-1;!l&&u>0;)l=n.transformers[f].mProps._mdf||l,u-=1,f-=1;if(l)for(u=g-n.styles[d].lvl,f=n.transformers.length-1;u>0;)p.multiply(n.transformers[f].mProps.v),u-=1,f-=1}else p=t;if(o=(h=n.sh.paths)._length,l){for(a="",s=0;s<o;s+=1)(c=h.shapes[s])&&c._length&&(a+=buildShapeString(c,c._length,c.c,p));n.caches[d]=a}else a=n.caches[d];n.styles[d].d+=!0===i.hd?"":a,n.styles[d]._mdf=l||n.styles[d]._mdf}}function s(t,e,i){var n=e.style;(e.c._mdf||i)&&n.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i)&&n.pElem.setAttribute("fill-opacity",e.o.v)}function o(t,e,i){a(t,e,i),l(0,e,i)}function a(t,e,i){var n,r,s,o,a,l=e.gf,c=e.g._hasOpacity,d=e.s.v,h=e.e.v;if(e.o._mdf||i){var p="gf"===t.ty?"fill-opacity":"stroke-opacity";e.style.pElem.setAttribute(p,e.o.v)}if(e.s._mdf||i){var u=1===t.t?"x1":"cx",f="x1"===u?"y1":"cy";l.setAttribute(u,d[0]),l.setAttribute(f,d[1]),c&&!e.g._collapsable&&(e.of.setAttribute(u,d[0]),e.of.setAttribute(f,d[1]))}if(e.g._cmdf||i){n=e.cst;var m=e.g.c;for(s=n.length,r=0;r<s;r+=1)(o=n[r]).setAttribute("offset",m[4*r]+"%"),o.setAttribute("stop-color","rgb("+m[4*r+1]+","+m[4*r+2]+","+m[4*r+3]+")")}if(c&&(e.g._omdf||i)){var g=e.g.o;for(s=(n=e.g._collapsable?e.cst:e.ost).length,r=0;r<s;r+=1)o=n[r],e.g._collapsable||o.setAttribute("offset",g[2*r]+"%"),o.setAttribute("stop-opacity",g[2*r+1])}if(1===t.t)(e.e._mdf||i)&&(l.setAttribute("x2",h[0]),l.setAttribute("y2",h[1]),c&&!e.g._collapsable&&(e.of.setAttribute("x2",h[0]),e.of.setAttribute("y2",h[1])));else if((e.s._mdf||e.e._mdf||i)&&(a=Math.sqrt(Math.pow(d[0]-h[0],2)+Math.pow(d[1]-h[1],2)),l.setAttribute("r",a),c&&!e.g._collapsable&&e.of.setAttribute("r",a)),e.e._mdf||e.h._mdf||e.a._mdf||i){a||(a=Math.sqrt(Math.pow(d[0]-h[0],2)+Math.pow(d[1]-h[1],2)));var y=Math.atan2(h[1]-d[1],h[0]-d[0]),v=e.h.v;v>=1?v=.99:v<=-1&&(v=-.99);var b=a*v,_=Math.cos(y+e.a.v)*b+d[0],x=Math.sin(y+e.a.v)*b+d[1];l.setAttribute("fx",_),l.setAttribute("fy",x),c&&!e.g._collapsable&&(e.of.setAttribute("fx",_),e.of.setAttribute("fy",x))}}function l(t,e,i){var n=e.style,r=e.d;r&&(r._mdf||i)&&r.dashStr&&(n.pElem.setAttribute("stroke-dasharray",r.dashStr),n.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),e.c&&(e.c._mdf||i)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i)&&n.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||i)&&(n.pElem.setAttribute("stroke-width",e.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",e.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return s;case"gf":return a;case"gs":return o;case"st":return l;case"sh":case"el":case"rc":case"sr":return r;case"tr":return i;case"no":return n;default:return null}}}}();function SVGShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}function LetterProps(t,e,i,n,r,s){this.o=t,this.sw=e,this.sc=i,this.fc=n,this.m=r,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!n,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=t.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,i,n,r=this.shapes.length,s=this.stylesList.length,o=[],a=!1;for(i=0;i<s;i+=1){for(n=this.stylesList[i],a=!1,o.length=0,t=0;t<r;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(n)&&(o.push(e),a=e._isAnimated||a);o.length>1&&a&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var i,n=new SVGStyleData(t,e),r=n.pElem;return"st"===t.ty?i=new SVGStrokeStyleData(this,t,n):"fl"===t.ty?i=new SVGFillStyleData(this,t,n):"gf"===t.ty||"gs"===t.ty?(i=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),r.setAttribute("mask","url("+getLocationHref()+"#"+i.maskId+")"))):"no"===t.ty&&(i=new SVGNoStyleData(this,t,n)),"st"!==t.ty&&"gs"!==t.ty||(r.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),r.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),r.setAttribute("fill-opacity","0"),1===t.lj&&r.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&r.setAttribute("fill-rule","evenodd"),t.ln&&r.setAttribute("id",t.ln),t.cl&&r.setAttribute("class",t.cl),t.bm&&(r.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var i=TransformPropertyFactory.getTransformProperty(this,t,this),n=new SVGTransformData(i,i.o,e);return this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createShapeElement=function(t,e,i){var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7);var r=new SVGShapeData(e,i,ShapePropertyFactory.getShapeProp(this,t,n,this));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var i=0,n=this.animatedContents.length;i<n;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,i=t.styles,n=this.stylesList.length;for(e=0;e<n;e+=1)this.stylesList[e].closed||i.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,i,n,r,s,o){var a,l,c,d,h,p,u=[].concat(s),f=t.length-1,m=[],g=[];for(a=f;a>=0;a-=1){if((p=this.searchProcessedElement(t[a]))?e[a]=i[p-1]:t[a]._render=o,"fl"===t[a].ty||"st"===t[a].ty||"gf"===t[a].ty||"gs"===t[a].ty||"no"===t[a].ty)p?e[a].style.closed=!1:e[a]=this.createStyleElement(t[a],r),t[a]._render&&e[a].style.pElem.parentNode!==n&&n.appendChild(e[a].style.pElem),m.push(e[a].style);else if("gr"===t[a].ty){if(p)for(c=e[a].it.length,l=0;l<c;l+=1)e[a].prevViewData[l]=e[a].it[l];else e[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,e[a].it,e[a].prevViewData,e[a].gr,r+1,u,o),t[a]._render&&e[a].gr.parentNode!==n&&n.appendChild(e[a].gr)}else"tr"===t[a].ty?(p||(e[a]=this.createTransformElement(t[a],n)),d=e[a].transform,u.push(d)):"sh"===t[a].ty||"rc"===t[a].ty||"el"===t[a].ty||"sr"===t[a].ty?(p||(e[a]=this.createShapeElement(t[a],u,r)),this.setElementStyles(e[a])):"tm"===t[a].ty||"rd"===t[a].ty||"ms"===t[a].ty||"pb"===t[a].ty||"zz"===t[a].ty||"op"===t[a].ty?(p?(h=e[a]).closed=!1:((h=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),e[a]=h,this.shapeModifiers.push(h)),g.push(h)):"rp"===t[a].ty&&(p?(h=e[a]).closed=!0:(h=ShapeModifiers.getModifier(t[a].ty),e[a]=h,h.init(this,t,a,e),this.shapeModifiers.push(h),o=!1),g.push(h));this.addProcessedElement(t[a],a+1)}for(f=m.length,a=0;a<f;a+=1)m[a].closed=!0;for(f=g.length,a=0;a<f;a+=1)g[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,i=this.animatedContents.length;for(t=0;t<i;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,e,i,n,r,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,o=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,o=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,o=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,o=!0),this.m!==r&&(this.m=r,this._mdf.m=!0,o=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var n;this.lock=!0,this._mdf=!1;var r=this.effectsSequence.length,s=t||this.data.d.k[this.keysIndex].s;for(n=0;n<r;n+=1)s=i!==this.keysIndex?this.effectsSequence[n](s,s.t):this.effectsSequence[n](this.currentData,s.t);e!==s&&this.setCurrentData(s),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,n=t.length;i<=n-1&&!(i===n-1||t[i+1].t>e);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,i,n=[],r=0,s=t.length,o=!1,a=!1,l="";r<s;)o=a,a=!1,e=t.charCodeAt(r),l=t.charAt(r),FontManager.isCombinedCharacter(e)?o=!0:e>=55296&&e<=56319?FontManager.isRegionalFlag(t,r)?l=t.substr(r,14):(i=t.charCodeAt(r+1))>=56320&&i<=57343&&(FontManager.isModifier(e,i)?(l=t.substr(r,2),o=!0):l=FontManager.isFlagEmoji(t.substr(r,4))?t.substr(r,4):t.substr(r,2)):e>56319?(i=t.charCodeAt(r+1),FontManager.isVariationSelector(e)&&(o=!0)):FontManager.isZeroWidthJoiner(e)&&(o=!0,a=!0),o?(n[n.length-1]+=l,o=!1):n.push(l),r+=l.length;return n},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,i,n,r,s,o,a,l=this.elem.globalData.fontManager,c=this.data,d=[],h=0,p=c.m.g,u=0,f=0,m=0,g=[],y=0,v=0,b=l.getFontByName(t.f),_=0,x=getFontProperties(b);t.fWeight=x.weight,t.fStyle=x.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),i=t.finalText.length,t.finalLineHeight=t.lh;var k,w=t.tr/1e3*t.finalSize;if(t.sz)for(var C,E,S=!0,$=t.sz[0],M=t.sz[1];S;){C=0,y=0,i=(E=this.buildFinalText(t.t)).length,w=t.tr/1e3*t.finalSize;var I=-1;for(e=0;e<i;e+=1)k=E[e].charCodeAt(0),n=!1," "===E[e]?I=e:13!==k&&3!==k||(y=0,n=!0,C+=t.finalLineHeight||1.2*t.finalSize),l.chars?(a=l.getCharData(E[e],b.fStyle,b.fFamily),_=n?0:a.w*t.finalSize/100):_=l.measureText(E[e],t.f,t.finalSize),y+_>$&&" "!==E[e]?(-1===I?i+=1:e=I,C+=t.finalLineHeight||1.2*t.finalSize,E.splice(e,I===e?1:0,"\r"),I=-1,y=0):(y+=_,y+=w);C+=b.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&M<C?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=E,i=t.finalText.length,S=!1)}y=-w,_=0;var D,T=0;for(e=0;e<i;e+=1)if(n=!1,13===(k=(D=t.finalText[e]).charCodeAt(0))||3===k?(T=0,g.push(y),v=y>v?y:v,y=-2*w,r="",n=!0,m+=1):r=D,l.chars?(a=l.getCharData(D,b.fStyle,l.getFontByName(t.f).fFamily),_=n?0:a.w*t.finalSize/100):_=l.measureText(r,t.f,t.finalSize)," "===D?T+=_+w:(y+=_+w+T,T=0),d.push({l:_,an:_,add:u,n,anIndexes:[],val:r,line:m,animatorJustifyOffset:0}),2==p){if(u+=_,""===r||" "===r||e===i-1){for(""!==r&&" "!==r||(u-=_);f<=e;)d[f].an=u,d[f].ind=h,d[f].extra=_,f+=1;h+=1,u=0}}else if(3==p){if(u+=_,""===r||e===i-1){for(""===r&&(u-=_);f<=e;)d[f].an=u,d[f].ind=h,d[f].extra=_,f+=1;u=0,h+=1}}else d[h].ind=h,d[h].extra=0,h+=1;if(t.l=d,v=y>v?y:v,g.push(y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=v,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=g;var P,A,j,L,O=c.a;o=O.length;var F=[];for(s=0;s<o;s+=1){for((P=O[s]).a.sc&&(t.strokeColorAnim=!0),P.a.sw&&(t.strokeWidthAnim=!0),(P.a.fc||P.a.fh||P.a.fs||P.a.fb)&&(t.fillColorAnim=!0),L=0,j=P.s.b,e=0;e<i;e+=1)(A=d[e]).anIndexes[s]=L,(1==j&&""!==A.val||2==j&&""!==A.val&&" "!==A.val||3==j&&(A.n||" "==A.val||e==i-1)||4==j&&(A.n||e==i-1))&&(1===P.s.rn&&F.push(L),L+=1);c.a[s].s.totalChars=L;var B,V=-1;if(1===P.s.rn)for(e=0;e<i;e+=1)V!=(A=d[e]).anIndexes[s]&&(V=A.anIndexes[s],B=F.splice(Math.floor(Math.random()*F.length),1)[0]),A.anIndexes[s]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=b.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s);i=this.copyData(i,t),this.data.d.k[e].s=i,this.recalculate(e),this.setCurrentData(i),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,i=Math.floor;function n(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),this.e="e"in e?PropertyFactory.getProp(t,e.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return n.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var r=0,s=0,o=1,a=1;this.ne.v>0?r=this.ne.v/100:s=-this.ne.v/100,this.xe.v>0?o=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(r,s,o,a).get,c=0,d=this.finalS,h=this.finalE,p=this.data.sh;if(2===p)c=l(c=h===d?n>=h?1:0:t(0,e(.5/(h-d)+(n-d)/(h-d),1)));else if(3===p)c=l(c=h===d?n>=h?0:1:1-t(0,e(.5/(h-d)+(n-d)/(h-d),1)));else if(4===p)h===d?c=0:(c=t(0,e(.5/(h-d)+(n-d)/(h-d),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===p){if(h===d)c=0;else{var u=h-d,f=-u/2+(n=e(t(0,n+.5-d),h-d)),m=u/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===p?(h===d?c=0:(n=e(t(0,n+.5-d),h-d),c=(1+Math.cos(Math.PI+2*Math.PI*n/(h-d)))/2),c=l(c)):(n>=i(d)&&(c=t(0,e(n-d<0?e(h,1)-(d-n):h-n,1))),c=l(c));if(100!==this.sm.v){var g=.01*this.sm.v;0===g&&(g=1e-8);var y=.5-.5*g;c<y?c=0:(c=(c-y)/g)>1&&(c=1)}return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/e,n=this.s.v/e+i,r=this.e.v/e+i;if(n>r){var s=n;n=r,r=s}this.finalS=n,this.finalE=r}},extendPrototype([DynamicPropertyContainer],n),{getTextSelectorProp:function(t,e,i){return new n(t,e,i)}}}();function TextAnimatorDataProperty(t,e,i){var n={propType:!1},r=PropertyFactory.getProp,s=e.a;this.a={r:s.r?r(t,s.r,0,degToRads,i):n,rx:s.rx?r(t,s.rx,0,degToRads,i):n,ry:s.ry?r(t,s.ry,0,degToRads,i):n,sk:s.sk?r(t,s.sk,0,degToRads,i):n,sa:s.sa?r(t,s.sa,0,degToRads,i):n,s:s.s?r(t,s.s,1,.01,i):n,a:s.a?r(t,s.a,1,0,i):n,o:s.o?r(t,s.o,0,.01,i):n,p:s.p?r(t,s.p,1,0,i):n,sw:s.sw?r(t,s.sw,0,0,i):n,sc:s.sc?r(t,s.sc,1,0,i):n,fc:s.fc?r(t,s.fc,1,0,i):n,fh:s.fh?r(t,s.fh,0,0,i):n,fs:s.fs?r(t,s.fs,0,.01,i):n,fb:s.fb?r(t,s.fb,0,.01,i):n,t:s.t?r(t,s.t,0,0,i):n},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function TextAnimatorProperty(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,i=this._textData.a.length,n=PropertyFactory.getProp;for(t=0;t<i;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,n,r,s,o,a,l,c,d,h,p,u,f,m,g,y,v,b,_,x=this._moreOptions.alignment.v,k=this._animatorsData,w=this._textData,C=this.mHelper,E=this._renderType,S=this.renderedLetters.length,$=t.l;if(this._hasMaskedPath){if(_=this._pathData.m,!this._pathData.n||this._pathData._mdf){var M,I=_.v;for(this._pathData.r.v&&(I=I.reverse()),o={tLength:0,segments:[]},s=I._length-1,y=0,r=0;r<s;r+=1)M=bez.buildBezierData(I.v[r],I.v[r+1],[I.o[r][0]-I.v[r][0],I.o[r][1]-I.v[r][1]],[I.i[r+1][0]-I.v[r+1][0],I.i[r+1][1]-I.v[r+1][1]]),o.tLength+=M.segmentLength,o.segments.push(M),y+=M.segmentLength;r=s,_.v.c&&(M=bez.buildBezierData(I.v[r],I.v[0],[I.o[r][0]-I.v[r][0],I.o[r][1]-I.v[r][1]],[I.i[0][0]-I.v[0][0],I.i[0][1]-I.v[0][1]]),o.tLength+=M.segmentLength,o.segments.push(M),y+=M.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,a=this._pathData.f.v,p=0,h=1,c=0,d=!0,m=o.segments,a<0&&_.v.c)for(o.tLength<Math.abs(a)&&(a=-Math.abs(a)%o.tLength),h=(f=m[p=m.length-1].points).length-1;a<0;)a+=f[h].partialLength,(h-=1)<0&&(h=(f=m[p-=1].points).length-1);u=(f=m[p].points)[h-1],g=(l=f[h]).partialLength}s=$.length,i=0,n=0;var D,T,P,A,j,L=1.2*t.finalSize*.714,O=!0;P=k.length;var F,B,V,z,N,R,U,H,q,G,Z,Y,W=-1,K=a,X=p,J=h,Q=-1,tt="",et=this.defaultPropsArray;if(2===t.j||1===t.j){var it=0,nt=0,rt=2===t.j?-.5:-1,st=0,ot=!0;for(r=0;r<s;r+=1)if($[r].n){for(it&&(it+=nt);st<r;)$[st].animatorJustifyOffset=it,st+=1;it=0,ot=!0}else{for(T=0;T<P;T+=1)(D=k[T].a).t.propType&&(ot&&2===t.j&&(nt+=D.t.v*rt),(j=k[T].s.getMult($[r].anIndexes[T],w.a[T].s.totalChars)).length?it+=D.t.v*j[0]*rt:it+=D.t.v*j*rt);ot=!1}for(it&&(it+=nt);st<r;)$[st].animatorJustifyOffset=it,st+=1}for(r=0;r<s;r+=1){if(C.reset(),z=1,$[r].n)i=0,n+=t.yOffset,n+=O?1:0,a=K,O=!1,this._hasMaskedPath&&(h=J,u=(f=m[p=X].points)[h-1],g=(l=f[h]).partialLength,c=0),tt="",Z="",q="",Y="",et=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==$[r].line){switch(t.j){case 1:a+=y-t.lineWidths[$[r].line];break;case 2:a+=(y-t.lineWidths[$[r].line])/2}Q=$[r].line}W!==$[r].ind&&($[W]&&(a+=$[W].extra),a+=$[r].an/2,W=$[r].ind),a+=x[0]*$[r].an*.005;var at=0;for(T=0;T<P;T+=1)(D=k[T].a).p.propType&&((j=k[T].s.getMult($[r].anIndexes[T],w.a[T].s.totalChars)).length?at+=D.p.v[0]*j[0]:at+=D.p.v[0]*j),D.a.propType&&((j=k[T].s.getMult($[r].anIndexes[T],w.a[T].s.totalChars)).length?at+=D.a.v[0]*j[0]:at+=D.a.v[0]*j);for(d=!0,this._pathData.a.v&&(a=.5*$[0].an+(y-this._pathData.f.v-.5*$[0].an-.5*$[$.length-1].an)*W/(s-1),a+=this._pathData.f.v);d;)c+g>=a+at||!f?(v=(a+at-c)/l.partialLength,B=u.point[0]+(l.point[0]-u.point[0])*v,V=u.point[1]+(l.point[1]-u.point[1])*v,C.translate(-x[0]*$[r].an*.005,-x[1]*L*.01),d=!1):f&&(c+=l.partialLength,(h+=1)>=f.length&&(h=0,m[p+=1]?f=m[p].points:_.v.c?(h=0,f=m[p=0].points):(c-=l.partialLength,f=null)),f&&(u=l,g=(l=f[h]).partialLength));F=$[r].an/2-$[r].add,C.translate(-F,0,0)}else F=$[r].an/2-$[r].add,C.translate(-F,0,0),C.translate(-x[0]*$[r].an*.005,-x[1]*L*.01,0);for(T=0;T<P;T+=1)(D=k[T].a).t.propType&&(j=k[T].s.getMult($[r].anIndexes[T],w.a[T].s.totalChars),0===i&&0===t.j||(this._hasMaskedPath?j.length?a+=D.t.v*j[0]:a+=D.t.v*j:j.length?i+=D.t.v*j[0]:i+=D.t.v*j));for(t.strokeWidthAnim&&(R=t.sw||0),t.strokeColorAnim&&(N=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(U=[t.fc[0],t.fc[1],t.fc[2]]),T=0;T<P;T+=1)(D=k[T].a).a.propType&&((j=k[T].s.getMult($[r].anIndexes[T],w.a[T].s.totalChars)).length?C.translate(-D.a.v[0]*j[0],-D.a.v[1]*j[1],D.a.v[2]*j[2]):C.translate(-D.a.v[0]*j,-D.a.v[1]*j,D.a.v[2]*j));for(T=0;T<P;T+=1)(D=k[T].a).s.propType&&((j=k[T].s.getMult($[r].anIndexes[T],w.a[T].s.totalChars)).length?C.scale(1+(D.s.v[0]-1)*j[0],1+(D.s.v[1]-1)*j[1],1):C.scale(1+(D.s.v[0]-1)*j,1+(D.s.v[1]-1)*j,1));for(T=0;T<P;T+=1){if(D=k[T].a,j=k[T].s.getMult($[r].anIndexes[T],w.a[T].s.totalChars),D.sk.propType&&(j.length?C.skewFromAxis(-D.sk.v*j[0],D.sa.v*j[1]):C.skewFromAxis(-D.sk.v*j,D.sa.v*j)),D.r.propType&&(j.length?C.rotateZ(-D.r.v*j[2]):C.rotateZ(-D.r.v*j)),D.ry.propType&&(j.length?C.rotateY(D.ry.v*j[1]):C.rotateY(D.ry.v*j)),D.rx.propType&&(j.length?C.rotateX(D.rx.v*j[0]):C.rotateX(D.rx.v*j)),D.o.propType&&(j.length?z+=(D.o.v*j[0]-z)*j[0]:z+=(D.o.v*j-z)*j),t.strokeWidthAnim&&D.sw.propType&&(j.length?R+=D.sw.v*j[0]:R+=D.sw.v*j),t.strokeColorAnim&&D.sc.propType)for(H=0;H<3;H+=1)j.length?N[H]+=(D.sc.v[H]-N[H])*j[0]:N[H]+=(D.sc.v[H]-N[H])*j;if(t.fillColorAnim&&t.fc){if(D.fc.propType)for(H=0;H<3;H+=1)j.length?U[H]+=(D.fc.v[H]-U[H])*j[0]:U[H]+=(D.fc.v[H]-U[H])*j;D.fh.propType&&(U=j.length?addHueToRGB(U,D.fh.v*j[0]):addHueToRGB(U,D.fh.v*j)),D.fs.propType&&(U=j.length?addSaturationToRGB(U,D.fs.v*j[0]):addSaturationToRGB(U,D.fs.v*j)),D.fb.propType&&(U=j.length?addBrightnessToRGB(U,D.fb.v*j[0]):addBrightnessToRGB(U,D.fb.v*j))}}for(T=0;T<P;T+=1)(D=k[T].a).p.propType&&(j=k[T].s.getMult($[r].anIndexes[T],w.a[T].s.totalChars),this._hasMaskedPath?j.length?C.translate(0,D.p.v[1]*j[0],-D.p.v[2]*j[1]):C.translate(0,D.p.v[1]*j,-D.p.v[2]*j):j.length?C.translate(D.p.v[0]*j[0],D.p.v[1]*j[1],-D.p.v[2]*j[2]):C.translate(D.p.v[0]*j,D.p.v[1]*j,-D.p.v[2]*j));if(t.strokeWidthAnim&&(q=R<0?0:R),t.strokeColorAnim&&(G="rgb("+Math.round(255*N[0])+","+Math.round(255*N[1])+","+Math.round(255*N[2])+")"),t.fillColorAnim&&t.fc&&(Z="rgb("+Math.round(255*U[0])+","+Math.round(255*U[1])+","+Math.round(255*U[2])+")"),this._hasMaskedPath){if(C.translate(0,-t.ls),C.translate(0,x[1]*L*.01+n,0),this._pathData.p.v){b=(l.point[1]-u.point[1])/(l.point[0]-u.point[0]);var lt=180*Math.atan(b)/Math.PI;l.point[0]<u.point[0]&&(lt+=180),C.rotate(-lt*Math.PI/180)}C.translate(B,V,0),a-=x[0]*$[r].an*.005,$[r+1]&&W!==$[r+1].ind&&(a+=$[r].an/2,a+=.001*t.tr*t.finalSize)}else{switch(C.translate(i,n,0),t.ps&&C.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:C.translate($[r].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[$[r].line]),0,0);break;case 2:C.translate($[r].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[$[r].line])/2,0,0)}C.translate(0,-t.ls),C.translate(F,0,0),C.translate(x[0]*$[r].an*.005,x[1]*L*.01,0),i+=$[r].l+.001*t.tr*t.finalSize}"html"===E?tt=C.toCSS():"svg"===E?tt=C.to2dCSS():et=[C.props[0],C.props[1],C.props[2],C.props[3],C.props[4],C.props[5],C.props[6],C.props[7],C.props[8],C.props[9],C.props[10],C.props[11],C.props[12],C.props[13],C.props[14],C.props[15]],Y=z}S<=r?(A=new LetterProps(Y,q,G,Z,tt,et),this.renderedLetters.push(A),S+=1,this.lettersChangedFlag=!0):(A=this.renderedLetters[r],this.lettersChangedFlag=A.update(Y,q,G,Z,tt,et)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,e){var i,n,r=e.length,s="";for(i=0;i<r;i+=1)"sh"===e[i].ty&&(n=e[i].ks.k,s+=buildShapeString(n,n.i.length,!0,t));return s},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,i,n,r){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(n,r,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}function ISolidElement(t,e,i){this.initElement(t,e,i)}function NullElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(e&&e.title){var n=createNS("title"),r=createElementID();n.setAttribute("id",r),n.textContent=e.title,this.svgElement.appendChild(n),i+=r}if(e&&e.description){var s=createNS("desc"),o=createElementID();s.setAttribute("id",o),s.textContent=e.description,this.svgElement.appendChild(s),i+=" "+o}i&&this.svgElement.setAttribute("aria-labelledby",i);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,i=t.length,n=[],r="";e<i;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(n.push(r),r=""):r+=t[e],e+=1;return n.push(r),n},SVGTextLottieElement.prototype.buildShapeData=function(t,e){if(t.shapes&&t.shapes.length){var i=t.shapes[0];if(i.it){var n=i.it[i.it.length-1];n.s&&(n.s.k[0]=e,n.s.k[1]=e)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){var t,e;this.addDynamicProperty(this);var i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var n=this.globalData.fontManager.getFontByName(i.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var r=i.fWeight,s=i.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("aria-label",i.t);var o,a=i.l||[],l=!!this.globalData.fontManager.chars;e=a.length;var c=this.mHelper,d=this.data.singleShape,h=0,p=0,u=!0,f=.001*i.tr*i.finalSize;if(!d||l||i.sz){var m,g=this.textSpans.length;for(t=0;t<e;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!l||!d||0===t){if(o=g>t?this.textSpans[t].span:createNS(l?"g":"text"),g<=t){if(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=o,l){var y=createNS("g");o.appendChild(y),this.textSpans[t].childSpan=y}this.textSpans[t].span=o,this.layerElement.appendChild(o)}o.style.display="inherit"}if(c.reset(),d&&(a[t].n&&(h=-f,p+=i.yOffset,p+=u?1:0,u=!1),this.applyTextPropertiesToMatrix(i,c,a[t].line,h,p),h+=a[t].l||0,h+=f),l){var v;if(1===(m=this.globalData.fontManager.getCharData(i.finalText[t],n.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily)).t)v=new SVGCompElement(m.data,this.globalData,this);else{var b=emptyShapeData;m.data&&m.data.shapes&&(b=this.buildShapeData(m.data,i.finalSize)),v=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[t].glyph){var _=this.textSpans[t].glyph;this.textSpans[t].childSpan.removeChild(_.layerElement),_.destroy()}this.textSpans[t].glyph=v,v._debug=!0,v.prepareFrame(0),v.renderFrame(),this.textSpans[t].childSpan.appendChild(v.layerElement),1===m.t&&this.textSpans[t].childSpan.setAttribute("transform","scale("+i.finalSize/100+","+i.finalSize/100+")")}else d&&o.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),o.textContent=a[t].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}d&&o&&o.setAttribute("d","")}else{var x=this.textContainer,k="start";switch(i.j){case 1:k="end";break;case 2:k="middle";break;default:k="start"}x.setAttribute("text-anchor",k),x.setAttribute("letter-spacing",f);var w=this.buildTextContents(i.finalText);for(e=w.length,p=i.ps?i.ps[1]+i.ascent:0,t=0;t<e;t+=1)(o=this.textSpans[t].span||createNS("tspan")).textContent=w[t],o.setAttribute("x",0),o.setAttribute("y",p),o.style.display="inherit",x.appendChild(o),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=o,p+=i.finalLineHeight;this.layerElement.appendChild(x)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,e,i=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<i;t+=1)(e=this.textSpans[t].glyph)&&(e.prepareFrame(this.comp.renderedFrame-this.data.st),e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var i,n,r,s=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(e=o.length,t=0;t<e;t+=1)o[t].n||(i=s[t],n=this.textSpans[t].span,(r=this.textSpans[t].glyph)&&r.renderFrame(),i._mdf.m&&n.setAttribute("transform",i.m),i._mdf.o&&n.setAttribute("opacity",i.o),i._mdf.sw&&n.setAttribute("stroke-width",i.sw),i._mdf.sc&&n.setAttribute("stroke",i.sc),i._mdf.fc&&n.setAttribute("fill",i.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var i=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var r=createElementID();i.setAttribute("id",r),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+r+")"),e.appendChild(i),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var e=0,i=this.layers.length;for(e=0;e<i;e+=1)if(this.layers[e].ind===t)return e;return-1},SVGRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){e[t]=!0;var i=this.createItem(this.layers[t]);if(e[t]=i,getExpressionsPlugin()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,t),this.layers[t].tt){var n="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===n)return;if(this.elements[n]&&!0!==this.elements[n]){var r=e[n].getMatte(this.layers[t].tt);i.setMatte(r)}else this.buildItem(n),this.addPendingElement(i)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){var n="tp"in t.data?this.findIndexByInd(t.data.tp):e-1,r=this.elements[n].getMatte(this.layers[e].tt);t.setMatte(r);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){for(var n,r=0;r<e;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(i,n):this.layerElement.appendChild(i)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var i,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var e,i=t.length,n="_";for(e=0;e<i;e+=1)n+=t[e].transform.key+"_";var r=this.sequences[n];return r||(r={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=r,this.sequenceList.push(r)),r},processSequence:function(t,e){for(var i=0,n=t.transforms.length,r=e;i<n&&!e;){if(t.transforms[i].transform.mProps._mdf){r=!0;break}i+=1}if(r)for(t.finalTransform.reset(),i=n-1;i>=0;i-=1)t.finalTransform.multiply(t.transforms[i].transform.mProps.v);t._mdf=r},processSequences:function(t){var e,i=this.sequenceList.length;for(e=0;e<i;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",e=null,i=null,n=null;function r(){var r,s,o;e||(r=createNS("svg"),s=createNS("filter"),o=createNS("feColorMatrix"),s.setAttribute("id",t),o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),s.appendChild(o),r.appendChild(s),r.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(r.style.display="none"),n=r,document.body.appendChild(n),e=createTag("canvas"),(i=e.getContext("2d")).filter="url(#"+t+")",i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1))}return{load:r,get:function(n){return e||r(),e.width=n.width,e.height=n.height,i.filter="url(#"+t+")",e}}};function createCanvas(t,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,e);var i=createTag("canvas");return i.width=t,i.height=e,i}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(t){var e,i,n=t.data.ef?t.data.ef.length:0;for(this.filters=[],e=0;e<n;e+=1){i=null;var r=t.data.ef[e].ty;registeredEffects[r]&&(i=new(0,registeredEffects[r].effect)(t.effectsManager.effectElements[e],t)),i&&this.filters.push(i)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,e){registeredEffects[t]={effect:e}}function CVMaskElement(t,e){var i;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n=this.masksProperties.length,r=!1;for(i=0;i<n;i+=1)"n"!==this.masksProperties[i].mode&&(r=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=r,r&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var e,i=this.filters.length;for(e=0;e<i;e+=1)this.filters[e].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var e,i=this.filters.length,n=[];for(e=0;e<i;e+=1)this.filters[e].type===t&&n.push(this.filters[e]);return n},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,i,n,r=this.element.finalTransform.mat,s=this.element.canvasContext,o=this.masksProperties.length;for(s.beginPath(),t=0;t<o;t+=1)if("n"!==this.masksProperties[t].mode){var a;this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),n=this.viewData[t].v,e=r.applyToPointArray(n.v[0][0],n.v[0][1],0),s.moveTo(e[0],e[1]);var l=n._length;for(a=1;a<l;a+=1)i=r.applyToTriplePoints(n.o[a-1],n.i[a],n.v[a]),s.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=r.applyToTriplePoints(n.o[a-1],n.i[0],n.v[0]),s.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,e,i,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r,s=4;"rc"===e.ty?s=5:"el"===e.ty?s=6:"sr"===e.ty&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,s,t);var o,a=i.length;for(r=0;r<a;r+=1)i[r].closed||(o={transforms:n.addTransformSequence(i[r].transforms),trNodes:[]},this.styledShapes.push(o),i[r].elements.push(o))}function CVShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,i)}function CVTextElement(t,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,i)}function CVImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,i)}function CVSolidElement(t,e,i){this.initElement(t,e,i)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var t;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,t=0;t<15;t+=1){var e=new CanvasContext;this.stack[t]=e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,e,i){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,e,i){this.initElement(t,e,i)}function HShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,i)}function HCameraElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,t.pe,0,0,this),t.ks.p.s?(this.px=n(this,t.ks.p.x,1,0,this),this.py=n(this,t.ks.p.y,1,0,this),this.pz=n(this,t.ks.p.z,1,0,this)):this.p=n(this,t.ks.p,1,0,this),t.ks.a&&(this.a=n(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var r,s=t.ks.or.k.length;for(r=0;r<s;r+=1)t.ks.or.k[r].to=null,t.ks.or.k[r].ti=null}this.or=n(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,t.ks.rx,0,degToRads,this),this.ry=n(this,t.ks.ry,0,degToRads,this),this.rz=n(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i)}function HybridRendererBase(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,e,i){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||void 0===e.runExpressions||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,e=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(e);var i=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(i),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],e=t.getContext("2d");if(this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var i=assetLoader.getLumaCanvas(this.canvasContext.canvas);i.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(i,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var e=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var i={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},n={};if("fl"===t.ty||"st"===t.ty?(n.c=PropertyFactory.getProp(this,t.c,1,255,this),n.c.k||(i.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(n.s=PropertyFactory.getProp(this,t.s,1,null,this),n.e=PropertyFactory.getProp(this,t.e,1,null,this),n.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,t.g,this)),n.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty){if(i.lc=lineCapEnum[t.lc||2],i.lj=lineJoinEnum[t.lj||2],1==t.lj&&(i.ml=t.ml),n.w=PropertyFactory.getProp(this,t.w,0,null,this),n.w.k||(i.wi=n.w.v),t.d){var r=new DashProperty(this,t.d,"canvas",this);n.d=r,n.d.k||(i.da=n.d.dashArray,i.do=n.d.dashoffset[0])}}else i.r=2===t.r?"evenodd":"nonzero";return this.stylesList.push(i),n.style=i,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,i=t.length;for(e=0;e<i;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,i,n,r){var s,o,a,l,c,d,h=t.length-1,p=[],u=[],f=[].concat(r);for(s=h;s>=0;s-=1){if((l=this.searchProcessedElement(t[s]))?e[s]=i[l-1]:t[s]._shouldRender=n,"fl"===t[s].ty||"st"===t[s].ty||"gf"===t[s].ty||"gs"===t[s].ty)l?e[s].style.closed=!1:e[s]=this.createStyleElement(t[s],f),p.push(e[s].style);else if("gr"===t[s].ty){if(l)for(a=e[s].it.length,o=0;o<a;o+=1)e[s].prevViewData[o]=e[s].it[o];else e[s]=this.createGroupElement(t[s]);this.searchShapes(t[s].it,e[s].it,e[s].prevViewData,n,f)}else"tr"===t[s].ty?(l||(d=this.createTransformElement(t[s]),e[s]=d),f.push(e[s]),this.addTransformToStyleList(e[s])):"sh"===t[s].ty||"rc"===t[s].ty||"el"===t[s].ty||"sr"===t[s].ty?l||(e[s]=this.createShapeElement(t[s])):"tm"===t[s].ty||"rd"===t[s].ty||"pb"===t[s].ty||"zz"===t[s].ty||"op"===t[s].ty?(l?(c=e[s]).closed=!1:((c=ShapeModifiers.getModifier(t[s].ty)).init(this,t[s]),e[s]=c,this.shapeModifiers.push(c)),u.push(c)):"rp"===t[s].ty&&(l?(c=e[s]).closed=!0:(c=ShapeModifiers.getModifier(t[s].ty),e[s]=c,c.init(this,t,s,e),this.shapeModifiers.push(c),n=!1),u.push(c));this.addProcessedElement(t[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(p),h=u.length,s=0;s<h;s+=1)u[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,i,n,r,s,o,a,l,c=this.stylesList.length,d=this.globalData.renderer,h=this.globalData.canvasContext;for(t=0;t<c;t+=1)if(("st"!==(a=(l=this.stylesList[t]).type)&&"gs"!==a||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(d.save(),s=l.elements,"st"===a||"gs"===a?(d.ctxStrokeStyle("st"===a?l.co:l.grd),d.ctxLineWidth(l.wi),d.ctxLineCap(l.lc),d.ctxLineJoin(l.lj),d.ctxMiterLimit(l.ml||0)):d.ctxFillStyle("fl"===a?l.co:l.grd),d.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&h.beginPath(),d.ctxTransform(l.preTransforms.finalTransform.props),i=s.length,e=0;e<i;e+=1){for("st"!==a&&"gs"!==a||(h.beginPath(),l.da&&(h.setLineDash(l.da),h.lineDashOffset=l.do)),r=(o=s[e].trNodes).length,n=0;n<r;n+=1)"m"===o[n].t?h.moveTo(o[n].p[0],o[n].p[1]):"c"===o[n].t?h.bezierCurveTo(o[n].pts[0],o[n].pts[1],o[n].pts[2],o[n].pts[3],o[n].pts[4],o[n].pts[5]):h.closePath();"st"!==a&&"gs"!==a||(d.ctxStroke(),l.da&&h.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&this.globalData.renderer.ctxFill(l.r),d.restore()}},CVShapeElement.prototype.renderShape=function(t,e,i,n){var r,s;for(s=t,r=e.length-1;r>=0;r-=1)"tr"===e[r].ty?(s=i[r].transform,this.renderShapeTransform(t,s)):"sh"===e[r].ty||"el"===e[r].ty||"rc"===e[r].ty||"sr"===e[r].ty?this.renderPath(e[r],i[r]):"fl"===e[r].ty?this.renderFill(e[r],i[r],s):"st"===e[r].ty?this.renderStroke(e[r],i[r],s):"gf"===e[r].ty||"gs"===e[r].ty?this.renderGradientFill(e[r],i[r],s):"gr"===e[r].ty?this.renderShape(s,e[r].it,i[r].it):e[r].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var i,n,r,s=t.trNodes,o=e.paths,a=o._length;s.length=0;var l=t.transforms.finalTransform;for(r=0;r<a;r+=1){var c=o.shapes[r];if(c&&c.v){for(n=c._length,i=1;i<n;i+=1)1===i&&s.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),s.push({t:"c",pts:l.applyToTriplePoints(c.o[i-1],c.i[i],c.v[i])});1===n&&s.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&n&&(s.push({t:"c",pts:l.applyToTriplePoints(c.o[i-1],c.i[0],c.v[0])}),s.push({t:"z"}))}}t.trNodes=s}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender){var i,n=e.styledShapes.length;for(i=0;i<n;i+=1)this.renderStyledShape(e.styledShapes[i],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,i){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,i){var n,r=e.style;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var s,o=this.globalData.canvasContext,a=e.s.v,l=e.e.v;if(1===t.t)n=o.createLinearGradient(a[0],a[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(a[0]-l[0],2)+Math.pow(a[1]-l[1],2)),d=Math.atan2(l[1]-a[1],l[0]-a[0]),h=e.h.v;h>=1?h=.99:h<=-1&&(h=-.99);var p=c*h,u=Math.cos(d+e.a.v)*p+a[0],f=Math.sin(d+e.a.v)*p+a[1];n=o.createRadialGradient(u,f,0,a[0],a[1],c)}var m=t.g.p,g=e.g.c,y=1;for(s=0;s<m;s+=1)e.g._hasOpacity&&e.g._collapsable&&(y=e.g.o[2*s+1]),n.addColorStop(g[4*s]/100,"rgba("+g[4*s+1]+","+g[4*s+2]+","+g[4*s+3]+","+y+")");r.grd=n}r.coOp=e.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(t,e,i){var n=e.style,r=e.d;r&&(r._mdf||this._isFirstFrame)&&(n.da=r.dashArray,n.do=r.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*i.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var i=!1;t.sc&&(i=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var n,r,s,o,a,l,c,d,h,p,u,f,m=this.globalData.fontManager.getFontByName(t.f),g=t.l,y=this.mHelper;this.stroke=i,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,r=t.finalText.length;var v=this.data.singleShape,b=.001*t.tr*t.finalSize,_=0,x=0,k=!0,w=0;for(n=0;n<r;n+=1){o=(s=this.globalData.fontManager.getCharData(t.finalText[n],m.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&s.data||{},y.reset(),v&&g[n].n&&(_=-b,x+=t.yOffset,x+=k?1:0,k=!1),h=(c=o.shapes?o.shapes[0].it:[]).length,y.scale(t.finalSize/100,t.finalSize/100),v&&this.applyTextPropertiesToMatrix(t,y,g[n].line,_,x),u=createSizedArray(h-1);var C=0;for(d=0;d<h;d+=1)if("sh"===c[d].ty){for(l=c[d].ks.k.i.length,p=c[d].ks.k,f=[],a=1;a<l;a+=1)1===a&&f.push(y.applyToX(p.v[0][0],p.v[0][1],0),y.applyToY(p.v[0][0],p.v[0][1],0)),f.push(y.applyToX(p.o[a-1][0],p.o[a-1][1],0),y.applyToY(p.o[a-1][0],p.o[a-1][1],0),y.applyToX(p.i[a][0],p.i[a][1],0),y.applyToY(p.i[a][0],p.i[a][1],0),y.applyToX(p.v[a][0],p.v[a][1],0),y.applyToY(p.v[a][0],p.v[a][1],0));f.push(y.applyToX(p.o[a-1][0],p.o[a-1][1],0),y.applyToY(p.o[a-1][0],p.o[a-1][1],0),y.applyToX(p.i[0][0],p.i[0][1],0),y.applyToY(p.i[0][0],p.i[0][1],0),y.applyToX(p.v[0][0],p.v[0][1],0),y.applyToY(p.v[0][0],p.v[0][1],0)),u[C]=f,C+=1}v&&(_+=g[n].l,_+=b),this.textSpans[w]?this.textSpans[w].elem=u:this.textSpans[w]={elem:u},w+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,i,n,r,s;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var o,a=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;e=l.length;var c,d,h=null,p=null,u=null,f=this.globalData.renderer;for(t=0;t<e;t+=1)if(!l[t].n){if((o=a[t])&&(f.save(),f.ctxTransform(o.p),f.ctxOpacity(o.o)),this.fill){for(o&&o.fc?h!==o.fc&&(f.ctxFillStyle(o.fc),h=o.fc):h!==this.values.fill&&(h=this.values.fill,f.ctxFillStyle(this.values.fill)),n=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),i=0;i<n;i+=1)for(s=(d=c[i]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),r=2;r<s;r+=6)this.globalData.canvasContext.bezierCurveTo(d[r],d[r+1],d[r+2],d[r+3],d[r+4],d[r+5]);this.globalData.canvasContext.closePath(),f.ctxFill()}if(this.stroke){for(o&&o.sw?u!==o.sw&&(u=o.sw,f.ctxLineWidth(o.sw)):u!==this.values.sWidth&&(u=this.values.sWidth,f.ctxLineWidth(this.values.sWidth)),o&&o.sc?p!==o.sc&&(p=o.sc,f.ctxStrokeStyle(o.sc)):p!==this.values.stroke&&(p=this.values.stroke,f.ctxStrokeStyle(this.values.stroke)),n=(c=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),i=0;i<n;i+=1)for(s=(d=c[i]).length,this.globalData.canvasContext.moveTo(d[0],d[1]),r=2;r<s;r+=6)this.globalData.canvasContext.bezierCurveTo(d[r],d[r+1],d[r+2],d[r+3],d[r+4],d[r+5]);this.globalData.canvasContext.closePath(),f.ctxStroke()}o&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,i,n=t.getContext("2d"),r=this.img.width,s=this.img.height,o=r/s,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>a&&"xMidYMid slice"===l||o<a&&"xMidYMid slice"!==l?e=(i=s)*a:i=(e=r)/a,n.drawImage(this.img,(r-e)/2,(s-i)/2,e,i,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,e,i,n){this.canvasContext.fillRect(t,e,i,n)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){this.renderConfig.clearCanvas?(t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var i="0px 0px 0px";e.transformOrigin=i,e.mozTransformOrigin=i,e.webkitTransformOrigin=i,e["-webkit-transform"]=i,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,e){var i,n,r,s;if(this.reset(),t?(i=t,n=e,this.canvasContext.canvas.width=i,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(i=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(i=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=i*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var o=this.renderConfig.preserveAspectRatio.split(" "),a=o[1]||"meet",l=o[0]||"xMidYMid",c=l.substr(0,4),d=l.substr(4);r=i/n,(s=this.transformCanvas.w/this.transformCanvas.h)>r&&"meet"===a||s<r&&"slice"===a?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===c&&(s<r&&"meet"===a||s>r&&"slice"===a)?(i-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(s<r&&"meet"===a||s>r&&"slice"===a)?(i-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===d&&(s>r&&"meet"===a||s<r&&"slice"===a)?(n-this.transformCanvas.h*(i/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===d&&(s>r&&"meet"===a||s<r&&"slice"===a)?(n-this.transformCanvas.h*(i/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var i;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(t-this.layers[i].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&99!==this.layers[t].ty){var i=this.createItem(this.layers[t],this,this.globalData);e[t]=i,i.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=0;for(e=this._length;e<t;e+=1)this.stack[e]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var e,i=this.stack[this.cArrPos],n=i.transform,r=this.cTr.props;for(e=0;e<16;e+=1)r[e]=n[e];if(t){this.nativeContext.restore();var s=this.stack[this.cArrPos+1];this.appliedFillStyle=s.fillStyle,this.appliedStrokeStyle=s.strokeStyle,this.appliedLineWidth=s.lineWidth,this.appliedLineCap=s.lineCap,this.appliedLineJoin=s.lineJoin,this.appliedMiterLimit=s.miterLimit}this.nativeContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),(t||-1!==i.opacity&&this.currentOpacity!==i.opacity)&&(this.nativeContext.globalAlpha=i.opacity,this.currentOpacity=i.opacity),this.currentFillStyle=i.fillStyle,this.currentStrokeStyle=i.strokeStyle,this.currentLineWidth=i.lineWidth,this.currentLineCap=i.lineCap,this.currentLineJoin=i.lineJoin,this.currentMiterLimit=i.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var i,n=this.stack[this.cArrPos];for(i=0;i<16;i+=1)n.transform[i]=e[i];this.cArrPos+=1;var r=this.stack[this.cArrPos];r.opacity=n.opacity,r.fillStyle=n.fillStyle,r.strokeStyle=n.strokeStyle,r.lineWidth=n.lineWidth,r.lineCap=n.lineCap,r.lineJoin=n.lineJoin,r.miterLimit=n.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var i=e.props;this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])},CVContextData.prototype.opacity=function(t){var e=this.stack[this.cArrPos].opacity;e*=t<0?0:t,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,e,i,n){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,e,i,n)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)e=t[i].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var i,n,r,s,o,a=t.sh.v,l=t.transformers,c=a._length;if(!(c<=1)){for(i=0;i<c-1;i+=1)n=this.getTransformedPoint(l,a.v[i]),r=this.getTransformedPoint(l,a.o[i]),s=this.getTransformedPoint(l,a.i[i+1]),o=this.getTransformedPoint(l,a.v[i+1]),this.checkBounds(n,r,s,o,e);a.c&&(n=this.getTransformedPoint(l,a.v[i]),r=this.getTransformedPoint(l,a.o[i]),s=this.getTransformedPoint(l,a.i[0]),o=this.getTransformedPoint(l,a.v[0]),this.checkBounds(n,r,s,o,e))}},HShapeElement.prototype.checkBounds=function(t,e,i,n,r){this.getBoundsOfCurve(t,e,i,n);var s=this.shapeBoundingBox;r.x=bmMin(s.left,r.x),r.xMax=bmMax(s.right,r.xMax),r.y=bmMin(s.top,r.y),r.yMax=bmMax(s.bottom,r.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,i,n){for(var r,s,o,a,l,c,d,h=[[t[0],n[0]],[t[1],n[1]]],p=0;p<2;++p)s=6*t[p]-12*e[p]+6*i[p],r=-3*t[p]+9*e[p]-9*i[p]+3*n[p],o=3*e[p]-3*t[p],s|=0,o|=0,0==(r|=0)&&0===s||(0===r?(a=-o/s)>0&&a<1&&h[p].push(this.calculateF(a,t,e,i,n,p)):(l=s*s-4*o*r)>=0&&((c=(-s+bmSqrt(l))/(2*r))>0&&c<1&&h[p].push(this.calculateF(c,t,e,i,n,p)),(d=(-s-bmSqrt(l))/(2*r))>0&&d<1&&h[p].push(this.calculateF(d,t,e,i,n,p))));this.shapeBoundingBox.left=bmMin.apply(null,h[0]),this.shapeBoundingBox.top=bmMin.apply(null,h[1]),this.shapeBoundingBox.right=bmMax.apply(null,h[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,h[1])},HShapeElement.prototype.calculateF=function(t,e,i,n,r,s){return bmPow(1-t,3)*e[s]+3*bmPow(1-t,2)*t*i[s]+3*(1-t)*bmPow(t,2)*n[s]+bmPow(t,3)*r[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var i,n=t.length;for(i=0;i<n;i+=1)t[i]&&t[i].sh?this.calculateShapeBoundingBox(t[i],e):t[i]&&t[i].it?this.calculateBoundingBox(t[i].it,e):t[i]&&t[i].style&&t[i].w&&this.expandStrokeBoundingBox(t[i].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,e){var i=0;if(t.keyframes){for(var n=0;n<t.keyframes.length;n+=1){var r=t.keyframes[n].s;r>i&&(i=r)}i*=t.mult}else i=t.v*t.mult;e.x-=i,e.xMax+=i,e.y-=i,e.yMax+=i},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var i=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),i=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),i=!0),i||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,r="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=r,n.webkitTransform=r}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,i=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=i,e.color=i,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var n,r,s=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{e.fontFamily=s.fFamily;var o=t.fWeight,a=t.fStyle;e.fontStyle=a,e.fontWeight=o}var l,c,d,h=t.l;r=h.length;var p,u=this.mHelper,f="",m=0;for(n=0;n<r;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?d=(c=this.textSpans[m]).children[0]:((c=createTag("div")).style.lineHeight=0,(d=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(c=this.textSpans[m],l=this.textPaths[m]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var g,y=this.globalData.fontManager.getCharData(t.finalText[n],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(g=y?y.data:null,u.reset(),g&&g.shapes&&g.shapes.length&&(p=g.shapes[0].it,u.scale(t.finalSize/100,t.finalSize/100),f=this.createPathShape(u,p),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),g&&g.shapes){document.body.appendChild(d);var v=d.getBBox();d.setAttribute("width",v.width+2),d.setAttribute("height",v.height+2),d.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2));var b=d.style,_="translate("+(v.x-1)+"px,"+(v.y-1)+"px)";b.transform=_,b.webkitTransform=_,h[n].yOffset=v.y-1}else d.setAttribute("width",1),d.setAttribute("height",1);c.appendChild(d)}}else if(l.textContent=h[n].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var x=l.style,k="translate3d(0,"+-t.finalSize/1.2+"px,0)";x.transform=k,x.webkitTransform=k}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=c,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var i,n,r,s,o,a=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(n=c.length,i=0;i<n;i+=1)c[i].n?a+=1:(s=this.textSpans[i],o=this.textPaths[i],r=l[a],a+=1,r._mdf.m&&(this.isMasked?s.setAttribute("transform",r.m):(s.style.webkitTransform=r.m,s.style.transform=r.m)),s.style.opacity=r.o,r.sw&&r._mdf.sw&&o.setAttribute("stroke-width",r.sw),r.sc&&r._mdf.sc&&o.setAttribute("stroke",r.sc),r.fc&&r._mdf.fc&&(o.setAttribute("fill",r.fc),o.style.color=r.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var d=this.innerElem.getBBox();if(this.currentBBox.w!==d.width&&(this.currentBBox.w=d.width,this.svgElement.setAttribute("width",d.width)),this.currentBBox.h!==d.height&&(this.currentBBox.h=d.height,this.svgElement.setAttribute("height",d.height)),this.currentBBox.w!==d.width+2||this.currentBBox.h!==d.height+2||this.currentBBox.x!==d.x-1||this.currentBBox.y!==d.y-1){this.currentBBox.w=d.width+2,this.currentBBox.h=d.height+2,this.currentBBox.x=d.x-1,this.currentBBox.y=d.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var h="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=h,t.webkitTransform=h}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,i,n,r=this.comp.threeDElements.length;for(t=0;t<r;t+=1)if("3d"===(e=this.comp.threeDElements[t]).type){i=e.perspectiveElem.style,n=e.container.style;var s=this.pe.v+"px",o="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";i.perspective=s,i.webkitPerspective=s,n.transformOrigin=o,n.mozTransformOrigin=o,n.webkitTransformOrigin=o,i.transform=a,i.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,i=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)i=this.hierarchy[t].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var n=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var r;r=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)),o=[r[0]/s,r[1]/s,r[2]/s],a=Math.sqrt(o[2]*o[2]+o[0]*o[0]),l=Math.atan2(o[1],a),c=Math.atan2(o[0],-o[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var d=!this._prevMat.equals(this.mat);if((d||this.pe._mdf)&&this.comp.threeDElements){var h,p,u;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if("3d"===(h=this.comp.threeDElements[t]).type){if(d){var f=this.mat.toCSS();(u=h.container.style).transform=f,u.webkitTransform=f}this.pe._mdf&&((p=h.perspectiveElem.style).perspective=this.pe.v+"px",p.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){var n=this.layers[e];if(n.ddd&&this.supports3d)this.addTo3dContainer(i,e);else if(this.threeDElements)this.addTo3dContainer(i,e);else{for(var r,s,o=0;o<e;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(s=this.elements[o],r=(this.layers[o].ddd?this.getThreeDContainerByPos(o):s.getBaseElement())||r),o+=1;r?n.ddd&&this.supports3d||this.layerElement.insertBefore(i,r):n.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var e=0,i=this.threeDElements.length;e<i;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,e){var i,n,r=createTag("div");styleDiv(r);var s=createTag("div");if(styleDiv(s),"3d"===e){(i=r.style).width=this.globalData.compSize.w+"px",i.height=this.globalData.compSize.h+"px";var o="50% 50%";i.webkitTransformOrigin=o,i.mozTransformOrigin=o,i.transformOrigin=o;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(n=s.style).transform=a,n.webkitTransform=a}r.appendChild(s);var l={container:s,perspectiveElem:r,startPos:t,endPos:t,type:e};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var t,e,i=this.layers.length,n="";for(t=0;t<i;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?("3d"!==n&&(n="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):("2d"!==n&&(n="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(i=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,e){for(var i=0,n=this.threeDElements.length;i<n;){if(e<=this.threeDElements[i].endPos){for(var r,s=this.threeDElements[i].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(r=this.elements[s].getBaseElement()),s+=1;r?this.threeDElements[i].container.insertBefore(t,r):this.threeDElements[i].container.appendChild(t);break}i+=1}},HybridRendererBase.prototype.configAnimation=function(t){var e=createTag("div"),i=this.animationItem.wrapper,n=e.style;n.width=t.w+"px",n.height=t.h+"px",this.resizerElem=e,styleDiv(e),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),i.appendChild(e),n.overflow="hidden";var r=createNS("svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var s=createNS("defs");r.appendChild(s),this.data=t,this.setupGlobalData(t,r),this.globalData.defs=s,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,e,i,n,r=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,o=r/s;this.globalData.compSize.w/this.globalData.compSize.h>o?(t=r/this.globalData.compSize.w,e=r/this.globalData.compSize.w,i=0,n=(s-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(t=s/this.globalData.compSize.h,e=s/this.globalData.compSize.h,i=(r-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,n=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+i+","+n+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,i=this.globalData.compSize.h,n=this.threeDElements.length;for(t=0;t<n;t+=1){var r=this.threeDElements[t].perspectiveElem.style;r.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(i,2))+"px",r.perspective=r.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var e,i=t.length,n=createTag("div");for(e=0;e<i;e+=1)if(t[e].xt){var r=this.createComp(t[e],n,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var i,n=0;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(t){function e(e){for(var i=0,n=t.layers.length;i<n;){if(t.layers[i].nm===e||t.layers[i].ind===e)return t.elements[i].layerInterface;i+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e};function _typeof$2(t){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$2(t)}function seedRandom(t,e){var i=this,n=256,r="random",s=e.pow(n,6),o=e.pow(2,52),a=2*o,l=n-1;function c(t){var e,i=t.length,r=this,s=0,o=r.i=r.j=0,a=r.S=[];for(i||(t=[i++]);s<n;)a[s]=s++;for(s=0;s<n;s++)a[s]=a[o=l&o+t[s%i]+(e=a[s])],a[o]=e;r.g=function(t){for(var e,i=0,s=r.i,o=r.j,a=r.S;t--;)e=a[s=l&s+1],i=i*n+a[l&(a[s]=a[o=l&o+e])+(a[o]=e)];return r.i=s,r.j=o,i}}function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function h(t,e){var i,n=[],r=_typeof$2(t);if(e&&"object"==r)for(i in t)try{n.push(h(t[i],e-1))}catch(t){}return n.length?n:"string"==r?t:t+"\0"}function p(t,e){for(var i,n=t+"",r=0;r<n.length;)e[l&r]=l&(i^=19*e[l&r])+n.charCodeAt(r++);return u(e)}function u(t){return String.fromCharCode.apply(0,t)}e["seed"+r]=function(l,f,m){var g=[],y=p(h((f=!0===f?{entropy:!0}:f||{}).entropy?[l,u(t)]:null===l?function(){try{var e=new Uint8Array(n);return(i.crypto||i.msCrypto).getRandomValues(e),u(e)}catch(e){var r=i.navigator,s=r&&r.plugins;return[+new Date,i,s,i.screen,u(t)]}}():l,3),g),v=new c(g),b=function(){for(var t=v.g(6),e=s,i=0;t<o;)t=(t+i)*n,e*=n,i=v.g(1);for(;t>=a;)t/=2,e/=2,i>>>=1;return(t+i)/e};return b.int32=function(){return 0|v.g(4)},b.quick=function(){return v.g(4)/4294967296},b.double=b,p(u(v.S),t),(f.pass||m||function(t,i,n,s){return s&&(s.S&&d(s,v),t.state=function(){return d(v,{})}),n?(e[r]=t,i):t})(b,y,"global"in f?f.global:this==e,f.state)},p(e.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||e instanceof Number||"boolean"===t||"string"===t}function $bm_neg(t){var e=_typeof$1(t);if("number"===e||t instanceof Number||"boolean"===e)return-t;if($bm_isInstanceOfArray(t)){var i,n=t.length,r=[];for(i=0;i<n;i+=1)r[i]=-t[i];return r}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var i=_typeof$1(t),n=_typeof$1(e);if(isNumerable(i,t)&&isNumerable(n,e)||"string"===i||"string"===n)return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,s=t.length,o=e.length,a=[];r<s||r<o;)("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?a[r]=t[r]+e[r]:a[r]=void 0===e[r]?t[r]:t[r]||e[r],r+=1;return a}return 0}var add=sum;function sub(t,e){var i=_typeof$1(t),n=_typeof$1(e);if(isNumerable(i,t)&&isNumerable(n,e))return"string"===i&&(t=parseInt(t,10)),"string"===n&&(e=parseInt(e,10)),t-e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,s=t.length,o=e.length,a=[];r<s||r<o;)("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?a[r]=t[r]-e[r]:a[r]=void 0===e[r]?t[r]:t[r]||e[r],r+=1;return a}return 0}function mul(t,e){var i,n,r,s=_typeof$1(t),o=_typeof$1(e);if(isNumerable(s,t)&&isNumerable(o,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t[n]*e;return i}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t*e[n];return i}return 0}function div(t,e){var i,n,r,s=_typeof$1(t),o=_typeof$1(e);if(isNumerable(s,t)&&isNumerable(o,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t[n]/e;return i}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t/e[n];return i}return 0}function mod(t,e){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof e&&(e=parseInt(e,10)),t%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,i){if(e>i){var n=i;i=e,e=n}return Math.min(Math.max(t,e),i)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return e=e||0,Math.abs(t-e);var i;e||(e=helperLengthArray);var n=Math.min(t.length,e.length),r=0;for(i=0;i<n;i+=1)r+=Math.pow(e[i]-t[i],2);return Math.sqrt(r)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e,i,n=t[0],r=t[1],s=t[2],o=Math.max(n,r,s),a=Math.min(n,r,s),l=(o+a)/2;if(o===a)e=0,i=0;else{var c=o-a;switch(i=l>.5?c/(2-o-a):c/(o+a),o){case n:e=(r-s)/c+(r<s?6:0);break;case r:e=(s-n)/c+2;break;case s:e=(n-r)/c+4}e/=6}return[e,i,l,t[3]]}function hue2rgb(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function hslToRgb(t){var e,i,n,r=t[0],s=t[1],o=t[2];if(0===s)e=o,n=o,i=o;else{var a=o<.5?o*(1+s):o+s-o*s,l=2*o-a;e=hue2rgb(l,a,r+1/3),i=hue2rgb(l,a,r),n=hue2rgb(l,a,r-1/3)}return[e,i,n,t[3]]}function linear(t,e,i,n,r){if(void 0!==n&&void 0!==r||(n=e,r=i,e=0,i=1),i<e){var s=i;i=e,e=s}if(t<=e)return n;if(t>=i)return r;var o,a=i===e?0:(t-e)/(i-e);if(!n.length)return n+(r-n)*a;var l=n.length,c=createTypedArray("float32",l);for(o=0;o<l;o+=1)c[o]=n[o]+(r[o]-n[o])*a;return c}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var i,n=e.length;t||(t=createTypedArray("float32",n));var r=createTypedArray("float32",n),s=BMMath.random();for(i=0;i<n;i+=1)r[i]=t[i]+s*(e[i]-t[i]);return r}return void 0===t&&(t=0),t+BMMath.random()*(e-t)}function createPath(t,e,i,n){var r,s=t.length,o=shapePool.newElement();o.setPathData(!!n,s);var a,l,c=[0,0];for(r=0;r<s;r+=1)a=e&&e[r]?e[r]:c,l=i&&i[r]?i[r]:c,o.setTripleAt(t[r][0],t[r][1],l[0]+t[r][0],l[1]+t[r][1],a[0]+t[r][0],a[1]+t[r][1],r,!0);return o}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){var i,n,r=this.pv.length?this.pv.length:1,s=createTypedArray("float32",r),o=Math.floor(5*time);for(i=0,n=0;i<o;){for(n=0;n<r;n+=1)s[n]+=-e+2*e*BMMath.random();i+=1}var a=5*time,l=a-Math.floor(a),c=createTypedArray("float32",r);if(r>1){for(n=0;n<r;n+=1)c[n]=this.pv[n]+s[n]+(-e+2*e*BMMath.random())*l;return c}return this.pv+s[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){var i=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],n=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads;return[-Math.atan2(i[1],i[2])/degToRads,n,0]}function easeOut(t,e,i,n,r){return applyEase(easeOutBez,t,e,i,n,r)}function easeIn(t,e,i,n,r){return applyEase(easeInBez,t,e,i,n,r)}function ease(t,e,i,n,r){return applyEase(easeInOutBez,t,e,i,n,r)}function applyEase(t,e,i,n,r,s){void 0===r?(r=i,s=n):e=(e-i)/(n-i),e>1?e=1:e<0&&(e=0);var o=t(e);if($bm_isInstanceOfArray(r)){var a,l=r.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=(s[a]-r[a])*o+r[a];return c}return(s-r)*o+r}function nearestKey(t){var e,i,n,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,n=data.k[0].t;else{for(e=0;e<r-1;e+=1){if(t===data.k[e].t){i=e+1,n=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){t-data.k[e].t>data.k[e+1].t-t?(i=e+2,n=data.k[e+1].t):(i=e+1,n=data.k[e].t);break}}-1===i&&(i=e+1,n=data.k[e].t)}else i=0,n=0;var s={};return s.index=i,s.time=n/elem.comp.globalData.frameRate,s}function key(t){var e,i,n;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);t-=1,e={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var r=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(n=r.length,i=0;i<n;i+=1)e[i]=r[i],e.value[i]=r[i];return e}function framesToTime(t,e){return e||(e=elem.comp.globalData.frameRate),t/e}function timeToFrames(t,e){return t||0===t||(t=time),e||(e=elem.comp.globalData.frameRate),t*e}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value?void 0===e?value.substring(t):value.substring(t,e):""}function substr(t,e){return"string"==typeof value?void 0===e?value.substr(t):value.substr(t,e):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={initExpressions:function(t){var e=0,i=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0==(e-=1)&&function(){var t,e=i.length;for(t=0;t<e;t+=1)i[t].release();i.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===i.indexOf(t)&&i.push(t)}}};return t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var i,n=createSizedArray(e.viewData.length),r=e.viewData.length;for(i=0;i<r;i+=1)n[i]=new t(e.viewData[i],e.masksProperties[i]);return function(t){for(i=0;i<r;){if(e.masksProperties[i].nm===t)return n[i];i+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function i(t,e,i){Object.defineProperty(t,"velocity",{get:function(){return e.getVelocityAtTime(e.comp.currentFrame)}}),t.numKeys=e.keyframes?e.keyframes.length:0,t.key=function(n){if(!t.numKeys)return 0;var r;r="s"in e.keyframes[n-1]?e.keyframes[n-1].s:"e"in e.keyframes[n-2]?e.keyframes[n-2].e:e.keyframes[n-2].s;var s="unidimensional"===i?new Number(r):Object.assign({},r);return s.time=e.keyframes[n-1].t/e.elem.comp.globalData.frameRate,s.value="unidimensional"===i?r[0]:r,s},t.valueAtTime=e.getValueAtTime,t.speedAtTime=e.getSpeedAtTime,t.velocityAtTime=e.getVelocityAtTime,t.propertyGroup=e.propertyGroup}function n(){return t}return function(r){return r?"unidimensional"===r.propType?function(e){e&&"pv"in e||(e=t);var n=1/e.mult,r=e.pv*n,s=new Number(r);return s.value=r,i(s,e,"unidimensional"),function(){return e.k&&e.getValue(),r=e.v*n,s.value!==r&&((s=new Number(r)).value=r,i(s,e,"unidimensional")),s}}(r):function(t){t&&"pv"in t||(t=e);var n=1/t.mult,r=t.data&&t.data.l||t.pv.length,s=createTypedArray("float32",r),o=createTypedArray("float32",r);return s.value=o,i(s,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<r;e+=1)o[e]=t.v[e]*n,s[e]=o[e];return s}}(r):n}}(),TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var i,n,r,s;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?s=ExpressionPropertyInterface(t.p):(i=ExpressionPropertyInterface(t.px),n=ExpressionPropertyInterface(t.py),t.pz&&(r=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?s():[i(),n(),r?r():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},LayerExpressionInterface=function(){function t(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function e(t,e){var i=this.getMatrix(e);return i.props[12]=0,i.props[13]=0,i.props[14]=0,this.applyPoint(i,t)}function i(t,e){var i=this.getMatrix(e);return this.applyPoint(i,t)}function n(t,e){var i=this.getMatrix(e);return i.props[12]=0,i.props[13]=0,i.props[14]=0,this.invertPoint(i,t)}function r(t,e){var i=this.getMatrix(e);return this.invertPoint(i,t)}function s(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(e[0],e[1],e[2]||0)}function o(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(e)}function a(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function l(){return[1,1,1,1]}return function(c){var d;function h(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return h.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return d;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return h.effect;case"ADBE Text Properties":return h.textInterface;default:return null}}h.getMatrix=t,h.invertPoint=o,h.applyPoint=s,h.toWorld=i,h.toWorldVec=e,h.fromWorld=r,h.fromWorldVec=n,h.toComp=i,h.fromComp=a,h.sampleImage=l,h.sourceRectAtTime=c.sourceRectAtTime.bind(c),h._elem=c;var p=getDescriptor(d=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(h,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(d,"rotation"),scale:getDescriptor(d,"scale"),position:getDescriptor(d,"position"),opacity:getDescriptor(d,"opacity"),anchorPoint:p,anchor_point:p,transform:{get:function(){return d}},active:{get:function(){return c.isInRange}}}),h.startTime=c.data.st,h.index=c.data.ind,h.source=c.data.refId,h.height=0===c.data.ty?c.data.h:100,h.width=0===c.data.ty?c.data.w:100,h.inPoint=c.data.ip/c.comp.globalData.frameRate,h.outPoint=c.data.op/c.comp.globalData.frameRate,h._name=c.data.nm,h.registerMaskInterface=function(t){h.mask=new MaskManagerInterface(t,c)},h.registerEffectsInterface=function(t){h.effect=t},h}}(),propertyGroupFactory=function(t,e){return function(i){return(i=void 0===i?1:i)<=0?t:e(i-1)}},PropertyInterface=function(t,e){var i={_name:t};return function(t){return(t=void 0===t?1:t)<=0?i:e(t-1)}},EffectsExpressionInterface=function(){function t(i,n,r,s){function o(t){for(var e=i.ef,n=0,r=e.length;n<r;){if(t===e[n].nm||t===e[n].mn||t===e[n].ix)return 5===e[n].ty?c[n]:c[n]();n+=1}throw new Error}var a,l=propertyGroupFactory(o,r),c=[],d=i.ef.length;for(a=0;a<d;a+=1)5===i.ef[a].ty?c.push(t(i.ef[a],n.effectElements[a],n.effectElements[a].propertyGroup,s)):c.push(e(n.effectElements[a],i.ef[a].ty,s,l));return"ADBE Color Control"===i.mn&&Object.defineProperty(o,"color",{get:function(){return c[0]()}}),Object.defineProperties(o,{numProperties:{get:function(){return i.np}},_name:{value:i.nm},propertyGroup:{value:l}}),o.enabled=0!==i.en,o.active=o.enabled,o}function e(t,e,i,n){var r=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===e?i.comp.compInterface(t.p.v):r()}}return{createEffectsInterface:function(e,i){if(e.effectsManager){var n,r=[],s=e.data.ef,o=e.effectsManager.effectElements.length;for(n=0;n<o;n+=1)r.push(t(s[n],e.effectsManager.effectElements[n],i,e));var a=e.data.ef||[],l=function(t){for(n=0,o=a.length;n<o;){if(t===a[n].nm||t===a[n].mn||t===a[n].ix)return r[n];n+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return a.length}}),l}return null}}}(),ShapePathInterface=function(t,e,i){var n=e.sh;function r(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?r.path:null}var s=propertyGroupFactory(r,i);return n.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(r,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:i}}),r},ShapeExpressionInterface=function(){function t(t,o,p){var u,f=[],m=t?t.length:0;for(u=0;u<m;u+=1)"gr"===t[u].ty?f.push(e(t[u],o[u],p)):"fl"===t[u].ty?f.push(i(t[u],o[u],p)):"st"===t[u].ty?f.push(r(t[u],o[u],p)):"tm"===t[u].ty?f.push(s(t[u],o[u],p)):"tr"===t[u].ty||("el"===t[u].ty?f.push(a(t[u],o[u],p)):"sr"===t[u].ty?f.push(l(t[u],o[u],p)):"sh"===t[u].ty?f.push(ShapePathInterface(t[u],o[u],p)):"rc"===t[u].ty?f.push(c(t[u],o[u],p)):"rd"===t[u].ty?f.push(d(t[u],o[u],p)):"rp"===t[u].ty?f.push(h(t[u],o[u],p)):"gf"===t[u].ty?f.push(n(t[u],o[u],p)):f.push((t[u],o[u],function(){return null})));return f}function e(e,i,n){var r=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return r.content;default:return r.transform}};r.propertyGroup=propertyGroupFactory(r,n);var s=function(e,i,n){var r,s=function(t){for(var e=0,i=r.length;e<i;){if(r[e]._name===t||r[e].mn===t||r[e].propertyIndex===t||r[e].ix===t||r[e].ind===t)return r[e];e+=1}return"number"==typeof t?r[t-1]:null};s.propertyGroup=propertyGroupFactory(s,n),r=t(e.it,i.it,s.propertyGroup),s.numProperties=r.length;var a=o(e.it[e.it.length-1],i.it[i.it.length-1],s.propertyGroup);return s.transform=a,s.propertyIndex=e.cix,s._name=e.nm,s}(e,i,r.propertyGroup),a=o(e.it[e.it.length-1],i.it[i.it.length-1],r.propertyGroup);return r.content=s,r.transform=a,Object.defineProperty(r,"_name",{get:function(){return e.nm}}),r.numProperties=e.np,r.propertyIndex=e.ix,r.nm=e.nm,r.mn=e.mn,r}function i(t,e,i){function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),n}function n(t,e,i){function n(t){return"Start Point"===t||"start point"===t?n.startPoint:"End Point"===t||"end point"===t?n.endPoint:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",i)),e.e.setGroupProperty(PropertyInterface("End Point",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),n}function r(t,e,i){var n,r=propertyGroupFactory(c,i),s=propertyGroupFactory(l,r);function o(i){Object.defineProperty(l,t.d[i].nm,{get:ExpressionPropertyInterface(e.d.dataProps[i].p)})}var a=t.d?t.d.length:0,l={};for(n=0;n<a;n+=1)o(n),e.d.dataProps[n].p.setGroupProperty(s);function c(t){return"Color"===t||"color"===t?c.color:"Opacity"===t||"opacity"===t?c.opacity:"Stroke Width"===t||"stroke width"===t?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},strokeWidth:{get:ExpressionPropertyInterface(e.w)},dash:{get:function(){return l}},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",r)),e.o.setGroupProperty(PropertyInterface("Opacity",r)),e.w.setGroupProperty(PropertyInterface("Stroke Width",r)),c}function s(t,e,i){function n(e){return e===t.e.ix||"End"===e||"end"===e?n.end:e===t.s.ix?n.start:e===t.o.ix?n.offset:null}var r=propertyGroupFactory(n,i);return n.propertyIndex=t.ix,e.s.setGroupProperty(PropertyInterface("Start",r)),e.e.setGroupProperty(PropertyInterface("End",r)),e.o.setGroupProperty(PropertyInterface("Offset",r)),n.propertyIndex=t.ix,n.propertyGroup=i,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),n.mn=t.mn,n}function o(t,e,i){function n(e){return t.a.ix===e||"Anchor Point"===e?n.anchorPoint:t.o.ix===e||"Opacity"===e?n.opacity:t.p.ix===e||"Position"===e?n.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?n.rotation:t.s.ix===e||"Scale"===e?n.scale:t.sk&&t.sk.ix===e||"Skew"===e?n.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?n.skewAxis:null}var r=propertyGroupFactory(n,i);return e.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",r)),e.transform.mProps.p.setGroupProperty(PropertyInterface("Position",r)),e.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",r)),e.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",r)),e.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",r)),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",r)),e.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",r))),e.transform.op.setGroupProperty(PropertyInterface("Opacity",r)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),n.ty="tr",n.mn=t.mn,n.propertyGroup=i,n}function a(t,e,i){function n(e){return t.p.ix===e?n.position:t.s.ix===e?n.size:null}var r=propertyGroupFactory(n,i);n.propertyIndex=t.ix;var s="tm"===e.sh.ty?e.sh.prop:e.sh;return s.s.setGroupProperty(PropertyInterface("Size",r)),s.p.setGroupProperty(PropertyInterface("Position",r)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(s.s)},position:{get:ExpressionPropertyInterface(s.p)},_name:{value:t.nm}}),n.mn=t.mn,n}function l(t,e,i){function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.rotation:t.pt.ix===e?n.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?n.outerRadius:t.os.ix===e?n.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?n.innerRoundness:null:n.innerRadius}var r=propertyGroupFactory(n,i),s="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,s.or.setGroupProperty(PropertyInterface("Outer Radius",r)),s.os.setGroupProperty(PropertyInterface("Outer Roundness",r)),s.pt.setGroupProperty(PropertyInterface("Points",r)),s.p.setGroupProperty(PropertyInterface("Position",r)),s.r.setGroupProperty(PropertyInterface("Rotation",r)),t.ir&&(s.ir.setGroupProperty(PropertyInterface("Inner Radius",r)),s.is.setGroupProperty(PropertyInterface("Inner Roundness",r))),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(s.p)},rotation:{get:ExpressionPropertyInterface(s.r)},points:{get:ExpressionPropertyInterface(s.pt)},outerRadius:{get:ExpressionPropertyInterface(s.or)},outerRoundness:{get:ExpressionPropertyInterface(s.os)},innerRadius:{get:ExpressionPropertyInterface(s.ir)},innerRoundness:{get:ExpressionPropertyInterface(s.is)},_name:{value:t.nm}}),n.mn=t.mn,n}function c(t,e,i){function n(e){return t.p.ix===e?n.position:t.r.ix===e?n.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?n.size:null}var r=propertyGroupFactory(n,i),s="tm"===e.sh.ty?e.sh.prop:e.sh;return n.propertyIndex=t.ix,s.p.setGroupProperty(PropertyInterface("Position",r)),s.s.setGroupProperty(PropertyInterface("Size",r)),s.r.setGroupProperty(PropertyInterface("Rotation",r)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(s.p)},roundness:{get:ExpressionPropertyInterface(s.r)},size:{get:ExpressionPropertyInterface(s.s)},_name:{value:t.nm}}),n.mn=t.mn,n}function d(t,e,i){function n(e){return t.r.ix===e||"Round Corners 1"===e?n.radius:null}var r=propertyGroupFactory(n,i),s=e;return n.propertyIndex=t.ix,s.rd.setGroupProperty(PropertyInterface("Radius",r)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(s.rd)},_name:{value:t.nm}}),n.mn=t.mn,n}function h(t,e,i){function n(e){return t.c.ix===e||"Copies"===e?n.copies:t.o.ix===e||"Offset"===e?n.offset:null}var r=propertyGroupFactory(n,i),s=e;return n.propertyIndex=t.ix,s.c.setGroupProperty(PropertyInterface("Copies",r)),s.o.setGroupProperty(PropertyInterface("Offset",r)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(s.c)},offset:{get:ExpressionPropertyInterface(s.o)},_name:{value:t.nm}}),n.mn=t.mn,n}return function(e,i,n){var r;function s(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?n:r[t-1];for(var e=0,i=r.length;e<i;){if(r[e]._name===t)return r[e];e+=1}return null}return s.propertyGroup=propertyGroupFactory(s,(function(){return n})),r=t(e,i,s.propertyGroup),s.numProperties=r.length,s._name="Contents",s}}(),TextExpressionInterface=function(t){var e;function i(t){return"ADBE Text Document"===t?i.sourceText:null}return Object.defineProperty(i,"sourceText",{get:function(){t.textProperty.getValue();var i=t.textProperty.currentData.t;return e&&i===e.value||((e=new String(i)).value=i||new String(i),Object.defineProperty(e,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),e}}),i};function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var FootageInterface=(dataInterfaceFactory=function(t){function e(t){return"Outline"===t?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var e="",i=t.getFootageData();function n(t){if(i[t])return e=t,"object"===_typeof(i=i[t])?n:i;var r=t.indexOf(e);if(-1!==r){var s=parseInt(t.substr(r+e.length),10);return"object"===_typeof(i=i[s])?n:i}return""}return function(){return e="",i=t.getFootageData(),n}}(t),e},function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers={searchExpressions:function(t,e,i){e.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(t,e,i).bind(i)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),i=this.getValueAtTime(t+-.01),n=0;if(e.length){var r;for(r=0;r<e.length;r+=1)n+=Math.pow(i[r]-e[r],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e,i,n=-.001,r=this.getValueAtTime(t),s=this.getValueAtTime(t+n);if(r.length)for(e=createTypedArray("float32",r.length),i=0;i<r.length;i+=1)e[i]=(s[i]-r[i])/n;else e=(s-r)/n;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};function addPropertyDecorator(){function t(t,e,i){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var n,r,s,o,a,l=this.comp.renderedFrame,c=this.keyframes,d=c[c.length-1].t;if(l<=d)return this.pv;if(i?r=d-(n=e?Math.abs(d-this.elem.comp.globalData.frameRate*e):Math.max(0,d-this.elem.data.ip)):((!e||e>c.length-1)&&(e=c.length-1),n=d-(r=c[c.length-1-e].t)),"pingpong"===t){if(Math.floor((l-r)/n)%2!=0)return this.getValueAtTime((n-(l-r)%n+r)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(r/this.comp.globalData.frameRate,0),p=this.getValueAtTime(d/this.comp.globalData.frameRate,0),u=this.getValueAtTime(((l-r)%n+r)/this.comp.globalData.frameRate,0),f=Math.floor((l-r)/n);if(this.pv.length){for(o=(a=new Array(h.length)).length,s=0;s<o;s+=1)a[s]=(p[s]-h[s])*f+u[s];return a}return(p-h)*f+u}if("continue"===t){var m=this.getValueAtTime(d/this.comp.globalData.frameRate,0),g=this.getValueAtTime((d-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(m.length)).length,s=0;s<o;s+=1)a[s]=m[s]+(m[s]-g[s])*((l-d)/this.comp.globalData.frameRate)/5e-4;return a}return m+(l-d)/.001*(m-g)}}return this.getValueAtTime(((l-r)%n+r)/this.comp.globalData.frameRate,0)}function e(t,e,i){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var n,r,s,o,a,l=this.comp.renderedFrame,c=this.keyframes,d=c[0].t;if(l>=d)return this.pv;if(i?r=d+(n=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-d)):((!e||e>c.length-1)&&(e=c.length-1),n=(r=c[e].t)-d),"pingpong"===t){if(Math.floor((d-l)/n)%2==0)return this.getValueAtTime(((d-l)%n+d)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var h=this.getValueAtTime(d/this.comp.globalData.frameRate,0),p=this.getValueAtTime(r/this.comp.globalData.frameRate,0),u=this.getValueAtTime((n-(d-l)%n+d)/this.comp.globalData.frameRate,0),f=Math.floor((d-l)/n)+1;if(this.pv.length){for(o=(a=new Array(h.length)).length,s=0;s<o;s+=1)a[s]=u[s]-(p[s]-h[s])*f;return a}return u-(p-h)*f}if("continue"===t){var m=this.getValueAtTime(d/this.comp.globalData.frameRate,0),g=this.getValueAtTime((d+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(m.length)).length,s=0;s<o;s+=1)a[s]=m[s]+(m[s]-g[s])*(d-l)/.001;return a}return m+(m-g)*(d-l)/.001}}return this.getValueAtTime((n-((d-l)%n+d))/this.comp.globalData.frameRate,0)}function i(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;var i,n,r=this.comp.renderedFrame/this.comp.globalData.frameRate,s=r-t,o=e>1?(r+t-s)/(e-1):1,a=0,l=0;for(i=this.pv.length?createTypedArray("float32",this.pv.length):0;a<e;){if(n=this.getValueAtTime(s+a*o),this.pv.length)for(l=0;l<this.pv.length;l+=1)i[l]+=n[l];else i+=n;a+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)i[l]/=e;else i/=e;return i}function n(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e=this._transformCachingAtTime.v;if(e.cloneFromProps(this.pre.props),this.appliedTransformations<1){var i=this.a.getValueAtTime(t);e.translate(-i[0]*this.a.mult,-i[1]*this.a.mult,i[2]*this.a.mult)}if(this.appliedTransformations<2){var n=this.s.getValueAtTime(t);e.scale(n[0]*this.s.mult,n[1]*this.s.mult,n[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var r=this.sk.getValueAtTime(t),s=this.sa.getValueAtTime(t);e.skewFromAxis(-r*this.sk.mult,s*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var o=this.r.getValueAtTime(t);e.rotate(-o*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(t),l=this.ry.getValueAtTime(t),c=this.rx.getValueAtTime(t),d=this.or.getValueAtTime(t);e.rotateZ(-a*this.rz.mult).rotateY(l*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-d[2]*this.or.mult).rotateY(d[1]*this.or.mult).rotateX(d[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var h=this.px.getValueAtTime(t),p=this.py.getValueAtTime(t);if(this.data.p.z){var u=this.pz.getValueAtTime(t);e.translate(h*this.px.mult,p*this.py.mult,-u*this.pz.mult)}else e.translate(h*this.px.mult,p*this.py.mult,0)}else{var f=this.p.getValueAtTime(t);e.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return e}function r(){return this.v.clone(new Matrix)}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,i){var o=s(t,e,i);return o.dynamicProperties.length?o.getValueAtTime=n.bind(o):o.getValueAtTime=r.bind(o),o.setGroupProperty=expressionHelpers.setGroupProperty,o};var o=PropertyFactory.getProp;PropertyFactory.getProp=function(n,r,s,a,l){var c=o(n,r,s,a,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=t,c.loopIn=e,c.smooth=i,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===r.a?r.k.length:0,c.propertyIndex=r.ix;var d=0;return 0!==s&&(d=createTypedArray("float32",1===r.a?r.k[0].s.length:r.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:d},expressionHelpers.searchExpressions(n,r,c),c.k&&l.addDynamicProperty(c),c};var a=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(t,e){this.k&&this.getValue();var i,n=this.v;void 0!==e&&(n=this.getValueAtTime(e,0));var r=n._length,s=n[t],o=n.v,a=createSizedArray(r);for(i=0;i<r;i+=1)a[i]="i"===t||"o"===t?[s[i][0]-o[i][0],s[i][1]-o[i][1]]:[s[i][0],s[i][1]];return a},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var n,r=this._segmentsLength,s=r.lengths,o=r.totalLength*t,a=0,l=s.length,c=0;a<l;){if(c+s[a].addedLength>o){var d=a,h=i.c&&a===l-1?0:a+1,p=(o-c)/s[a].addedLength;n=bez.getPointInSegment(i.v[d],i.v[h],i.o[d],i.i[h],p,s[a]);break}c+=s[a].addedLength,a+=1}return n||(n=i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]]),n},vectorOnPath:function(t,e,i){1==t?t=this.v.c:0==t&&(t=.999);var n=this.pointOnPath(t,e),r=this.pointOnPath(t+.001,e),s=r[0]-n[0],o=r[1]-n[1],a=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));return 0===a?[0,0]:"tangent"===i?[s/a,o/a]:[-o/a,s/a]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],a),extendPrototype([c],l),l.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var d=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,i,n,r){var s=d(t,e,i,n,r);return s.propertyIndex=e.ix,s.lock=!1,3===i?expressionHelpers.searchExpressions(t,e.pt,s):4===i&&expressionHelpers.searchExpressions(t,e.ks,s),s.k&&t.addDynamicProperty(s),s}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(t,e){var i=this.calculateExpression(e);if(t.t!==i){var n={};return this.copyData(n,t),n.t=i.toString(),n.__complete=!1,n}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,e){var i,n,r=createNS("feMerge");for(r.setAttribute("result",t),n=0;n<e.length;n+=1)(i=createNS("feMergeNode")).setAttribute("in",e[n]),r.appendChild(i),r.appendChild(i);return r}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,e,i,n,r){this.filterManager=e;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=s,s.setAttribute("result",n+"_tint_1"),t.appendChild(s),(s=createNS("feColorMatrix")).setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",n+"_tint_2"),t.appendChild(s),this.matrixFilter=s;var o=this.createMergeNode(n,[r,n+"_tint_1",n+"_tint_2"]);t.appendChild(o)}function SVGFillFilter(t,e,i,n){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result",n),t.appendChild(r),this.matrixFilter=r}function SVGStrokeEffect(t,e,i){this.initialized=!1,this.filterManager=e,this.elem=i,this.paths=[]}function SVGTritoneFilter(t,e,i,n){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(r);var s=createNS("feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",n),this.matrixFilter=s;var o=createNS("feFuncR");o.setAttribute("type","table"),s.appendChild(o),this.feFuncR=o;var a=createNS("feFuncG");a.setAttribute("type","table"),s.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),s.appendChild(l),this.feFuncB=l,t.appendChild(s)}function SVGProLevelsFilter(t,e,i,n){this.filterManager=e;var r=this.filterManager.effectElements,s=createNS("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s)),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&((s=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",n),t.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}function SVGDropShadowEffect(t,e,i,n,r){var s=e.container.globalData.renderConfig.filterSize,o=e.data.fs||s;t.setAttribute("x",o.x||s.x),t.setAttribute("y",o.y||s.y),t.setAttribute("width",o.width||s.width),t.setAttribute("height",o.height||s.height),this.filterManager=e;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",n+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,t.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",n+"_drop_shadow_1"),l.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=l,t.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=c,t.appendChild(c);var d=createNS("feComposite");d.setAttribute("in",n+"_drop_shadow_3"),d.setAttribute("in2",n+"_drop_shadow_2"),d.setAttribute("operator","in"),d.setAttribute("result",n+"_drop_shadow_4"),t.appendChild(d);var h=this.createMergeNode(n,[n+"_drop_shadow_4",r]);t.appendChild(h)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+n+" 0"),this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+i+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,e,i,n,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,i=0):n=1+(i=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);i<n;i+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:i});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),o=createElementID();s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+o+")");r[0];)a.appendChild(r[0]);this.elem.layerElement.appendChild(a),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var i,n,r=this.paths.length;for(e=0;e<r;e+=1)if(-1!==this.paths[e].m&&(i=this.elem.maskManager.viewData[this.paths[e].m],n=this.paths[e].p,(t||this.filterManager._mdf||i.prop._mdf)&&n.setAttribute("d",i.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=n.getTotalLength();s="0 0 0 "+l*o+" ";var c,d=l*(a-o),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,p=Math.floor(d/h);for(c=0;c<p;c+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";s+="0 "+10*l+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",s)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var u=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*u[0])+","+bmFloor(255*u[1])+","+bmFloor(255*u[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,r=n[0]+" "+i[0]+" "+e[0],s=n[1]+" "+i[1]+" "+e[1],o=n[2]+" "+i[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var i=createNS(t);return i.setAttribute("type","table"),e.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(t,e,i,n,r){for(var s,o,a=0,l=Math.min(t,e),c=Math.max(t,e),d=Array.call(null,{length:256}),h=0,p=r-n,u=e-t;a<=256;)o=(s=a/256)<=l?u<0?r:n:s>=c?u<0?n:r:n+p*Math.pow((s-t)/u,1/i),d[h]=o,h+=1,a+=256/255;return d.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,i=this.filterManager.effectElements;this.feFuncRComposed&&(t||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=i*Math.cos(n),s=i*Math.sin(n);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGGaussianBlurEffect(t,e,i,n){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var r=createNS("feGaussianBlur");r.setAttribute("result",n),t.appendChild(r),this.feGaussianBlur=r}function TransformEffect(){}function SVGTransformEffect(t,e){this.init(e)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,i=_svgMatteSymbols.length;e<i;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var i=t.layerElement.parentNode;if(i){for(var n,r=i.children,s=0,o=r.length;s<o&&r[s]!==t.layerElement;)s+=1;s<=o-2&&(n=r[s+1]);var a=createNS("use");a.setAttribute("href","#"+e),n?i.insertBefore(a,n):i.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var i=createElementID(),n=createNS("mask");n.setAttribute("id",e.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var r=t.globalData.defs;r.appendChild(n);var s=createNS("symbol");s.setAttribute("id",i),this.replaceInParent(e,i),s.appendChild(e.layerElement),r.appendChild(s);var o=createNS("use");o.setAttribute("href","#"+i),n.appendChild(o),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,i=0,n=e.length;i<n;)e[i]&&e[i].data.ind===t&&this.setElementAsMask(this.elem,e[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=3==i?0:e,r=2==i?0:e;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+r);var s=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var e=this.effectsManager.effectElements,i=e[0].p.v,n=e[1].p.v,r=1===e[2].p.v,s=e[3].p.v,o=r?s:e[4].p.v,a=e[5].p.v,l=e[6].p.v,c=e[7].p.v;this.matrix.reset(),this.matrix.translate(-i[0],-i[1],i[2]),this.matrix.scale(.01*o,.01*s,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-a*degToRads,(l+90)*degToRads),this.matrix.translate(n[0],n[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())},3379:t=>{var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var s={},o=[],a=0;a<t.length;a++){var l=t[a],c=n.base?l[0]+n.base:l[0],d=s[c]||0,h="".concat(c," ").concat(d);s[c]=d+1;var p=i(h),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var f=r(u,n);n.byIndex=a,e.splice(a,0,{identifier:h,updater:f,references:1})}o.push(h)}return o}function r(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var s=n(t=t||[],r=r||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var a=i(s[o]);e[a].references--}for(var l=n(t,r),c=0;c<s.length;c++){var d=i(s[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}s=l}}},569:t=>{var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},9216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},5572:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNDEzODggNy45OTcxMUwxMS4yMDM5IDMuMjA0MTFDMTEuMzkxNCAzLjAxNjQ3IDExLjQ5NjcgMi43NjIwMyAxMS40OTY2IDIuNDk2NzZDMTEuNDk2NSAyLjIzMTQ5IDExLjM5MSAxLjk3NzEyIDExLjIwMzQgMS43ODk2MUMxMS4wMTU3IDEuNjAyMSAxMC43NjEzIDEuNDk2ODIgMTAuNDk2IDEuNDk2OTFDMTAuMjMwOCAxLjQ5NyA5Ljk3NjM5IDEuNjAyNDcgOS43ODg4OCAxLjc5MDExTDQuMjkyODggNy4yOTAxMUM0LjEwNTQxIDcuNDc3NjQgNC4wMDAwOSA3LjczMTk1IDQuMDAwMDkgNy45OTcxMUM0LjAwMDA5IDguMjYyMjggNC4xMDU0MSA4LjUxNjU5IDQuMjkyODggOC43MDQxMUw5Ljc4ODg4IDE0LjIwNDFDOS45NzYzOSAxNC4zOTE4IDEwLjIzMDggMTQuNDk3MiAxMC40OTYgMTQuNDk3M0MxMC43NjEzIDE0LjQ5NzQgMTEuMDE1NyAxNC4zOTIxIDExLjIwMzQgMTQuMjA0NkMxMS4zOTEgMTQuMDE3MSAxMS40OTY1IDEzLjc2MjcgMTEuNDk2NiAxMy40OTc1QzExLjQ5NjcgMTMuMjMyMiAxMS4zOTE0IDEyLjk3NzggMTEuMjAzOSAxMi43OTAxTDYuNDEzODggNy45OTcxMVoiIGZpbGw9IiMwRjExMTkiLz4KPC9zdmc+Cg=="},4679:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuNDEzODggNy45OTcxMUwxMS4yMDM5IDMuMjA0MTFDMTEuMzkxNCAzLjAxNjQ3IDExLjQ5NjcgMi43NjIwMyAxMS40OTY2IDIuNDk2NzZDMTEuNDk2NSAyLjIzMTQ5IDExLjM5MSAxLjk3NzEyIDExLjIwMzQgMS43ODk2MUMxMS4wMTU3IDEuNjAyMSAxMC43NjEzIDEuNDk2ODIgMTAuNDk2IDEuNDk2OTFDMTAuMjMwOCAxLjQ5NyA5Ljk3NjM5IDEuNjAyNDcgOS43ODg4OCAxLjc5MDExTDQuMjkyODggNy4yOTAxMUM0LjEwNTQxIDcuNDc3NjQgNC4wMDAwOSA3LjczMTk1IDQuMDAwMDkgNy45OTcxMUM0LjAwMDA5IDguMjYyMjggNC4xMDU0MSA4LjUxNjU5IDQuMjkyODggOC43MDQxMUw5Ljc4ODg4IDE0LjIwNDFDOS45NzYzOSAxNC4zOTE4IDEwLjIzMDggMTQuNDk3MiAxMC40OTYgMTQuNDk3M0MxMC43NjEzIDE0LjQ5NzQgMTEuMDE1NyAxNC4zOTIxIDExLjIwMzQgMTQuMjA0NkMxMS4zOTEgMTQuMDE3MSAxMS40OTY1IDEzLjc2MjcgMTEuNDk2NiAxMy40OTc1QzExLjQ5NjcgMTMuMjMyMiAxMS4zOTE0IDEyLjk3NzggMTEuMjAzOSAxMi43OTAxTDYuNDEzODggNy45OTcxMVoiIGZpbGw9IiM3YTU1ZmYiLz4KPC9zdmc+Cg=="},4472:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuNTg2MTIgOC4wMDI4OUw0Ljc5NjEyIDEyLjc5NTlDNC42MDg2MSAxMi45ODM1IDQuNTAzMzIgMTMuMjM4IDQuNTAzNDIgMTMuNTAzMkM0LjUwMzUxIDEzLjc2ODUgNC42MDg5OCAxNC4wMjI5IDQuNzk2NjIgMTQuMjEwNEM0Ljk4NDI2IDE0LjM5NzkgNS4yMzg3IDE0LjUwMzIgNS41MDM5NyAxNC41MDMxQzUuNzY5MjQgMTQuNTAzIDYuMDIzNjEgMTQuMzk3NSA2LjIxMTEyIDE0LjIwOTlMMTEuNzA3MSA4LjcwOTg5QzExLjg5NDYgOC41MjIzNiAxMS45OTk5IDguMjY4MDUgMTEuOTk5OSA4LjAwMjg5QzExLjk5OTkgNy43Mzc3MiAxMS44OTQ2IDcuNDgzNDIgMTEuNzA3MSA3LjI5NTg5TDYuMjExMTIgMS43OTU4OUM2LjAyMzYxIDEuNjA4MjUgNS43NjkyNCAxLjUwMjc4IDUuNTAzOTcgMS41MDI2OUM1LjIzODcgMS41MDI1OSA0Ljk4NDI2IDEuNjA3ODggNC43OTY2MiAxLjc5NTM5QzQuNjA4OTggMS45ODI5IDQuNTAzNTEgMi4yMzcyNiA0LjUwMzQyIDIuNTAyNTNDNC41MDMzMiAyLjc2NzggNC42MDg2MSAzLjAyMjI1IDQuNzk2MTIgMy4yMDk4OUw5LjU4NjEyIDguMDAyODlaIiBmaWxsPSIjMEYxMTE5Ii8+Cjwvc3ZnPgo="},2455:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuNTg2MTIgOC4wMDI4OUw0Ljc5NjEyIDEyLjc5NTlDNC42MDg2MSAxMi45ODM1IDQuNTAzMzIgMTMuMjM4IDQuNTAzNDIgMTMuNTAzMkM0LjUwMzUxIDEzLjc2ODUgNC42MDg5OCAxNC4wMjI5IDQuNzk2NjIgMTQuMjEwNEM0Ljk4NDI2IDE0LjM5NzkgNS4yMzg3IDE0LjUwMzIgNS41MDM5NyAxNC41MDMxQzUuNzY5MjQgMTQuNTAzIDYuMDIzNjEgMTQuMzk3NSA2LjIxMTEyIDE0LjIwOTlMMTEuNzA3MSA4LjcwOTg5QzExLjg5NDYgOC41MjIzNiAxMS45OTk5IDguMjY4MDUgMTEuOTk5OSA4LjAwMjg5QzExLjk5OTkgNy43Mzc3MiAxMS44OTQ2IDcuNDgzNDIgMTEuNzA3MSA3LjI5NTg5TDYuMjExMTIgMS43OTU4OUM2LjAyMzYxIDEuNjA4MjUgNS43NjkyNCAxLjUwMjc4IDUuNTAzOTcgMS41MDI2OUM1LjIzODcgMS41MDI1OSA0Ljk4NDI2IDEuNjA3ODggNC43OTY2MiAxLjc5NTM5QzQuNjA4OTggMS45ODI5IDQuNTAzNTEgMi4yMzcyNiA0LjUwMzQyIDIuNTAyNTNDNC41MDMzMiAyLjc2NzggNC42MDg2MSAzLjAyMjI1IDQuNzk2MTIgMy4yMDk4OUw5LjU4NjEyIDguMDAyODlaIiBmaWxsPSIjN2E1NWZmIi8+Cjwvc3ZnPgo="},9391:(t,e,i)=>{function n(t){return{all:t=t||new Map,on:function(e,i){var n=t.get(e);n?n.push(i):t.set(e,[i])},off:function(e,i){var n=t.get(e);n&&(i?n.splice(n.indexOf(i)>>>0,1):t.set(e,[]))},emit:function(e,i){var n=t.get(e);n&&n.slice().map((function(t){t(i)})),(n=t.get("*"))&&n.slice().map((function(t){t(e,i)}))}}}i.r(e),i.d(e,{default:()=>n})},4982:(t,e,i)=>{i.d(e,{H3:()=>n.H3E,Ky:()=>n.KyG,ev:()=>n.evW,fw:()=>n.fwp,gx:()=>n.gx3,v:()=>n.vax});var n=i(77)},77:(t,e,i)=>{function n(){}i.d(e,{Tv0:()=>bt,f_C:()=>ke,TVh:()=>C,hjT:()=>Ut,P$F:()=>Rt,gx3:()=>It,ztY:()=>V,qOq:()=>L,f0i:()=>s,Ljt:()=>J,akz:()=>me,VnY:()=>Lt,cKT:()=>At,gbL:()=>te,pIy:()=>rt,wOw:()=>ye,vT0:()=>lt,a7E:()=>ut,qzd:()=>ht,Evd:()=>ct,Bno:()=>dt,FIv:()=>g,vV4:()=>_t,YCL:()=>ge,HCz:()=>re,eZl:()=>se,nuO:()=>y,OCq:()=>ce,vpE:()=>be,RMB:()=>U,ogt:()=>R,bGB:()=>H,cSb:()=>Y,NXn:()=>le,fwp:()=>Pt,VOJ:()=>x,u2N:()=>b,gCg:()=>ue,LoY:()=>pe,$XI:()=>m,nSQ:()=>nt,lig:()=>T,dvw:()=>Qt,CR_:()=>oe,yRu:()=>r,S1n:()=>_e,ZMF:()=>N,sBU:()=>c,oLt:()=>W,yef:()=>ve,ZTd:()=>n,AqN:()=>u,H1I:()=>k,evW:()=>Dt,H3E:()=>Mt,cly:()=>de,AT7:()=>K,j7q:()=>l,N8:()=>d,vax:()=>Tt,rTO:()=>ft,Kp5:()=>it,BmG:()=>mt,fxP:()=>w,czc:()=>gt,DhX:()=>Z,Jn4:()=>p,XET:()=>X,LdU:()=>f,bi5:()=>q,fLW:()=>G,KyG:()=>Nt,VHj:()=>yt,Ui:()=>ee,etI:()=>ie,xfz:()=>ae,GQg:()=>he,kmG:()=>_});const r=t=>t;function s(t,e){for(const i in e)t[i]=e[i];return t}function o(t){return t()}function a(){return Object.create(null)}function l(t){t.forEach(o)}function c(t){return"function"==typeof t}function d(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let h;function p(t,e){return t===e||(h||(h=document.createElement("a")),h.href=e,t===h.href)}function u(t,e){return t!=t?e==e:t!==e}function f(t,...e){if(null==t){for(const t of e)t(void 0);return n}const i=t.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function m(t){let e;return f(t,(t=>e=t))(),e}function g(t,e,i){t.$$.on_destroy.push(f(e,i))}function y(t,e,i,n){if(t){const r=v(t,e,i,n);return t[0](r)}}function v(t,e,i,n){return t[1]&&n?s(i.ctx.slice(),t[1](n(e))):i.ctx}function b(t,e,i,n){if(t[2]&&n){const r=t[2](n(i));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],i=Math.max(e.dirty.length,r.length);for(let n=0;n<i;n+=1)t[n]=e.dirty[n]|r[n];return t}return e.dirty|r}return e.dirty}function _(t,e,i,n,r,s){if(r){const o=v(e,i,n,s);t.p(o,r)}}function x(t){if(t.ctx.length>32){const e=[],i=t.ctx.length/32;for(let t=0;t<i;t++)e[t]=-1;return e}return-1}function k(t){return null==t?"":t}function w(t,e,i){return t.set(i),e}function C(t){return t&&c(t.destroy)?t.destroy:n}const E="undefined"!=typeof window;let S=E?()=>window.performance.now():()=>Date.now(),$=E?t=>requestAnimationFrame(t):n;const M=new Set;function I(t){M.forEach((e=>{e.c(t)||(M.delete(e),e.f())})),0!==M.size&&$(I)}function D(t){let e;return 0===M.size&&$(I),{promise:new Promise((i=>{M.add(e={c:t,f:i})})),abort(){M.delete(e)}}}const T="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class P{_listeners="WeakMap"in T?new WeakMap:void 0;_observer=void 0;options;constructor(t){this.options=t}observe(t,e){return this._listeners.set(t,e),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver((t=>{for(const e of t)P.entries.set(e.target,e),this._listeners.get(e.target)?.(e)})))}}P.entries="WeakMap"in T?new WeakMap:void 0;let A=!1;function j(t,e,i,n){for(;t<e;){const r=t+(e-t>>1);i(r)<=n?t=r+1:e=r}return t}function L(t,e,i){const n=O(t);if(!n.getElementById(e)){const t=H("style");t.id=e,t.textContent=i,B(n,t)}}function O(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function F(t){const e=H("style");return e.textContent="/* empty */",B(O(t),e),e.sheet}function B(t,e){return function(t,e){t.appendChild(e)}(t.head||t,e),e.sheet}function V(t,e){if(A){for(function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let i=0;i<e.length;i++){const n=e[i];void 0!==n.claim_order&&t.push(n)}e=t}const i=new Int32Array(e.length+1),n=new Int32Array(e.length);i[0]=-1;let r=0;for(let t=0;t<e.length;t++){const s=e[t].claim_order,o=(r>0&&e[i[r]].claim_order<=s?r+1:j(1,r,(t=>e[i[t]].claim_order),s))-1;n[t]=i[o]+1;const a=o+1;i[a]=t,r=Math.max(a,r)}const s=[],o=[];let a=e.length-1;for(let t=i[r]+1;0!=t;t=n[t-1]){for(s.push(e[t-1]);a>=t;a--)o.push(e[a]);a--}for(;a>=0;a--)o.push(e[a]);s.reverse(),o.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,i=0;e<o.length;e++){for(;i<s.length&&o[e].claim_order>=s[i].claim_order;)i++;const n=i<s.length?s[i]:null;t.insertBefore(o[e],n)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function z(t,e,i){t.insertBefore(e,i||null)}function N(t,e,i){A&&!i?V(t,e):e.parentNode===t&&e.nextSibling==i||t.insertBefore(e,i||null)}function R(t){t.parentNode&&t.parentNode.removeChild(t)}function U(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function H(t){return document.createElement(t)}function q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function Z(){return G(" ")}function Y(){return G("")}function W(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function K(t){return function(e){return e.preventDefault(),t.call(this,e)}}function X(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function J(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}const Q=["width","height"];function tt(t,e){const i=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)null==e[n]?t.removeAttribute(n):"style"===n?t.style.cssText=e[n]:"__value"===n?t.value=t[n]=e[n]:i[n]&&i[n].set&&-1===Q.indexOf(n)?t[n]=e[n]:J(t,n,e[n])}function et(t,e){Object.keys(e).forEach((i=>{!function(t,e,i){const n=e.toLowerCase();n in t?t[n]="boolean"==typeof t[n]&&""===i||i:e in t?t[e]="boolean"==typeof t[e]&&""===i||i:J(t,e,i)}(t,i,e[i])}))}function it(t){return/-/.test(t)?et:tt}function nt(t){return t.dataset.svelteH}function rt(t){return Array.from(t.childNodes)}function st(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}function ot(t,e,i,n,r=!1){st(t);const s=(()=>{for(let n=t.claim_info.last_index;n<t.length;n++){const s=t[n];if(e(s)){const e=i(s);return void 0===e?t.splice(n,1):t[n]=e,r||(t.claim_info.last_index=n),s}}for(let n=t.claim_info.last_index-1;n>=0;n--){const s=t[n];if(e(s)){const e=i(s);return void 0===e?t.splice(n,1):t[n]=e,r?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=n,s}}return n()})();return s.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,s}function at(t,e,i,n){return ot(t,(t=>t.nodeName===e),(t=>{const e=[];for(let n=0;n<t.attributes.length;n++){const r=t.attributes[n];i[r.name]||e.push(r.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>n(e)))}function lt(t,e,i){return at(t,e,i,H)}function ct(t,e,i){return at(t,e,i,q)}function dt(t,e){return ot(t,(t=>3===t.nodeType),(t=>{const i=""+e;if(t.data.startsWith(i)){if(t.data.length!==i.length)return t.splitText(i.length)}else t.data=i}),(()=>G(e)),!0)}function ht(t){return dt(t," ")}function pt(t,e,i){for(let n=i;n<t.length;n+=1){const i=t[n];if(8===i.nodeType&&i.textContent.trim()===e)return n}return-1}function ut(t,e){const i=pt(t,"HTML_TAG_START",0),n=pt(t,"HTML_TAG_END",i+1);if(-1===i||-1===n)return new bt(e);st(t);const r=t.splice(i,n-i+1);R(r[0]),R(r[r.length-1]);const s=r.slice(1,r.length-1);if(0===s.length)return new bt(e);for(const e of s)e.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1;return new bt(e,s)}function ft(t,e){e=""+e,t.data!==e&&(t.data=e)}function mt(t,e){t.value=null==e?"":e}function gt(t,e,i,n){null==i?t.style.removeProperty(e):t.style.setProperty(e,i,n?"important":"")}function yt(t,e,i){t.classList.toggle(e,!!i)}class vt{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(t=!1){this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,i=null){this.e||(this.is_svg?this.e=q(e.nodeName):this.e=H(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(i)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)z(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(R)}}class bt extends vt{l=void 0;constructor(t=!1,e){super(t),this.e=this.n=null,this.l=e}c(t){this.l?this.n=this.l:super.c(t)}i(t){for(let e=0;e<this.n.length;e+=1)N(this.t,this.n[e],t)}}function _t(t,e){return new t(e)}const xt=new Map;let kt,wt=0;function Ct(t,e,i,n,r,s,o,a=0){const l=16.666/n;let c="{\n";for(let t=0;t<=1;t+=l){const n=e+(i-e)*s(t);c+=100*t+`%{${o(n,1-n)}}\n`}const d=c+`100% {${o(i,1-i)}}\n}`,h=`__svelte_${function(t){let e=5381,i=t.length;for(;i--;)e=(e<<5)-e^t.charCodeAt(i);return e>>>0}(d)}_${a}`,p=O(t),{stylesheet:u,rules:f}=xt.get(p)||function(t,e){const i={stylesheet:F(e),rules:{}};return xt.set(t,i),i}(p,t);f[h]||(f[h]=!0,u.insertRule(`@keyframes ${h} ${d}`,u.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${h} ${n}ms linear ${r}ms 1 both`,wt+=1,h}function Et(t,e){const i=(t.style.animation||"").split(", "),n=i.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=i.length-n.length;r&&(t.style.animation=n.join(", "),wt-=r,wt||$((()=>{wt||(xt.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&R(e)})),xt.clear())})))}function St(t){kt=t}function $t(){if(!kt)throw new Error("Function called outside component initialization");return kt}function Mt(t){$t().$$.on_mount.push(t)}function It(t){$t().$$.after_update.push(t)}function Dt(t){$t().$$.on_destroy.push(t)}function Tt(t,e){return $t().$$.context.set(t,e),e}function Pt(t){return $t().$$.context.get(t)}function At(t,e){const i=t.$$.callbacks[e.type];i&&i.slice().forEach((t=>t.call(this,e)))}const jt=[],Lt=[];let Ot=[];const Ft=[],Bt=Promise.resolve();let Vt=!1;function zt(){Vt||(Vt=!0,Bt.then(Zt))}function Nt(){return zt(),Bt}function Rt(t){Ot.push(t)}function Ut(t){Ft.push(t)}const Ht=new Set;let qt,Gt=0;function Zt(){if(0!==Gt)return;const t=kt;do{try{for(;Gt<jt.length;){const t=jt[Gt];Gt++,St(t),Yt(t.$$)}}catch(t){throw jt.length=0,Gt=0,t}for(St(null),jt.length=0,Gt=0;Lt.length;)Lt.pop()();for(let t=0;t<Ot.length;t+=1){const e=Ot[t];Ht.has(e)||(Ht.add(e),e())}Ot.length=0}while(jt.length);for(;Ft.length;)Ft.pop()();Vt=!1,Ht.clear(),St(t)}function Yt(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Rt)}}function Wt(){return qt||(qt=Promise.resolve(),qt.then((()=>{qt=null}))),qt}function Kt(t,e,i){t.dispatchEvent(function(t,e,{bubbles:i=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:i,cancelable:n})}(`${e?"intro":"outro"}${i}`))}const Xt=new Set;let Jt;function Qt(){Jt={r:0,c:[],p:Jt}}function te(){Jt.r||l(Jt.c),Jt=Jt.p}function ee(t,e){t&&t.i&&(Xt.delete(t),t.i(e))}function ie(t,e,i,n){if(t&&t.o){if(Xt.has(t))return;Xt.add(t),Jt.c.push((()=>{Xt.delete(t),n&&(i&&t.d(1),n())})),t.o(e)}else n&&n()}const ne={duration:0};function re(t,e,i){const s={direction:"in"};let o,a,l=e(t,i,s),d=!1,h=0;function p(){o&&Et(t,o)}function u(){const{delay:e=0,duration:i=300,easing:s=r,tick:c=n,css:u}=l||ne;u&&(o=Ct(t,0,1,i,e,s,u,h++)),c(0,1);const f=S()+e,m=f+i;a&&a.abort(),d=!0,Rt((()=>Kt(t,!0,"start"))),a=D((e=>{if(d){if(e>=m)return c(1,0),Kt(t,!0,"end"),p(),d=!1;if(e>=f){const t=s((e-f)/i);c(t,1-t)}}return d}))}let f=!1;return{start(){f||(f=!0,Et(t),c(l)?(l=l(s),Wt().then(u)):u())},invalidate(){f=!1},end(){d&&(p(),d=!1)}}}function se(t,e,i){const s={direction:"out"};let o,a=e(t,i,s),d=!0;const h=Jt;let p;function u(){const{delay:e=0,duration:i=300,easing:s=r,tick:c=n,css:u}=a||ne;u&&(o=Ct(t,1,0,i,e,s,u));const f=S()+e,m=f+i;Rt((()=>Kt(t,!1,"start"))),"inert"in t&&(p=t.inert,t.inert=!0),D((e=>{if(d){if(e>=m)return c(0,1),Kt(t,!1,"end"),--h.r||l(h.c),!1;if(e>=f){const t=s((e-f)/i);c(1-t,t)}}return d}))}return h.r+=1,c(a)?Wt().then((()=>{a=a(s),u()})):u(),{end(e){e&&"inert"in t&&(t.inert=p),e&&a.tick&&a.tick(1,0),d&&(o&&Et(t,o),d=!1)}}}function oe(t,e){const i=e.token={};function n(t,n,r,s){if(e.token!==i)return;e.resolved=s;let o=e.ctx;void 0!==r&&(o=o.slice(),o[r]=s);const a=t&&(e.current=t)(o);let l=!1;e.block&&(e.blocks?e.blocks.forEach(((t,i)=>{i!==n&&t&&(Qt(),ie(t,1,1,(()=>{e.blocks[i]===t&&(e.blocks[i]=null)})),te())})):e.block.d(1),a.c(),ee(a,1),a.m(e.mount(),e.anchor),l=!0),e.block=a,e.blocks&&(e.blocks[n]=a),l&&Zt()}if(!(r=t)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}else{const i=$t();if(t.then((t=>{St(i),n(e.then,1,e.value,t),St(null)}),(t=>{if(St(i),n(e.catch,2,e.error,t),St(null),!e.hasCatch)throw t})),e.current!==e.pending)return n(e.pending,0),!0}var r}function ae(t,e,i){const n=e.slice(),{resolved:r}=t;t.current===t.then&&(n[t.value]=r),t.current===t.catch&&(n[t.error]=r),t.block.p(n,i)}function le(t){return void 0!==t?.length?t:Array.from(t)}function ce(t,e){t.d(1),e.delete(t.key)}function de(t,e){ie(t,1,1,(()=>{e.delete(t.key)}))}function he(t,e,i,n,r,s,o,a,c,d,h,p){let u=t.length,f=s.length,m=u;const g={};for(;m--;)g[t[m].key]=m;const y=[],v=new Map,b=new Map,_=[];for(m=f;m--;){const t=p(r,s,m),a=i(t);let l=o.get(a);l?n&&_.push((()=>l.p(t,e))):(l=d(a,t),l.c()),v.set(a,y[m]=l),a in g&&b.set(a,Math.abs(m-g[a]))}const x=new Set,k=new Set;function w(t){ee(t,1),t.m(a,h),o.set(t.key,t),h=t.first,f--}for(;u&&f;){const e=y[f-1],i=t[u-1],n=e.key,r=i.key;e===i?(h=e.first,u--,f--):v.has(r)?!o.has(n)||x.has(n)?w(e):k.has(r)?u--:b.get(n)>b.get(r)?(k.add(n),w(e)):(x.add(r),u--):(c(i,o),u--)}for(;u--;){const e=t[u];v.has(e.key)||c(e,o)}for(;f;)w(y[f-1]);return l(_),y}function pe(t,e){const i={},n={},r={$$scope:1};let s=t.length;for(;s--;){const o=t[s],a=e[s];if(a){for(const t in o)t in a||(n[t]=1);for(const t in a)r[t]||(i[t]=a[t],r[t]=1);t[s]=a}else for(const t in o)r[t]=1}for(const t in n)t in i||(i[t]=void 0);return i}function ue(t){return"object"==typeof t&&null!==t?t:{}}let fe;function me(t,e,i){const n=t.$$.props[e];void 0!==n&&(t.$$.bound[n]=i,i(t.$$.ctx[n]))}function ge(t){t&&t.c()}function ye(t,e){t&&t.l(e)}function ve(t,e,i){const{fragment:n,after_update:r}=t.$$;n&&n.m(e,i),Rt((()=>{const e=t.$$.on_mount.map(o).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...e):l(e),t.$$.on_mount=[]})),r.forEach(Rt)}function be(t,e){const i=t.$$;null!==i.fragment&&(function(t){const e=[],i=[];Ot.forEach((n=>-1===t.indexOf(n)?e.push(n):i.push(n))),i.forEach((t=>t())),Ot=e}(i.after_update),l(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function _e(t,e,i,r,s,o,c=null,d=[-1]){const h=kt;St(t);const p=t.$$={fragment:null,ctx:[],props:o,update:n,not_equal:s,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:a(),dirty:d,skip_bound:!1,root:e.target||h.$$.root};c&&c(p.root);let u=!1;if(p.ctx=i?i(t,e.props||{},((e,i,...n)=>{const r=n.length?n[0]:i;return p.ctx&&s(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),u&&function(t,e){-1===t.$$.dirty[0]&&(jt.push(t),zt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),i})):[],p.update(),u=!0,l(p.before_update),p.fragment=!!r&&r(p.ctx),e.target){if(e.hydrate){A=!0;const t=rt(e.target);p.fragment&&p.fragment.l(t),t.forEach(R)}else p.fragment&&p.fragment.c();e.intro&&ee(t.$$.fragment),ve(t,e.target,e.anchor),A=!1,Zt()}St(h)}function xe(t,e,i,n){const r=i[t]?.type;if(e="Boolean"===r&&"boolean"!=typeof e?null!=e:e,!n||!i[t])return e;if("toAttribute"===n)switch(r){case"Object":case"Array":return null==e?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return null==e?null:e;default:return e}else switch(r){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":default:return e;case"Number":return null!=e?+e:e}}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(fe=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(t,e,i){super(),this.$$ctor=t,this.$$s=e,i&&this.attachShadow({mode:"open"})}addEventListener(t,e,i){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(e),this.$$c){const i=this.$$c.$on(t,e);this.$$l_u.set(e,i)}super.addEventListener(t,e,i)}removeEventListener(t,e,i){if(super.removeEventListener(t,e,i),this.$$c){const t=this.$$l_u.get(e);t&&(t(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn||this.$$c)return;function t(t){return()=>{let e;return{c:function(){e=H("slot"),"default"!==t&&J(e,"name",t)},m:function(t,i){z(t,e,i)},d:function(t){t&&R(e)}}}}const e={},i=function(t){const e={};return t.childNodes.forEach((t=>{e[t.slot||"default"]=!0})),e}(this);for(const r of this.$$s)r in i&&(e[r]=[t(r)]);for(const s of this.attributes){const o=this.$$g_p(s.name);o in this.$$d||(this.$$d[o]=xe(o,s.value,this.$$p_d,"toProp"))}for(const a in this.$$p_d)a in this.$$d||void 0===this[a]||(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$scope:{ctx:[]}}});const n=()=>{this.$$r=!0;for(const t in this.$$p_d)if(this.$$d[t]=this.$$c.$$.ctx[this.$$c.$$.props[t]],this.$$p_d[t].reflect){const e=xe(t,this.$$d[t],this.$$p_d,"toAttribute");null==e?this.removeAttribute(this.$$p_d[t].attribute||t):this.setAttribute(this.$$p_d[t].attribute||t,e)}this.$$r=!1};this.$$c.$$.after_update.push(n),n();for(const l in this.$$l)for(const c of this.$$l[l]){const d=this.$$c.$on(l,c);this.$$l_u.set(c,d)}this.$$l={}}}attributeChangedCallback(t,e,i){this.$$r||(t=this.$$g_p(t),this.$$d[t]=xe(t,i,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(t){return Object.keys(this.$$p_d).find((e=>this.$$p_d[e].attribute===t||!this.$$p_d[e].attribute&&e.toLowerCase()===t))||t}});class ke{$$=void 0;$$set=void 0;$destroy(){be(this,1),this.$destroy=n}$on(t,e){if(!c(e))return n;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}},4950:(t,e,i)=>{i.d(e,{PX:()=>s,U2:()=>n.$XI,fZ:()=>o,nK:()=>a});var n=i(77);const r=[];function s(t,e){return{subscribe:o(t,e).subscribe}}function o(t,e=n.ZTd){let i;const s=new Set;function o(e){if((0,n.N8)(t,e)&&(t=e,i)){const e=!r.length;for(const e of s)e[1](),r.push(e,t);if(e){for(let t=0;t<r.length;t+=2)r[t][0](r[t+1]);r.length=0}}}function a(e){o(e(t))}return{set:o,update:a,subscribe:function(r,l=n.ZTd){const c=[r,l];return s.add(c),1===s.size&&(i=e(o,a)||n.ZTd),r(t),()=>{s.delete(c),0===s.size&&i&&(i(),i=null)}}}}function a(t,e,i){const r=!Array.isArray(t),o=r?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=e.length<2;return s(i,((t,i)=>{let s=!1;const l=[];let c=0,d=n.ZTd;const h=()=>{if(c)return;d();const s=e(r?l[0]:l,t,i);a?t(s):d=(0,n.sBU)(s)?s:n.ZTd},p=o.map(((t,e)=>(0,n.LdU)(t,(t=>{l[e]=t,c&=~(1<<e),s&&h()}),(()=>{c|=1<<e}))));return s=!0,h(),function(){(0,n.j7q)(p),d(),s=!1}}))}}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var i=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var i=Object.create(null);__webpack_require__.r(i);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var r=2&e&&t;"object"==typeof r&&!~leafPrototypes.indexOf(r);r=getProto(r))Object.getOwnPropertyNames(r).forEach((e=>n[e]=()=>t[e]));return n.default=()=>t,__webpack_require__.d(i,n),i},__webpack_require__.d=(t,e)=>{for(var i in e)__webpack_require__.o(e,i)&&!__webpack_require__.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},__webpack_require__.f={},__webpack_require__.e=t=>Promise.all(Object.keys(__webpack_require__.f).reduce(((e,i)=>(__webpack_require__.f[i](t,e),e)),[])),__webpack_require__.u=t=>(({9:"markdown",319:"rich-json",780:"rich-json-mobile"}[t]||t)+".js"),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),inProgress={},dataWebpackPrefix="AliceForWeb:",__webpack_require__.l=(t,e,i,n)=>{if(inProgress[t])inProgress[t].push(e);else{var r,s;if(void 0!==i)for(var o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var l=o[a];if(l.getAttribute("src")==t||l.getAttribute("data-webpack")==dataWebpackPrefix+i){r=l;break}}r||(s=!0,(r=document.createElement("script")).type="text/javascript",r.charset="utf-8",r.timeout=120,__webpack_require__.nc&&r.setAttribute("nonce",__webpack_require__.nc),r.setAttribute("data-webpack",dataWebpackPrefix+i),r.src=t),inProgress[t]=[e];var c=(e,i)=>{r.onerror=r.onload=null,clearTimeout(d);var n=inProgress[t];if(delete inProgress[t],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((t=>t(i))),e)return e(i)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=c.bind(null,r.onerror),r.onload=c.bind(null,r.onload),s&&document.head.appendChild(r)}},__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.p="https://yastatic.net/s3/web-alice/113/desktop/",(()=>{__webpack_require__.b=document.baseURI||self.location.href;var t={372:0};__webpack_require__.f.j=(e,i)=>{var n=__webpack_require__.o(t,e)?t[e]:void 0;if(0!==n)if(n)i.push(n[2]);else{var r=new Promise(((i,r)=>n=t[e]=[i,r]));i.push(n[2]=r);var s=__webpack_require__.p+__webpack_require__.u(e),o=new Error;__webpack_require__.l(s,(i=>{if(__webpack_require__.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,n[1](o)}}),"chunk-"+e,e)}};var e=(e,i)=>{var n,r,[s,o,a]=i,l=0;if(s.some((e=>0!==t[e]))){for(n in o)__webpack_require__.o(o,n)&&(__webpack_require__.m[n]=o[n]);a&&a(__webpack_require__)}for(e&&e(i);l<s.length;l++)r=s[l],__webpack_require__.o(t,r)&&t[r]&&t[r][0](),t[r]=0},i=self.webpackChunkAliceForWeb=self.webpackChunkAliceForWeb||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>Xy,lib:()=>Ky});var t=__webpack_require__(7710),e=__webpack_require__.n(t),i=__webpack_require__(4871),n=__webpack_require__(711),r=__webpack_require__(8792),s=__webpack_require__(892),o=__webpack_require__(9738),a=__webpack_require__(9965),l=__webpack_require__(1887),c=__webpack_require__(6437);class d{constructor(t){this.outputQueue=[],this.prevPayload=null,this.prevSentChunk=null,this.currentText="",this.addNextChunks=()=>{const t=this.outputQueue.shift();if(!t)return;let e;"new"===t.mode||"replace"===t.mode?this.currentText=t.textChunk:this.currentText+=t.textChunk,e=t.isEnd?"end":this.outputQueue.length?"writing":"thinking",this.send({text:this.currentText,messageViewId:t.messageViewId,status:e,isNewMessage:"new"===t.mode}),t.isEnd&&this.clean(),this.outputQueue.length&&setTimeout(this.addNextChunks,this.outputQueue[0].time)},this.send=t=>{this.onReceiveHandler(t),this.prevSentChunk=t},this.clean=()=>{this.outputQueue=[],this.prevPayload=null,this.currentText="",this.prevSentChunk=null},this.onHandle=({payload:t})=>{var e;const{text:i,message_view_id:n,should_rewrite:r,symbols_per_second:s}=t,o=!this.outputQueue.length;r&&(this.outputQueue=this.outputQueue.filter((t=>t.messageViewId!==n)));const a=Boolean(!this.prevPayload||this.prevPayload.message_view_id!==n),l=Boolean(r&&(null==(e=this.prevSentChunk)?void 0:e.messageViewId)===n),d=(0,c.xd)(i);0===d.length&&d.push("");const h=s?i.length/d.length*1e3/s:0,p=d.map(((e,i,r)=>{let s;return s=0===i&&l?"replace":0===i&&a?"new":"regular",{textChunk:e,time:h,mode:s,isFirstChunk:0===i,isEnd:t.is_end&&i===r.length-1,messageViewId:n}}));this.outputQueue.push(...p),this.prevPayload=t,o&&this.outputQueue.length&&this.addNextChunks()},this.onCancel=()=>{this.prevPayload&&(this.send({messageViewId:null,status:"end",isNewMessage:!1}),this.clean())},this.onReceiveHandler=t.onHandle}}var h=__webpack_require__(5744);class p extends h.DirectiveHandler{constructor(t={}){super("end_dialog_session"),this.options=t}handleDirective(t,{isUserEvent:e}={}){var i;const{getDelay:n,beforeHandle:r,onHandle:s,setDialogId:o}=this.options,a=e?0:null!=(i=null==n?void 0:n(t))?i:1200;this.cancel(),null==r||r(t),a&&this.setProgress(!0),this.timeout=window.setTimeout((()=>{null==o||o(null),null==s||s(t),this.cancel()}),a)}cancel(){clearTimeout(this.timeout),this.timeout=void 0,this.setProgress(!1)}}class u extends h.DirectiveHandler{constructor(t={}){super("open_dialog"),this.options=t}handleDirective(t,{isUserEvent:e}={}){var i;const{getDelay:n,beforeHandle:r,onHandle:s,setDialogId:o,executeDirectives:a,getState:l}=this.options,c=e?0:null!=(i=null==n?void 0:n(t))?i:1200;this.cancel(),null==r||r(t),c&&this.setProgress(!0),this.timeout=window.setTimeout((()=>{var e;const{voiceSession:i}=null!=(e=null==l?void 0:l())?e:{};null==s||s(t),null==o||o(t.payload.dialog_id);const n=t.payload.directives.find((t=>"new_dialog_session"===t.name));n&&(null==a||a([n],{request:{voiceSession:i}})),this.cancel()}),c)}cancel(){clearTimeout(this.timeout),this.timeout=void 0,this.setProgress(!1)}}class f extends h.DirectiveHandler{constructor(t={}){super("show_loader"),this.options=t,this.stop=(t="end")=>{var e,i;if(!this.inProgress)return;const n={user:this._onUserDiscardCallback,other:this._onDiscardCallback,end:void 0}[t];this.setProgress(!1),null==(i=(e=this.options).onCancel)||i.call(e,{reason:t,callback:n})}}handleDirective(t){var e,i;const{message:n,on_discard_callback:r,on_user_discard_callback:s}=t.payload||{};n&&(this._onDiscardCallback=r,this._onUserDiscardCallback=s,this.setProgress(!0),null==(i=(e=this.options).onHandle)||i.call(e,n))}cancel(t=!0){const e=t?"user":"other";this.stop(e)}}var m=Object.defineProperty,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(t,e,i)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;const _=new n.v;var x=__webpack_require__(77),k=__webpack_require__(4982);function w(t){let e,i,n,r,s;const o=t[2].default,a=(0,x.nuO)(o,t,t[1],null);return{c(){e=(0,x.bGB)("div"),a&&a.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{});var i=(0,x.pIy)(e);a&&a.l(i),i.forEach(x.ogt),this.h()},h(){e.hidden=!0},m(o,l){(0,x.ZMF)(o,e,l),a&&a.m(e,null),n=!0,r||(s=(0,x.TVh)(i=C.call(null,e,t[0])),r=!0)},p(t,[e]){a&&a.p&&(!n||2&e)&&(0,x.kmG)(a,o,t,t[1],n?(0,x.u2N)(o,t[1],e,null):(0,x.VOJ)(t[1]),null),i&&(0,x.sBU)(i.update)&&1&e&&i.update.call(null,t[0])},i(t){n||((0,x.Ui)(a,t),n=!0)},o(t){(0,x.etI)(a,t),n=!1},d(t){t&&(0,x.ogt)(e),a&&a.d(t),r=!1,s()}}}function C(t,e="body"){let i;async function n(n){if("string"==typeof(e=n)){if(i=document.querySelector(e),null===i&&(await(0,k.Ky)(),i=document.querySelector(e)),null===i)throw new Error(`No element found matching css selector: "${e}"`)}else{if(!(e instanceof HTMLElement))throw new TypeError(`Unknown portal target type: ${null===e?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);i=e}i.appendChild(t),t.hidden=!1}return n(e),{update:n,destroy:function(){t.parentNode&&t.parentNode.removeChild(t)}}}function E(t,e,i){let{$$slots:n={},$$scope:r}=e,{target:s="body"}=e;return t.$$set=t=>{"target"in t&&i(0,s=t.target),"$$scope"in t&&i(1,r=t.$$scope)},[s,r,n]}class S extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,E,w,x.N8,{target:0})}}const $=S;var M=__webpack_require__(6608);const I=(0,a.h)((async function(){let t=!1;try{(await navigator.mediaDevices.enumerateDevices()).forEach((e=>{"audioinput"===e.kind&&(t=!0)}))}catch(t){}return t})),D=(0,a.h)((async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1}})).getAudioTracks().forEach((t=>{t.stop()})),"granted"}catch(t){return"denied"}})),T=async()=>await I()?Promise.race([D(),(600,new Promise((t=>{setTimeout(t,600)}))).then((()=>"prompt"))]):"nomic";var P=__webpack_require__(9528);const A=(0,a.h)((t=>Promise.all([Promise.all([__webpack_require__.e(219),__webpack_require__.e(9)]).then(__webpack_require__.t.bind(__webpack_require__,9980,23)).then((t=>t.default)),Promise.all([__webpack_require__.e(219),__webpack_require__.e(9)]).then(__webpack_require__.bind(__webpack_require__,6539)).then((t=>t.plugin)),Promise.all([__webpack_require__.e(219),__webpack_require__.e(9)]).then(__webpack_require__.bind(__webpack_require__,5215)).then((t=>t.default)),Promise.all([__webpack_require__.e(219),__webpack_require__.e(9)]).then(__webpack_require__.bind(__webpack_require__,1819))]).then((([e,i,n])=>{const r=new e({html:!1,linkify:!0,typographer:!0,breaks:!0}).enable(["table"]).disable(["image"]).use(i);return(e,i=!1)=>{if(0===(e=e.trim()).length)return n.fallback(e);let s;try{s=n.virtual(r.renderer,r.parse(e,{}),i)}catch(i){const r=i instanceof Error?i.message:"unknown";t.emit("errorThrown",Error(`Error while rendering markdown: ${r}`)),s=n.fallback(e)}return s}}))));var j=__webpack_require__(8937),L=__webpack_require__(4950);const O=async({id:t,type:e,text:i,directives:n,session_type:r},s,o,{isStandaloneBuild:a})=>{const l=t&&(0,L.U2)(s).allChats[t],c="skill"===e&&t,d="dedicated"===e&&t;!l&&d&&await s.loadChatList(),!l&&c&&s.createChat({type:"ls",localStorageKey:`${j.Wz}.${t}`,maxMessagesInLS:50,isDialog:!0,isStandaloneBuild:a},{id:t}),(c||d)&&await s.setActiveChatId(t);const h={request:{voiceSession:"voice"===r}};(null==n?void 0:n.length)?o.executeDirectives(n,h):c?o.executeDirectives([{name:"type_silent",type:"client_action",payload:{text:i}},{name:"new_dialog_session",type:"server_action",payload:{dialog_id:t,request:i||void 0}}],h):i&&o.executeDirectives([{name:"type",type:"client_action",payload:{text:i}}],h)};var F=__webpack_require__(5268);const B=32,V=16;function z(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function N(t){return t*t*t}function R(t){const e=t-1;return e*e*e+1}function U(t,{delay:e=0,duration:i=400,easing:n=x.yRu}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:i,easing:n,css:t=>"opacity: "+t*r}}function H(t,e,i){const n=t.slice();return n[1]=e[i],n}function q(t){let e,i,n=[],r=new Map,s=(0,x.NXn)(t[0].children);const o=t=>t[1].id;for(let e=0;e<s.length;e+=1){let i=H(t,s,e),a=o(i);r.set(a,n[e]=Y(a,i))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=(0,x.cSb)()},l(t){for(let e=0;e<n.length;e+=1)n[e].l(t);e=(0,x.cSb)()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);(0,x.ZMF)(t,e,r),i=!0},p(t,i){1&i&&(s=(0,x.NXn)(t[0].children),(0,x.dvw)(),n=(0,x.GQg)(n,i,o,1,t,s,r,e.parentNode,x.cly,Y,e,H),(0,x.gbL)())},i(t){if(!i){for(let t=0;t<s.length;t+=1)(0,x.Ui)(n[t]);i=!0}},o(t){for(let t=0;t<n.length;t+=1)(0,x.etI)(n[t]);i=!1},d(t){t&&(0,x.ogt)(e);for(let e=0;e<n.length;e+=1)n[e].d(t)}}}function G(t){let e,i,n=t[0].html+"";return{c(){e=new x.Tv0(!1),i=(0,x.cSb)(),this.h()},l(t){e=(0,x.a7E)(t,!1),i=(0,x.cSb)(),this.h()},h(){e.a=i},m(t,r){e.m(n,t,r),(0,x.ZMF)(t,i,r)},p(t,i){1&i&&n!==(n=t[0].html+"")&&e.p(n)},i:x.ZTd,o:x.ZTd,d(t){t&&((0,x.ogt)(i),e.d())}}}function Z(t){let e,i=t[0].text+"";return{c(){e=(0,x.fLW)(i)},l(t){e=(0,x.Bno)(t,i)},m(t,i){(0,x.ZMF)(t,e,i)},p(t,n){1&n&&i!==(i=t[0].text+"")&&(0,x.rTO)(e,i)},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e)}}}function Y(t,e){let i,n,r;return n=new Q({props:{node:e[1]}}),{key:t,first:null,c(){i=(0,x.cSb)(),(0,x.YCL)(n.$$.fragment),this.h()},l(t){i=(0,x.cSb)(),(0,x.wOw)(n.$$.fragment,t),this.h()},h(){this.first=i},m(t,e){(0,x.ZMF)(t,i,e),(0,x.yef)(n,t,e),r=!0},p(t,i){e=t;const r={};1&i&&(r.node=e[1]),n.$set(r)},i(t){r||((0,x.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,x.etI)(n.$$.fragment,t),r=!1},d(t){t&&(0,x.ogt)(i),(0,x.vpE)(n,t)}}}function W(t){let e,i,n,r;const s=[Z,G,q],o=[];function a(t,e){return t[0].text?0:t[0].html?1:t[0].children?2:-1}~(i=a(t))&&(n=o[i]=s[i](t));let l=[t[0].attrs],c={};for(let t=0;t<l.length;t+=1)c=(0,x.f0i)(c,l[t]);return{c(){e=(0,x.bGB)(t[0].tag),n&&n.c(),this.h()},l(i){e=(0,x.vT0)(i,(t[0].tag||"null").toUpperCase(),{});var r=(0,x.pIy)(e);n&&n.l(r),r.forEach(x.ogt),this.h()},h(){(0,x.Kp5)(t[0].tag)(e,c)},m(t,n){(0,x.ZMF)(t,e,n),~i&&o[i].m(e,null),r=!0},p(t,r){let d=i;i=a(t),i===d?~i&&o[i].p(t,r):(n&&((0,x.dvw)(),(0,x.etI)(o[d],1,1,(()=>{o[d]=null})),(0,x.gbL)()),~i?(n=o[i],n?n.p(t,r):(n=o[i]=s[i](t),n.c()),(0,x.Ui)(n,1),n.m(e,null)):n=null),(0,x.Kp5)(t[0].tag)(e,c=(0,x.LoY)(l,[1&r&&t[0].attrs]))},i(t){r||((0,x.Ui)(n),r=!0)},o(t){(0,x.etI)(n),r=!1},d(t){t&&(0,x.ogt)(e),~i&&o[i].d()}}}function K(t){let e,i,n=t[0].tag,r=t[0].tag&&W(t);return{c(){r&&r.c(),e=(0,x.cSb)()},l(t){r&&r.l(t),e=(0,x.cSb)()},m(t,i){r&&r.m(t,i),(0,x.ZMF)(t,e,i)},p(t,i){t[0].tag?n?(0,x.N8)(n,t[0].tag)?(r.d(1),r=W(t),n=t[0].tag,r.c(),r.m(e.parentNode,e)):r.p(t,i):(r=W(t),n=t[0].tag,r.c(),r.m(e.parentNode,e)):n&&(r.d(1),r=null,n=t[0].tag)},i:x.ZTd,o(t){(0,x.etI)(r,t),i=!1},d(t){t&&(0,x.ogt)(e),r&&r.d(t)}}}function X(t){let e,i,n=t[0].id,r=K(t);return{c(){r.c(),e=(0,x.cSb)()},l(t){r.l(t),e=(0,x.cSb)()},m(t,n){r.m(t,n),(0,x.ZMF)(t,e,n),i=!0},p(t,[i]){1&i&&(0,x.N8)(n,n=t[0].id)?((0,x.dvw)(),(0,x.etI)(r,1,1,x.ZTd),(0,x.gbL)(),r=K(t),r.c(),(0,x.Ui)(r,1),r.m(e.parentNode,e)):r.p(t,i)},i(t){i||((0,x.Ui)(r),i=!0)},o(t){(0,x.etI)(r),i=!1},d(t){t&&(0,x.ogt)(e),r.d(t)}}}function J(t,e,i){let{node:n}=e;return t.$$set=t=>{"node"in t&&i(0,n=t.node)},[n]}class Q extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,J,X,x.N8,{node:0})}}const tt=Q;function et(t){(0,x.qOq)(t,"svelte-lop8xn","\n            .markdown-text h1,\n            .markdown-text h2,\n            .markdown-text h3,\n            .markdown-text h4,\n            .markdown-text h5,\n            .markdown-text h6,\n            .markdown-text p,\n            .markdown-text blockquote,\n            .markdown-text ul,\n            .markdown-text ol,\n            .markdown-text pre\n        {padding:0;margin:0}.markdown-text, .markdown-text h5, .markdown-text h6, .markdown-text p{font-family:'YS Text',\n            'YS Text Home',\n            -apple-system,\n            BlinkMacSystemFont,\n            'Helvetica Neue',\n            'Arial Unicode MS',\n            Arial,\n            sans-serif;font-feature-settings:'liga', 'kern';font-variant-ligatures:normal;font-kerning:normal}.markdown-text h1, .markdown-text h2, .markdown-text h3, .markdown-text h4{font-family:'YS Display',\n            'YS Text',\n            'YS Text Home',\n            -apple-system,\n            BlinkMacSystemFont,\n            'Helvetica Neue',\n            'Arial Unicode MS',\n            Arial,\n            sans-serif}.markdown-text h1, .markdown-text h2{font-weight:900}.markdown-text h3, .markdown-text h4, .markdown-text h5, .markdown-text h6{font-weight:700}.markdown-text h1{font-size:32px;line-height:38px;margin-bottom:10px;padding-top:10px}.markdown-text h2{font-size:28px;line-height:34px;margin-bottom:10px;padding-top:10px}.markdown-text h3{font-size:24px;line-height:30px;padding-top:8px;margin-bottom:8px}.markdown-text h4{font-size:20px;line-height:28px;padding-top:6px;margin-bottom:6px}.markdown-text h5{font-size:18px;line-height:24px;padding-top:6px;margin-bottom:6px}.markdown-text h6{font-size:16px;line-height:22px;padding-top:4px;margin-bottom:4px}.markdown-text p{font-size:inherit;margin-bottom:16px;line-height:1.5;word-wrap:break-all}.markdown-text a{color:var(--brand-color);text-decoration:none}.markdown-text a:hover{color:var(--link-hover-color)}.markdown-text p:last-child{margin-bottom:0}.markdown-text li{font-size:inherit;margin-bottom:6px;line-height:1.5}.markdown-text li p{display:inline}.markdown-text ul{margin:4px 16px 0}.markdown-text ol{margin-top:4px;list-style-position:inside}.markdown-text > ul, .markdown-text > ol{margin-bottom:20px}\n            .markdown-text p + ol,\n            .markdown-text p + ul,\n            .markdown-text > ol + ol,\n            .markdown-text > ol + ul,\n            .markdown-text > ul + ol,\n            .markdown-text > ul + ul\n        {margin-top:-10px}.markdown-text blockquote{padding:16px;font-size:inherit;line-height:1.5;background-color:rgba(0, 0, 0, 0.06)}.markdown-text > blockquote{margin-bottom:16px}.markdown-text table{font-size:inherit;line-height:1.5;border-collapse:collapse;text-align:left;margin-bottom:16px;max-width:100%;display:block}.markdown-text th{background-color:rgba(0, 0, 0, 0.06)}.markdown-text td, .markdown-text th{padding:8px;vertical-align:middle}.markdown-text tr:hover{background-color:rgba(0, 0, 0, 0.06)}.markdown-text pre{padding:16px;font-size:inherit;line-height:1.5;background-color:rgba(0, 0, 0, 0.06);margin-bottom:16px}.markdown-text pre, .markdown-text table{overflow-x:auto}@supports selector(::-webkit-scrollbar){.markdown-text_default pre::-webkit-scrollbar, .markdown-text_default table::-webkit-scrollbar{height:12px}\n                .markdown-text_default.markdown-text_mobile pre::-webkit-scrollbar,\n                .markdown-text_default.markdown-text_mobile table::-webkit-scrollbar\n            {display:none}\n                .markdown-text_default pre::-webkit-scrollbar-track,\n                .markdown-text_default table::-webkit-scrollbar-track\n            {background:transparent}\n                .markdown-text_default pre::-webkit-scrollbar-thumb,\n                .markdown-text_default table::-webkit-scrollbar-thumb\n            {background-color:rgba(0, 0, 0, 0.15);border:4px solid transparent;background-clip:padding-box;-webkit-transition:background 0.15s ease-out;transition:background 0.15s ease-out;border-radius:10px}\n                .markdown-text_default pre::-webkit-scrollbar-thumb:hover,\n                .markdown-text_default table::-webkit-scrollbar-thumb:hover\n            {border-width:2px;background-color:rgba(0, 0, 0, 0.2)}}@supports not selector(::-webkit-scrollbar){.markdown-text_default pre, .markdown-text_default table{scrollbar-width:thin;scrollbar-color:rgba(0, 0, 0, 0.15) transparent}.markdown-text_default.markdown-text_mobile pre, .markdown-text_default.markdown-text_mobile table{scrollbar-width:none}}.markdown-text_mobile pre::-webkit-scrollbar, .markdown-text_mobile table::-webkit-scrollbar{display:none}.markdown-text_mobile pre, .markdown-text_mobile table{-ms-overflow-style:none;scrollbar-width:none}.markdown-text code{font-family:ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;font-size:inherit;line-height:1.5}\n            .markdown-text h1:last-child,\n            .markdown-text h2:last-child,\n            .markdown-text h3:last-child,\n            .markdown-text h4:last-child,\n            .markdown-text h5:last-child,\n            .markdown-text h6:last-child,\n            .markdown-text p:last-child,\n            .markdown-text blockquote:last-child,\n            .markdown-text ul:last-child,\n            .markdown-text ol:last-child,\n            .markdown-text pre:last-child,\n            .markdown-text table:last-child\n        {margin-bottom:0}\n            .markdown-text_standalone h1,\n            .markdown-text_standalone h2,\n            .markdown-text_standalone h3,\n            .markdown-text_standalone h4\n        {font-family:'YS Text',\n            'YS Text Home',\n            -apple-system,\n            BlinkMacSystemFont,\n            'Helvetica Neue',\n            'Arial Unicode MS',\n            Arial,\n            sans-serif}\n            .markdown-text_standalone p,\n            .markdown-text_standalone li,\n            .markdown-text_standalone blockquote,\n            .markdown-text_standalone table,\n            .markdown-text_standalone pre,\n            .markdown-text_standalone code\n        {font-size:inherit;line-height:inherit}.markdown-text_standalone_mobile p{margin-bottom:12px}.markdown-text_standalone h1, .markdown-text_standalone h2{font-weight:700}.markdown-text_standalone h5, .markdown-text_standalone h6{font-weight:500}.markdown-text_standalone h1{font-size:28px;line-height:32px}.markdown-text_standalone h2{font-size:24px;line-height:38px}.markdown-text_standalone h3{font-size:20px;line-height:24px}.markdown-text_standalone h4{font-size:18px;line-height:20px}.markdown-text_standalone h5{font-size:16px;line-height:20px}.markdown-text_standalone h6{font-size:14px;line-height:20px;color:var(--text-secondary-color)}\n            .markdown-text_standalone p + ol,\n            .markdown-text_standalone p + ul,\n            .markdown-text_standalone > ol + ol,\n            .markdown-text_standalone > ol + ul,\n            .markdown-text_standalone > ul + ol,\n            .markdown-text_standalone > ul + ul\n        {margin-top:0}.markdown-text_standalone ul{list-style-type:disc}.markdown-text_standalone ol{list-style-position:outside}.markdown-text_standalone > ol, .markdown-text_standalone > ul{margin:0 24px}.markdown-text_standalone_mobile > ol, .markdown-text_standalone_mobile > ul{margin:0 16px}.markdown-text_standalone li{margin:12px 0}.markdown-text_standalone_mobile li{margin:8px 0}.markdown-text_standalone li::marker{color:var(--text-secondary-color)}.markdown-text_standalone blockquote{background-color:var(--brand-opacity-12-color);border-radius:8px}.markdown-text_standalone table{border-radius:8px;border:1px solid var(--brand-opacity-12-color)}.markdown-text_standalone th{background-color:var(--brand-opacity-12-color)}.markdown-text_standalone tr{border-top:1px solid var(--brand-opacity-12-color)}.markdown-text_standalone tr:hover{background-color:var(--brand-opacity-12-color)}.markdown-text_standalone pre{background-color:var(--code-bg-color);color:var(--white-color-opacity-80);border-radius:8px;padding:12px 16px}.markdown-text_standalone code{font-family:ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace}.markdown-text_standalone pre, .markdown-text_standalone table{overflow-x:auto}@supports selector(::-webkit-scrollbar){.markdown-text_standalone pre::-webkit-scrollbar, .markdown-text_standalone table::-webkit-scrollbar{height:16px}\n                .markdown-text_standalone.markdown-text_mobile pre::-webkit-scrollbar,\n                .markdown-text_standalone.markdown-text_mobile table::-webkit-scrollbar\n            {display:none}\n                .markdown-text_standalone pre::-webkit-scrollbar-track,\n                .markdown-text_standalone table::-webkit-scrollbar-track\n            {background-color:var(--white-color-opacity-8);background-clip:content-box;-webkit-transition:background-color 0.15s ease-out;transition:background-color 0.15s ease-out;border-style:solid;border-color:var(--transparent-color);border-top-width:0;border-bottom-width:12px;border-right-width:16px;border-left-width:16px}\n                .markdown-text_standalone pre::-webkit-scrollbar-track:hover,\n                .markdown-text_standalone table::-webkit-scrollbar-track:hover\n            {background-color:var(--white-color-opacity-16)}\n                .markdown-text_standalone pre::-webkit-scrollbar-thumb,\n                .markdown-text_standalone table::-webkit-scrollbar-thumb\n            {background-color:var(--white-color-opacity-80);background-clip:content-box;-webkit-transition:background-color 0.15s ease-out;transition:background-color 0.15s ease-out;border-style:solid;border-color:var(--transparent-color);border-top-width:0;border-bottom-width:12px;border-right-width:16px;border-left-width:16px}\n                .markdown-text_standalone pre::-webkit-scrollbar-thumb:hover,\n                .markdown-text_standalone table::-webkit-scrollbar-thumb:hover\n            {background-color:var(--white-color);border-top-width:0;border-bottom-width:12px;border-right-width:16px;border-left-width:16px}}@supports not selector(::-webkit-scrollbar){.markdown-text_standalone pre, .markdown-text_standalone table{scrollbar-width:thin;scrollbar-color:var(--white-color-opacity-80) var(--white-color-opacity-8)}\n                .markdown-text_standalone.markdown-text_mobile pre,\n                .markdown-text_standalone.markdown-text_mobile table\n            {scrollbar-width:none}}\n            .markdown-text_standalone h1:last-child,\n            .markdown-text_standalone h2:last-child,\n            .markdown-text_standalone h3:last-child,\n            .markdown-text_standalone h4:last-child,\n            .markdown-text_standalone h5:last-child,\n            .markdown-text_standalone h6:last-child,\n            .markdown-text_standalone p:last-child,\n            .markdown-text_standalone blockquote:last-child,\n            .markdown-text_standalone ul:last-child,\n            .markdown-text_standalone ol:last-child,\n            .markdown-text_standalone pre:last-child,\n            .markdown-text_standalone table:last-child\n        {margin-bottom:0}")}function it(t,e,i){const n=t.slice();return n[6]=e[i],n}function nt(t,e){let i,n,r;return n=new tt({props:{node:e[6]}}),{key:t,first:null,c(){i=(0,x.cSb)(),(0,x.YCL)(n.$$.fragment),this.h()},l(t){i=(0,x.cSb)(),(0,x.wOw)(n.$$.fragment,t),this.h()},h(){this.first=i},m(t,e){(0,x.ZMF)(t,i,e),(0,x.yef)(n,t,e),r=!0},p(t,i){e=t;const r={};1&i&&(r.node=e[6]),n.$set(r)},i(t){r||((0,x.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,x.etI)(n.$$.fragment,t),r=!1},d(t){t&&(0,x.ogt)(i),(0,x.vpE)(n,t)}}}function rt(t){let e,i,n=[],r=new Map,s=(0,x.NXn)(t[0]);const o=t=>t[6].id;for(let e=0;e<s.length;e+=1){let i=it(t,s,e),a=o(i);r.set(a,n[e]=nt(a,i))}return{c(){e=(0,x.bGB)("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var i=(0,x.pIy)(e);for(let t=0;t<n.length;t+=1)n[t].l(i);i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","markdown-text"),(0,x.VHj)(e,"markdown-text_standalone",t[2]),(0,x.VHj)(e,"markdown-text_default",!t[2]),(0,x.VHj)(e,"markdown-text_mobile",t[1]),(0,x.VHj)(e,"markdown-text_standalone_mobile",t[2]&&t[1])},m(t,r){(0,x.ZMF)(t,e,r);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,null);i=!0},p(t,[i]){1&i&&(s=(0,x.NXn)(t[0]),(0,x.dvw)(),n=(0,x.GQg)(n,i,o,1,t,s,r,e,x.cly,nt,null,it),(0,x.gbL)())},i(t){if(!i){for(let t=0;t<s.length;t+=1)(0,x.Ui)(n[t]);i=!0}},o(t){for(let t=0;t<n.length;t+=1)(0,x.etI)(n[t]);i=!1},d(t){t&&(0,x.ogt)(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function st(t,e,i){let n,{markdown:r}=e,{useAnimation:s}=e,{text:o}=e;const{isMobile:a,isStandaloneBuild:l}=(0,k.fw)(M.f1);return t.$$set=t=>{"markdown"in t&&i(3,r=t.markdown),"useAnimation"in t&&i(4,s=t.useAnimation),"text"in t&&i(5,o=t.text)},t.$$.update=()=>{56&t.$$.dirty&&i(0,n=r?r(o,s):(0,P.t)(o))},[n,a,l,r,s,o]}class ot extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,st,rt,x.N8,{markdown:3,useAnimation:4,text:5},et)}}const at=ot,lt=t=>{let e=[],i=!1,n=!1,r=!1,s=0,o=0;const a=()=>{clearTimeout(s)},l=()=>{a(),i||n||(n=!0,o=Math.max(0,e.length-1),t(e,!0))},d=()=>{if(a(),i||n)return;const l=e[o].length,c=Math.min(35,l)*(1e3/120);n=o===e.length-1,t(n?e:e.slice(0,o+=1),n),r=!n,r&&(s=Number(setTimeout(d,c)))};return{cancel:()=>{i=!0},flush:l,next:t=>{if(i)return!0;const s=e.length,a=0===t.length?[]:(0,c.xd)(t),h=a.length,p=Math.max(0,h-1);let u=o;for(let t=0;t<s&&t<h&&t<o;++t)if(e[t]!==a[t]){u=t;break}if(e=a,h===s&&u===o)return!0;if(u===p)return n||l(),!0;const f=o>u;return o=u,n=!1,!(!r||f)||(d(),!1)}}};function ct(t){(0,x.qOq)(t,"svelte-qjetgf","@keyframes svelte-qjetgf-fade{0%{opacity:0.3}100%{opacity:1}}.alice-fade-word{animation:0.3s ease-out 0s 1 forwards svelte-qjetgf-fade}")}function dt(t,e,i){const n=t.slice();return n[10]=e[i],n[12]=i,n}function ht(t){let e,i=[],n=new Map,r=(0,x.NXn)(t[3]);const s=t=>t[12];for(let e=0;e<r.length;e+=1){let o=dt(t,r,e),a=s(o);n.set(a,i[e]=ut(a,o))}return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=(0,x.cSb)()},l(t){for(let e=0;e<i.length;e+=1)i[e].l(t);e=(0,x.cSb)()},m(t,n){for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,n);(0,x.ZMF)(t,e,n)},p(t,o){8&o&&(r=(0,x.NXn)(t[3]),i=(0,x.GQg)(i,o,s,1,t,r,n,e.parentNode,x.OCq,ut,e,dt))},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e);for(let e=0;e<i.length;e+=1)i[e].d(t)}}}function pt(t){let e,i;return e=new at({props:{text:t[3].join(""),markdown:t[1],useAnimation:!0}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};8&i&&(n.text=t[3].join("")),2&i&&(n.markdown=t[1]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function ut(t,e){let i,n,r=e[10]+"";return{key:t,first:null,c(){i=(0,x.bGB)("span"),n=(0,x.fLW)(r),this.h()},l(t){i=(0,x.vT0)(t,"SPAN",{class:!0});var e=(0,x.pIy)(i);n=(0,x.Bno)(e,r),e.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","alice-fade-word"),this.first=i},m(t,e){(0,x.ZMF)(t,i,e),(0,x.ztY)(i,n)},p(t,i){e=t,8&i&&r!==(r=e[10]+"")&&(0,x.rTO)(n,r)},d(t){t&&(0,x.ogt)(i)}}}function ft(t){let e,i,n,r,s,o,a;const l=[pt,ht],c=[];function d(t,e){return t[2]?0:1}return r=d(t),s=c[r]=l[r](t),{c(){e=(0,x.bGB)("div"),n=(0,x.DhX)(),s.c(),o=(0,x.cSb)(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{"data-id":!0}),(0,x.pIy)(e).forEach(x.ogt),n=(0,x.qzd)(t),s.l(t),o=(0,x.cSb)(),this.h()},h(){(0,x.Ljt)(e,"data-id",i=t[0].id)},m(t,i){(0,x.ZMF)(t,e,i),(0,x.ZMF)(t,n,i),c[r].m(t,i),(0,x.ZMF)(t,o,i),a=!0},p(t,[n]){(!a||1&n&&i!==(i=t[0].id))&&(0,x.Ljt)(e,"data-id",i);let h=r;r=d(t),r===h?c[r].p(t,n):((0,x.dvw)(),(0,x.etI)(c[h],1,1,(()=>{c[h]=null})),(0,x.gbL)(),s=c[r],s?s.p(t,n):(s=c[r]=l[r](t),s.c()),(0,x.Ui)(s,1),s.m(o.parentNode,o))},i(t){a||((0,x.Ui)(s),a=!0)},o(t){(0,x.etI)(s),a=!1},d(t){t&&((0,x.ogt)(e),(0,x.ogt)(n),(0,x.ogt)(o)),c[r].d(t)}}}function mt(t,e,i){let n,{bubble:r}=e,{markdown:s}=e,{useMarkdown:o=!1}=e;const{allChatsStore:a}=(0,k.fw)(M.f1);(0,x.FIv)(t,a,(t=>i(6,n=t)));let l=[],c=!0;const d=lt(((t,e)=>{i(3,l=t),i(5,c=e)})),h=t=>{if(t===r.isAnimatingEnded)return;i(0,r.isAnimatingEnded=t,r);const e={bubbles:[Object.assign({},r)]};n.currentChat.updateLastMessage(e,"update")};return(0,k.ev)((()=>{d.cancel()})),t.$$set=t=>{"bubble"in t&&i(0,r=t.bubble),"markdown"in t&&i(1,s=t.markdown),"useMarkdown"in t&&i(2,o=t.useMarkdown)},t.$$.update=()=>{if(33&t.$$.dirty){const t=d.next(r.text),e=c&&t;r.isProgressive?h(e):(d.flush(),h(!0))}},[r,s,o,l,a,c]}class gt extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,mt,ft,x.N8,{bubble:0,markdown:1,useMarkdown:2},ct)}}const yt=gt;var vt=__webpack_require__(4562);const bt='<svg class="alice-thinking-gap_loader" xmlns="http://www.w3.org/2000/svg" width="32" height="18" fill="currentColor"><circle cx="8.25" cy="9" r="2.25"><animate attributeName="r" dur="1s" keyTimes="0;0.285;0.57;1" repeatCount="indefinite" values="2.25;3;2.25;2.25;"/></circle><circle cx="15.75" cy="9" r="2.25"><animate attributeName="r" dur="1s" keyTimes="0;0.14;0.42;0.72;1" repeatCount="indefinite" values="2.25;2.25;3;2.25;2.25;"/></circle><circle cx="23.25" cy="9" r="2.25"><animate attributeName="r" dur="1s" keyTimes="0;0.285;0.57;0.86;1" repeatCount="indefinite" values="2.25;2.25;3;2.25;2.25;"/></circle></svg>\n';function _t(t){(0,x.qOq)(t,"svelte-69wiuu",".alice-thinking-gap.svelte-69wiuu{font-style:normal;font-weight:400;font-size:14px;line-height:1.5;box-sizing:border-box;max-width:100%;color:var(--text-bubble-color);background:#f2f3f5;border-radius:2px 16px 16px 16px;padding:12px 16px;white-space:pre-wrap;-webkit-user-select:text;-moz-user-select:text;user-select:text;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;display:flex;align-items:center;gap:8px}.alice-thinking-gap_theme_dark.svelte-69wiuu{background:rgba(255, 255, 255, 0.06)}.alice-thinking-gap_fullscreen.svelte-69wiuu{font-size:16px;margin-right:32px}.alice-thinking-gap_standalone.svelte-69wiuu{display:flex;border-radius:4px 24px 24px 24px;padding:16px 24px;background-color:var(--alisa-bubble-chat-color);color:var(--text-primary-color)}.alice-thinking-gap_standalone.alice-thinking-gap_external-dialog.svelte-69wiuu{background-color:var(--alisa-bubble-blue-color)}.alice-thinking-gap_loader{padding:4px 0}.alice-thinking-gap_description-container.svelte-69wiuu{margin:0;font-size:18px;line-height:26px}.alice-thinking-gap_description.svelte-69wiuu:nth-child(2){transform:translateY(-100%)}")}function xt(t){let e,i=vt.h.thinking+"";return{c(){e=(0,x.fLW)(i)},l(t){e=(0,x.Bno)(t,i)},m(t,i){(0,x.ZMF)(t,e,i)},p:x.ZTd,i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e)}}}function kt(t){let e,i,n,r,s=t[4]&&wt(t);return{c(){e=new x.Tv0(!1),i=(0,x.DhX)(),s&&s.c(),n=(0,x.cSb)(),this.h()},l(t){e=(0,x.a7E)(t,!1),i=(0,x.qzd)(t),s&&s.l(t),n=(0,x.cSb)(),this.h()},h(){e.a=i},m(t,o){e.m(bt,t,o),(0,x.ZMF)(t,i,o),s&&s.m(t,o),(0,x.ZMF)(t,n,o),r=!0},p(t,e){t[4]?s?(s.p(t,e),16&e&&(0,x.Ui)(s,1)):(s=wt(t),s.c(),(0,x.Ui)(s,1),s.m(n.parentNode,n)):s&&((0,x.dvw)(),(0,x.etI)(s,1,1,(()=>{s=null})),(0,x.gbL)())},i(t){r||((0,x.Ui)(s),r=!0)},o(t){(0,x.etI)(s),r=!1},d(t){t&&(e.d(),(0,x.ogt)(i),(0,x.ogt)(n)),s&&s.d(t)}}}function wt(t){let e,i,n;return i=new yt({props:{bubble:t[4]}}),{c(){e=(0,x.bGB)("p"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"P",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice-thinking-gap_description-container svelte-69wiuu")},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,e){const n={};16&e&&(n.bubble=t[4]),i.$set(n)},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function Ct(t){let e,i,n,r,s,o;const a=[kt,xt],l=[];return i=function(t,e){return t[5]?0:1}(t),n=l[i]=a[i](t),{c(){e=(0,x.bGB)("div"),n.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var i=(0,x.pIy)(e);n.l(i),i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class",r=(0,x.H1I)(`alice-thinking-gap alice-thinking-gap_theme_${t[0]}`)+" svelte-69wiuu"),(0,x.VHj)(e,"alice-thinking-gap_mobile",t[1]),(0,x.VHj)(e,"alice-thinking-gap_fullscreen",t[6]),(0,x.VHj)(e,"alice-thinking-gap_standalone",t[5]),(0,x.VHj)(e,"alice-thinking-gap_external-dialog",t[2])},m(t,n){(0,x.ZMF)(t,e,n),l[i].m(e,null),o=!0},p(i,[s]){t=i,n.p(t,s),(!o||1&s&&r!==(r=(0,x.H1I)(`alice-thinking-gap alice-thinking-gap_theme_${t[0]}`)+" svelte-69wiuu"))&&(0,x.Ljt)(e,"class",r),(!o||3&s)&&(0,x.VHj)(e,"alice-thinking-gap_mobile",t[1]),(!o||65&s)&&(0,x.VHj)(e,"alice-thinking-gap_fullscreen",t[6]),(!o||33&s)&&(0,x.VHj)(e,"alice-thinking-gap_standalone",t[5]),(!o||5&s)&&(0,x.VHj)(e,"alice-thinking-gap_external-dialog",t[2])},i(t){o||((0,x.Ui)(n),s&&s.end(1),o=!0)},o(i){(0,x.etI)(n),i&&(s=(0,x.eZl)(e,U,{duration:t[3]?300:0,easing:z})),o=!1},d(t){t&&(0,x.ogt)(e),l[i].d(),t&&s&&s.end()}}}function Et(t,e,i){let n,{theme:r}=e,{description:s}=e,{isMobile:o=!1}=e,{isExternalDialog:a=!1}=e,{animate:l=!1}=e,{isStandaloneBuild:c}=(0,M.Mn)();const{isFullscreenExp:d}=(0,k.fw)(M.f1);return t.$$set=t=>{"theme"in t&&i(0,r=t.theme),"description"in t&&i(7,s=t.description),"isMobile"in t&&i(1,o=t.isMobile),"isExternalDialog"in t&&i(2,a=t.isExternalDialog),"animate"in t&&i(3,l=t.animate)},t.$$.update=()=>{128&t.$$.dirty&&i(4,n=s?{type:"text",id:"alice_thinking_gap",text:s,isProgressive:!0}:void 0)},[r,o,a,l,n,c,d,s]}class St extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Et,Ct,x.N8,{theme:0,description:7,isMobile:1,isExternalDialog:2,animate:3},_t)}}const $t=St,Mt=Symbol(),It={passive:!0};function Dt(t){(0,x.qOq)(t,"svelte-1jiujr0",".animate-first-message-chat.svelte-1jiujr0{min-height:var(--min-height);box-sizing:border-box}")}function Tt(t){let e,i;const n=t[8].default,r=(0,x.nuO)(n,t,t[7],null);return{c(){e=(0,x.bGB)("div"),r&&r.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var i=(0,x.pIy)(e);r&&r.l(i),i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","animate-first-message-chat svelte-1jiujr0"),(0,x.czc)(e,"--min-height",`${t[0]}px`)},m(t,n){(0,x.ZMF)(t,e,n),r&&r.m(e,null),i=!0},p(t,[s]){r&&r.p&&(!i||128&s)&&(0,x.kmG)(r,n,t,t[7],i?(0,x.u2N)(n,t[7],s,null):(0,x.VOJ)(t[7]),null),1&s&&(0,x.czc)(e,"--min-height",`${t[0]}px`)},i(t){i||((0,x.Ui)(r,t),i=!0)},o(t){(0,x.etI)(r,t),i=!1},d(t){t&&(0,x.ogt)(e),r&&r.d(t)}}}function Pt(t,e,i){let n,r,s,{$$slots:o={},$$scope:a}=e,{lastUserMessageElement:l}=e;const{isFullscreenExp:c,allChatsStore:d,isStandaloneBuild:h}=(0,k.fw)(M.f1);(0,x.FIv)(t,d,(t=>i(6,s=t)));const p=(0,k.fw)(Mt);let u,f,m=0;const g=()=>{const{scrollTop:t}=p.getScrollableElementProps();i(0,m-=Math.max(u-t,0)),u=t};return(0,k.ev)((()=>{i(0,m=0),null==f||f()})),t.$$set=t=>{"lastUserMessageElement"in t&&i(2,l=t.lastUserMessageElement),"$$scope"in t&&i(7,a=t.$$scope)},t.$$.update=()=>{64&t.$$.dirty&&i(5,n=s.currentChat),32&t.$$.dirty&&(r=c||h&&!n.isDialog),17&t.$$.dirty&&m<0&&(null==f||f())},[m,d,l,()=>{r&&(i(0,m=window.innerHeight),(0,k.Ky)().then((()=>{p.scrollToBottom(),u=p.getScrollableElementProps().scrollTop||0,i(4,f=p.addScrollListener(g,10)),p.scrollToElementTop(l)})))},f,n,s,a,o]}class At extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Pt,Tt,x.N8,{lastUserMessageElement:2,startAnimation:3},Dt)}get startAnimation(){return this.$$.ctx[3]}}const jt=At;var Lt=__webpack_require__(9162),Ot=__webpack_require__(1174),Ft=__webpack_require__(7711),Bt=__webpack_require__(233);const Vt=Symbol();var zt=__webpack_require__(9654);function Nt(t){(0,x.qOq)(t,"svelte-15p0yvx",".context-menu-item.svelte-15p0yvx{margin:0 4px;box-sizing:border-box;width:167px;padding:10px 12px;border-radius:8px;display:flex;justify-content:flex-start;align-items:center;gap:8px;cursor:pointer;overflow:hidden;white-space:nowrap;transition:width 200ms ease-out;line-height:1;text-decoration:none;color:var(--text-primary-color)}.context-menu-item_size_normal.svelte-15p0yvx{height:40px}.context-menu-item_size_big.svelte-15p0yvx{height:46px}.context-menu-item_collapsed.svelte-15p0yvx{width:40px;transition-timing-function:ease-in}.context-menu-item.svelte-15p0yvx:hover{background-color:var(--menu-item-pressed-color)}.context-menu-item__icon.svelte-15p0yvx{width:16px;height:16px}.context-menu-item__text.svelte-15p0yvx{font-size:14px;font-weight:500;letter-spacing:0;overflow:hidden;text-overflow:ellipsis}")}function Rt(t){let e,i;return{c(){e=(0,x.bGB)("img"),this.h()},l(t){e=(0,x.vT0)(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){(0,x.Ljt)(e,"class","context-menu-item__icon svelte-15p0yvx"),(0,x.Jn4)(e.src,i=t[2])||(0,x.Ljt)(e,"src",i),(0,x.Ljt)(e,"alt",t[0])},m(t,i){(0,x.ZMF)(t,e,i)},p(t,n){4&n&&!(0,x.Jn4)(e.src,i=t[2])&&(0,x.Ljt)(e,"src",i),1&n&&(0,x.Ljt)(e,"alt",t[0])},d(t){t&&(0,x.ogt)(e)}}}function Ut(t){let e,i;return{c(){e=(0,x.bGB)("span"),i=new x.Tv0(!1),this.h()},l(t){e=(0,x.vT0)(t,"SPAN",{class:!0});var n=(0,x.pIy)(e);i=(0,x.a7E)(n,!1),n.forEach(x.ogt),this.h()},h(){i.a=null,(0,x.Ljt)(e,"class","context-menu-item__icon svelte-15p0yvx")},m(n,r){(0,x.ZMF)(n,e,r),i.m(t[1],e)},p(t,e){2&e&&i.p(t[1])},d(t){t&&(0,x.ogt)(e)}}}function Ht(t){let e,i;return{c(){e=(0,x.bGB)("span"),i=(0,x.fLW)(t[0]),this.h()},l(n){e=(0,x.vT0)(n,"SPAN",{class:!0});var r=(0,x.pIy)(e);i=(0,x.Bno)(r,t[0]),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","context-menu-item__text svelte-15p0yvx")},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i)},p(t,e){1&e&&(0,x.rTO)(i,t[0])},d(t){t&&(0,x.ogt)(e)}}}function qt(t){let e,i,n,r,s,o;function a(t,e){return t[1]?Ut:t[2]?Rt:void 0}let l=a(t),c=l&&l(t),d=!t[3]&&Ht(t),h=[{role:n="a"===t[7]?"link":"button"},t[6],{class:r="context-menu-item context-menu-item_size_"+t[5]}],p={};for(let t=0;t<h.length;t+=1)p=(0,x.f0i)(p,h[t]);return{c(){e=(0,x.bGB)(t[7]),c&&c.c(),i=(0,x.DhX)(),d&&d.c(),this.h()},l(n){e=(0,x.vT0)(n,(t[7]||"null").toUpperCase(),{role:!0,class:!0});var r=(0,x.pIy)(e);c&&c.l(r),i=(0,x.qzd)(r),d&&d.l(r),r.forEach(x.ogt),this.h()},h(){(0,x.Kp5)(t[7])(e,p),(0,x.VHj)(e,"context-menu-item_collapsed",t[3]),(0,x.VHj)(e,"svelte-15p0yvx",!0)},m(n,r){(0,x.ZMF)(n,e,r),c&&c.m(e,null),(0,x.ztY)(e,i),d&&d.m(e,null),s||(o=(0,x.oLt)(e,"click",(function(){(0,x.sBU)(t[4])&&t[4].apply(this,arguments)})),s=!0)},p(s,o){l===(l=a(t=s))&&c?c.p(t,o):(c&&c.d(1),c=l&&l(t),c&&(c.c(),c.m(e,i))),t[3]?d&&(d.d(1),d=null):d?d.p(t,o):(d=Ht(t),d.c(),d.m(e,null)),(0,x.Kp5)(t[7])(e,p=(0,x.LoY)(h,[128&o&&n!==(n="a"===t[7]?"link":"button")&&{role:n},64&o&&t[6],32&o&&r!==(r="context-menu-item context-menu-item_size_"+t[5])&&{class:r}])),(0,x.VHj)(e,"context-menu-item_collapsed",t[3]),(0,x.VHj)(e,"svelte-15p0yvx",!0)},d(t){t&&(0,x.ogt)(e),c&&c.d(),d&&d.d(),s=!1,o()}}}function Gt(t){let e,i=t[7],n=t[7]&&qt(t);return{c(){n&&n.c(),e=(0,x.cSb)()},l(t){n&&n.l(t),e=(0,x.cSb)()},m(t,i){n&&n.m(t,i),(0,x.ZMF)(t,e,i)},p(t,[r]){t[7]?i?(0,x.N8)(i,t[7])?(n.d(1),n=qt(t),i=t[7],n.c(),n.m(e.parentNode,e)):n.p(t,r):(n=qt(t),i=t[7],n.c(),n.m(e.parentNode,e)):i&&(n.d(1),n=null,i=t[7])},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e),n&&n.d(t)}}}function Zt(t,e,i){let n,r,{text:s}=e,{icon:o}=e,{iconLink:a}=e,{href:c}=e,{target:d="_blank"}=e,{collapsed:h=!1}=e,{onClick:p=l.Z}=e,{size:u}=e;return t.$$set=t=>{"text"in t&&i(0,s=t.text),"icon"in t&&i(1,o=t.icon),"iconLink"in t&&i(2,a=t.iconLink),"href"in t&&i(8,c=t.href),"target"in t&&i(9,d=t.target),"collapsed"in t&&i(3,h=t.collapsed),"onClick"in t&&i(4,p=t.onClick),"size"in t&&i(5,u=t.size)},t.$$.update=()=>{256&t.$$.dirty&&i(7,n=c?"a":"div"),768&t.$$.dirty&&i(6,r=c?{href:c,target:d,rel:"noopener"}:{role:"button"})},[s,o,a,h,p,u,r,n,c,d]}class Yt extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Zt,Gt,x.N8,{text:0,icon:1,iconLink:2,href:8,target:9,collapsed:3,onClick:4,size:5},Nt)}}const Wt=Yt,Kt=t=>t.hasOwnProperty("title"),Xt=24;function Jt(t){(0,x.qOq)(t,"svelte-bbszc4",".standalone-menu.svelte-bbszc4{display:flex;flex-direction:column;gap:4px;box-shadow:0 4px var(--shadow-blur) 0 var(--box-shadow-color);background-color:var(--menu-bg-color);border-radius:12px;padding:4px 0}.standalone-menu__title.svelte-bbszc4{width:143px;height:16px;padding:12px 16px 4px;border-top:1px solid var(--border-color);font-size:13px;line-height:16px;overflow:hidden;white-space:nowrap;color:var(--text-secondary-color);transition-duration:200ms;transition-timing-function:ease-out;transition-property:width, padding}.standalone-menu__title_collapsed.svelte-bbszc4{width:16px;height:0;padding-top:0;padding-bottom:0;transition-timing-function:ease-in}")}function Qt(t,e,i){const n=t.slice();return n[6]=e[i],n}function te(t){let e,i;const n=[t[6],{collapsed:t[1]},{size:t[2]}];let r={};for(let t=0;t<n.length;t+=1)r=(0,x.f0i)(r,n[t]);return e=new Wt({props:r}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const r=7&i?(0,x.LoY)(n,[1&i&&(0,x.gCg)(t[6]),2&i&&{collapsed:t[1]},4&i&&{size:t[2]}]):{};e.$set(r)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function ee(t){let e,i,n=!t[1]&&ie(t);return{c(){e=(0,x.bGB)("div"),n&&n.c(),i=(0,x.DhX)(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var r=(0,x.pIy)(e);n&&n.l(r),i=(0,x.qzd)(r),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","standalone-menu__title svelte-bbszc4"),(0,x.VHj)(e,"standalone-menu__title_collapsed",t[1])},m(t,r){(0,x.ZMF)(t,e,r),n&&n.m(e,null),(0,x.ztY)(e,i)},p(t,r){t[1]?n&&(n.d(1),n=null):n?n.p(t,r):(n=ie(t),n.c(),n.m(e,i)),2&r&&(0,x.VHj)(e,"standalone-menu__title_collapsed",t[1])},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e),n&&n.d()}}}function ie(t){let e,i=t[6].title+"";return{c(){e=(0,x.fLW)(i)},l(t){e=(0,x.Bno)(t,i)},m(t,i){(0,x.ZMF)(t,e,i)},p(t,n){1&n&&i!==(i=t[6].title+"")&&(0,x.rTO)(e,i)},d(t){t&&(0,x.ogt)(e)}}}function ne(t){let e,i,n,r,s;const o=[ee,te],a=[];function l(t,i){return 1&i&&(e=null),null==e&&(e=!!Kt(t[6])),e?0:1}return i=l(t,-1),n=a[i]=o[i](t),{c(){n.c(),r=(0,x.cSb)()},l(t){n.l(t),r=(0,x.cSb)()},m(t,e){a[i].m(t,e),(0,x.ZMF)(t,r,e),s=!0},p(t,e){let s=i;i=l(t,e),i===s?a[i].p(t,e):((0,x.dvw)(),(0,x.etI)(a[s],1,1,(()=>{a[s]=null})),(0,x.gbL)(),n=a[i],n?n.p(t,e):(n=a[i]=o[i](t),n.c()),(0,x.Ui)(n,1),n.m(r.parentNode,r))},i(t){s||((0,x.Ui)(n),s=!0)},o(t){(0,x.etI)(n),s=!1},d(t){t&&(0,x.ogt)(r),a[i].d(t)}}}function re(t){let e,i,n,r,s,o=`${Xt}px`;const a=t[5].default,l=(0,x.nuO)(a,t,t[4],null);let c=(0,x.NXn)(t[0]),d=[];for(let e=0;e<c.length;e+=1)d[e]=ne(Qt(t,c,e));const h=t=>(0,x.etI)(d[t],1,1,(()=>{d[t]=null}));return{c(){e=(0,x.bGB)("div"),l&&l.c(),i=(0,x.DhX)();for(let t=0;t<d.length;t+=1)d[t].c();this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);l&&l.l(n),i=(0,x.qzd)(n);for(let t=0;t<d.length;t+=1)d[t].l(n);n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","standalone-menu svelte-bbszc4"),(0,x.czc)(e,"--shadow-blur",o)},m(t,n){(0,x.ZMF)(t,e,n),l&&l.m(e,null),(0,x.ztY)(e,i);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(e,null);s=!0},p(i,[n]){if(t=i,l&&l.p&&(!s||16&n)&&(0,x.kmG)(l,a,t,t[4],s?(0,x.u2N)(a,t[4],n,null):(0,x.VOJ)(t[4]),null),7&n){let i;for(c=(0,x.NXn)(t[0]),i=0;i<c.length;i+=1){const r=Qt(t,c,i);d[i]?(d[i].p(r,n),(0,x.Ui)(d[i],1)):(d[i]=ne(r),d[i].c(),(0,x.Ui)(d[i],1),d[i].m(e,null))}for((0,x.dvw)(),i=c.length;i<d.length;i+=1)h(i);(0,x.gbL)()}},i(i){if(!s){(0,x.Ui)(l,i);for(let t=0;t<c.length;t+=1)(0,x.Ui)(d[t]);(0,x.P$F)((()=>{s&&(r&&r.end(1),n=(0,x.HCz)(e,U,{delay:t[3],duration:200,easing:N}),n.start())})),s=!0}},o(t){(0,x.etI)(l,t),d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)(0,x.etI)(d[t]);n&&n.invalidate(),t&&(r=(0,x.eZl)(e,U,{duration:200,easing:R})),s=!1},d(t){t&&(0,x.ogt)(e),l&&l.d(t),(0,x.RMB)(d,t),t&&r&&r.end()}}}function se(t,e,i){let{$$slots:n={},$$scope:r}=e,{items:s}=e,{collapsed:o=!1}=e,{size:a="normal"}=e,{inDelay:l=0}=e;return t.$$set=t=>{"items"in t&&i(0,s=t.items),"collapsed"in t&&i(1,o=t.collapsed),"size"in t&&i(2,a=t.size),"inDelay"in t&&i(3,l=t.inDelay),"$$scope"in t&&i(4,r=t.$$scope)},[s,o,a,l,r,n]}class oe extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,se,re,x.N8,{items:0,collapsed:1,size:2,inDelay:3},Jt)}}const ae=oe,le='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none">\n  <path fill="#919CB5" d="M5.33 3.33h5.2c.74 0 1.01.08 1.28.23.28.14.49.35.63.63.15.27.23.54.23 1.28v5.2a.67.67 0 1 0 1.33 0V5.42c0-1.19-.12-1.62-.36-2.06a2.42 2.42 0 0 0-1-1c-.44-.24-.87-.36-2.06-.36H5.33a.67.67 0 0 0 0 1.33Zm-1.2 1.34c-.58 0-.92.03-1.28.22-.27.14-.48.36-.63.63-.19.35-.22.7-.22 1.28v5.06c0 .6.03.93.22 1.29.15.27.36.48.63.63.36.19.7.22 1.29.22H9.2c.58 0 .93-.03 1.28-.22.27-.15.49-.36.63-.63.2-.36.22-.7.22-1.29V6.8c0-.58-.03-.93-.22-1.28a1.51 1.51 0 0 0-.63-.63c-.36-.2-.7-.22-1.28-.22H4.13Zm-.65 1.4a.35.35 0 0 1 .13-.05c.1-.01.24-.02.53-.02H9.2c.28 0 .43.01.52.02l.13.05c.04.02.06.04.08.08l.05.13c.01.1.02.24.02.52v5.06c0 .29-.01.44-.02.53 0 .05-.02.09-.05.13a.18.18 0 0 1-.08.08.35.35 0 0 1-.13.04c-.1.02-.24.03-.52.03H4.14c-.18 0-.35 0-.53-.03a.35.35 0 0 1-.13-.04.18.18 0 0 1-.08-.08.35.35 0 0 1-.04-.13 3.7 3.7 0 0 1-.03-.53V6.8c0-.28.01-.43.03-.52 0-.07.02-.1.04-.13a.18.18 0 0 1 .08-.08Z"/>\n</svg>\n',ce='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none">\n  <path fill="#7A55FF" d="M10.6 3c0-1-.99-1.67-1.76-1.67-.54 0-.58.41-.66 1.22-.04.35-.08.78-.18 1.28-.26 1.34-1.15 3.04-2 3.55v3.95c0 1.5.5 2 2.67 2h2.51c1.45 0 1.8-.95 1.93-1.3l.01-.03c.08-.2.24-.36.43-.55.2-.2.44-.43.62-.78a2 2 0 0 0 .15-1.12c-.01-.2-.03-.38.01-.55l.15-.45c.1-.23.19-.45.19-.88 0-1-.5-1.67-1.55-1.67h-2.79s.27-2 .27-3ZM3.67 6.67a1 1 0 0 0-1 1v4.66a1 1 0 1 0 2 0V7.67a1 1 0 0 0-1-1Z"/>\n</svg>\n',de='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none">\n  <path fill="#919CB5" d="M14.67 7.67c0-1.4-.82-2.34-2.21-2.34H10.5c.06-.6.09-1.16.09-1.66 0-1.31-1.2-2.34-2.43-2.34-.94 0-1.2.54-1.36 1.8l-.2 1.41c-.19.93-.58 1.8-1.16 2.56l-.3-.21a2.12 2.12 0 0 0-1.05-.22h-.2c-.46 0-.78.07-1.05.22-.27.14-.49.36-.63.63S2 8.11 2 8.56v3.54c0 .46.08.78.22 1.05.15.27.36.48.63.63.27.14.6.22 1.05.22h.2c.46 0 .78-.08 1.05-.22.15-.09.3-.2.4-.32.47.35 1.13.54 2 .54h2.97c.99 0 1.7-.37 2.16-1 .2-.25.28-.43.4-.77l.11-.14.38-.39c.22-.23.39-.46.53-.74.23-.47.27-.83.22-1.44-.02-.24-.02-.31 0-.37a2 2 0 0 1 .1-.3l.04-.1c.14-.37.2-.65.2-1.08h.01Zm-6.62-3.7.08-.68c.04-.32.08-.51.11-.62.5.04 1.03.5 1.03 1 0 .63-.06 1.38-.16 2.25a.67.67 0 0 0 .66.75h2.69c.61 0 .87.3.87 1 0 .24-.02.36-.11.58l-.05.12c-.06.15-.11.31-.15.48-.06.23-.06.39-.03.77s.02.54-.09.75c-.08.15-.18.3-.3.42l-.39.4c-.17.18-.3.36-.38.58-.08.23-.13.32-.22.45-.2.28-.53.45-1.1.45H7.56c-1.23 0-1.55-.38-1.55-1.34v-2.9a6.82 6.82 0 0 0 1.9-3.63c.05-.27.1-.53.13-.83h.01Zm-4.57 4.1c.08-.05.19-.07.42-.07h.2c.23 0 .34.02.42.07.03.01.06.04.08.08.04.08.07.18.07.41v3.54a.9.9 0 0 1-.07.42.18.18 0 0 1-.08.08.9.9 0 0 1-.42.07h-.2a.9.9 0 0 1-.42-.07.18.18 0 0 1-.08-.08.9.9 0 0 1-.07-.42V8.56c0-.23.03-.33.07-.41a.18.18 0 0 1 .08-.08Z"/>\n</svg>\n',he='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="4" fill="none">\n  <path fill="#919CB5" d="M10.7 3.2a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4Zm-9.4 0a1.2 1.2 0 1 0 0-2.4 1.2 1.2 0 0 0 0 2.4ZM7.2 2a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Z"/>\n</svg>\n',pe='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none">\n   <path stroke="#919CB5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M3 8h10-5V3v10"/>\n</svg>\n',ue='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none">\n    <path fill="#919CB5" d="M8.44 1h-.88c-.72 0-1 .06-1.28.18-.3.12-.53.3-.73.55a3 3 0 0 0-.52 1.18l-.12.42H3.33a.67.67 0 0 0 0 1.34h.34l.56 8.44c.06.88.78 1.56 1.66 1.56h4.22c.87 0 1.6-.68 1.66-1.56l.56-8.44h.34a.67.67 0 1 0 0-1.34h-1.58l-.12-.42a3 3 0 0 0-.53-1.18 1.8 1.8 0 0 0-.72-.55A2.99 2.99 0 0 0 8.44 1ZM9.7 3.33H6.3l.01-.06c.14-.47.2-.6.29-.71a.46.46 0 0 1 .2-.15c.12-.06.26-.08.76-.08h.88c.5 0 .63.02.77.08.08.03.14.08.2.15.08.11.14.24.28.71l.01.06ZM11 4.67l-.56 8.35a.33.33 0 0 1-.33.31H5.89a.33.33 0 0 1-.33-.3L5 4.66h6ZM6.27 6.42a.57.57 0 1 1 1.13-.04l.18 5.2a.57.57 0 0 1-1.13.04l-.18-5.2Zm2.92-.59a.57.57 0 0 0-.59.55l-.18 5.2a.57.57 0 1 0 1.13.04l.18-5.2a.57.57 0 0 0-.54-.59Z"/>\n</svg>\n',fe='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">\n    <path stroke="#919CB5" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8 16 8-8-4 4 4 4-8-8"/>\n</svg>\n',me=Object.values(i.KitUniproxyFeedbackReason),ge={[i.KitUniproxyFeedbackReason.LostDialogTopic]:"Нет ответа на мой вопрос",[i.KitUniproxyFeedbackReason.InaccuracyOrError]:"Неверная информация",[i.KitUniproxyFeedbackReason.OutdatedInformation]:"Информация устарела",[i.KitUniproxyFeedbackReason.LackOfInformation]:"Мало информации",[i.KitUniproxyFeedbackReason.UnclearAnswer]:"Непонятный ответ",[i.KitUniproxyFeedbackReason.OffensiveAnswer]:"Неприемлемый или оскорбительный ответ",[i.KitUniproxyFeedbackReason.Other]:"Другое"};function ye(t){(0,x.qOq)(t,"svelte-1n2o7ej",".feedback.svelte-1n2o7ej{position:relative;padding:20px 16px 16px 24px;border:1px solid var(--border-color);border-radius:24px;background-color:var(--bg-color)}.feedback__close.svelte-1n2o7ej{position:absolute;top:8px;right:8px;width:32px;height:32px;padding:0;cursor:pointer;text-align:center;line-height:32px;border:none;border-radius:16px;background-color:var(--bg-color)}.feedback__close.svelte-1n2o7ej svg{display:inline-block;vertical-align:middle}.feedback__close.svelte-1n2o7ej:active{background-color:var(--user-bubble-color)}@media(hover: hover) and (pointer: fine){.feedback__close.svelte-1n2o7ej:hover{background-color:var(--user-bubble-color)}}.feedback__title.svelte-1n2o7ej{margin-bottom:12px;font-size:16px;line-height:20px;font-weight:500;color:var(--text-primary-color)}.feedback__buttons.svelte-1n2o7ej{display:flex;flex-wrap:wrap}.feedback__button.svelte-1n2o7ej{margin:0 8px 8px 0;padding:0 12px;height:36px;font-size:14px;line-height:36px;font-weight:500;white-space:nowrap;border:none;border-radius:8px;cursor:pointer;color:var(--text-primary-color);background-color:var(--user-bubble-color);transition:color 0.15s ease-out,\n            background-color 0.15s ease-out}.feedback__button.svelte-1n2o7ej:active,.feedback__button_active.svelte-1n2o7ej{color:var(--brand-color);background-color:var(--alisa-bubble-color)}@media(hover: hover) and (pointer: fine){.feedback__button.svelte-1n2o7ej:hover{color:var(--brand-color);background-color:var(--alisa-bubble-color)}}")}function ve(t,e,i){const n=t.slice();return n[5]=e[i],n}function be(t,e){let i,n,r,s,o,a=ge[e[5]]+"";return{key:t,first:null,c(){i=(0,x.bGB)("button"),n=(0,x.fLW)(a),this.h()},l(t){i=(0,x.vT0)(t,"BUTTON",{class:!0,"data-reason":!0});var e=(0,x.pIy)(i);n=(0,x.Bno)(e,a),e.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","feedback__button svelte-1n2o7ej"),(0,x.Ljt)(i,"data-reason",r=e[5]),(0,x.VHj)(i,"feedback__button_active",e[5]===e[1]),this.first=i},m(t,r){(0,x.ZMF)(t,i,r),(0,x.ztY)(i,n),s||(o=(0,x.oLt)(i,"click",e[2]),s=!0)},p(t,n){e=t,2&n&&(0,x.VHj)(i,"feedback__button_active",e[5]===e[1])},d(t){t&&(0,x.ogt)(i),s=!1,o()}}}function _e(t){let e,i,n,r,s,o,a,l,c,d="Что не так?",h=[],p=new Map,u=(0,x.NXn)(me);const f=t=>t[5];for(let e=0;e<u.length;e+=1){let i=ve(t,u,e),n=f(i);p.set(n,h[e]=be(n,i))}return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("button"),n=new x.Tv0(!1),r=(0,x.DhX)(),s=(0,x.bGB)("div"),s.textContent=d,o=(0,x.DhX)(),a=(0,x.bGB)("div");for(let t=0;t<h.length;t+=1)h[t].c();this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var l=(0,x.pIy)(e);i=(0,x.vT0)(l,"BUTTON",{class:!0});var c=(0,x.pIy)(i);n=(0,x.a7E)(c,!1),c.forEach(x.ogt),r=(0,x.qzd)(l),s=(0,x.vT0)(l,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-18gger6"!==(0,x.nSQ)(s)&&(s.textContent=d),o=(0,x.qzd)(l),a=(0,x.vT0)(l,"DIV",{class:!0});var p=(0,x.pIy)(a);for(let t=0;t<h.length;t+=1)h[t].l(p);p.forEach(x.ogt),l.forEach(x.ogt),this.h()},h(){n.a=null,(0,x.Ljt)(i,"class","feedback__close svelte-1n2o7ej"),(0,x.Ljt)(s,"class","feedback__title svelte-1n2o7ej"),(0,x.Ljt)(a,"class","feedback__buttons svelte-1n2o7ej"),(0,x.Ljt)(e,"class","feedback svelte-1n2o7ej")},m(d,p){(0,x.ZMF)(d,e,p),(0,x.ztY)(e,i),n.m(fe,i),(0,x.ztY)(e,r),(0,x.ztY)(e,s),(0,x.ztY)(e,o),(0,x.ztY)(e,a);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(a,null);l||(c=(0,x.oLt)(i,"click",(function(){(0,x.sBU)(t[0])&&t[0].apply(this,arguments)})),l=!0)},p(e,[i]){t=e,6&i&&(u=(0,x.NXn)(me),h=(0,x.GQg)(h,i,f,1,t,u,p,a,x.OCq,be,null,ve))},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e);for(let t=0;t<h.length;t+=1)h[t].d();l=!1,c()}}}function xe(e,i,n){let{requestId:r}=i,{close:s}=i;const{toastStore:o}=(0,M.Mn)();let a=null;return e.$$set=t=>{"requestId"in t&&n(3,r=t.requestId),"close"in t&&n(0,s=t.close)},[s,a,e=>{n(1,a=e.currentTarget.getAttribute("data-reason")),null!==a&&(M.xx.emit("stat",{path:"context_menu.feedback_reason",eventType:"click",customParams:{value:r,reason:a}}),(0,t.sendExtendedFeedback)(r,a),o.create({type:Ot.p.SUCCESS,text:"Спасибо за уточнение",statName:"notifier.thanks_for_reason_notification"}),s())},r]}class ke extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,xe,_e,x.N8,{requestId:3,close:0},ye)}}const we=ke;function Ce(t){(0,x.qOq)(t,"svelte-8mb9ja",".context_menu_container.svelte-8mb9ja{position:absolute;z-index:1;top:0;left:0;bottom:-48px;right:0;pointer-events:none}.context_menu_container_static.svelte-8mb9ja{position:relative}.context_menu_container_last.svelte-8mb9ja{bottom:-8px}.context_menu_container.svelte-8mb9ja::before{content:'';display:block;height:calc(100% - 40px);pointer-events:none}.context_menu_container.svelte-8mb9ja::after{content:'';position:absolute;z-index:1;left:0;right:0;bottom:0;height:48px;pointer-events:all}.context_menu_feedback_last.svelte-8mb9ja{margin-bottom:-44px}.context_menu.svelte-8mb9ja{position:sticky;z-index:2;bottom:24px;width:-moz-min-content;width:min-content;min-width:0;display:flex;pointer-events:all}.context_menu-offset.svelte-8mb9ja{bottom:70px}.context_menu__menu_container.svelte-8mb9ja{padding:8px;margin:-8px}.context_menu__menu.svelte-8mb9ja{position:relative;display:flex;margin:0;padding:4px 0 4px 4px}.context_menu__menu.svelte-8mb9ja::after{content:'';position:absolute;z-index:-1;top:0;right:0;bottom:0;left:0;border-radius:20px;background-color:var(--menu-bg-color);box-shadow:0px 4px 24px 0px var(--box-shadow-color);opacity:0;transition:opacity 0.2s ease-in-out}.context_menu__menu-shadow.svelte-8mb9ja::after{opacity:1}.context_menu__button.svelte-8mb9ja{width:32px;height:32px;line-height:32px;text-align:center;padding:0;margin:0 4px 0 0;border:none;border-radius:16px;cursor:pointer;background-color:transparent;transition:background-color 0.3s ease}.context_menu__button.svelte-8mb9ja svg{display:inline-block;vertical-align:middle}.context_menu__button-rotate.svelte-8mb9ja svg{transform:rotate(180deg)}.context_menu__button-active.svelte-8mb9ja{background-color:var(--menu-bg-color-active)}.context_menu__button.svelte-8mb9ja:active{background-color:var(--menu-bg-color-hover)}@media(hover: hover) and (pointer: fine){.context_menu__button.svelte-8mb9ja:hover{background-color:var(--menu-bg-color-hover)}.context_menu__button.svelte-8mb9ja:active{background-color:var(--menu-bg-color-active)}}.context_menu__more.svelte-8mb9ja{position:absolute;padding:4px 8px}")}function Ee(t){let e,i,n,r;return{c(){e=(0,x.bGB)("button"),i=new x.Tv0(!1),this.h()},l(t){e=(0,x.vT0)(t,"BUTTON",{class:!0});var n=(0,x.pIy)(e);i=(0,x.a7E)(n,!1),n.forEach(x.ogt),this.h()},h(){i.a=null,(0,x.Ljt)(e,"class","context_menu__button svelte-8mb9ja")},m(s,o){(0,x.ZMF)(s,e,o),i.m(le,e),n||(r=(0,x.oLt)(e,"click",t[20]),n=!0)},p:x.ZTd,d(t){t&&(0,x.ogt)(e),n=!1,r()}}}function Se(t){let e,i,n;return i=new ae({props:{items:t[10],collapsed:!1}}),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","context_menu__more svelte-8mb9ja"),(0,x.czc)(e,"top",t[8].top),(0,x.czc)(e,"bottom",t[8].bottom),(0,x.czc)(e,"left",t[8].left)},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,n){const r={};1024&n[0]&&(r.items=t[10]),i.$set(r),256&n[0]&&(0,x.czc)(e,"top",t[8].top),256&n[0]&&(0,x.czc)(e,"bottom",t[8].bottom),256&n[0]&&(0,x.czc)(e,"left",t[8].left)},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function $e(t){let e,i,n;return i=new we({props:{requestId:t[0],close:t[19]}}),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","context_menu_feedback svelte-8mb9ja"),(0,x.VHj)(e,"context_menu_feedback_last",t[2])},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,r){const s={};1&r[0]&&(s.requestId=t[0]),i.$set(s),(!n||4&r[0])&&(0,x.VHj)(e,"context_menu_feedback_last",t[2])},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function Me(t){let e,i,n,r,s,o,a,l,c,d,h,p,u,f,m,g,y,v,b,_,k=t[16](t[1]===Lt.MessageMark.GOOD)+"",w=t[16](t[1]===Lt.MessageMark.BAD)+"",C=t[4]&&Ee(t),E=t[12].params.showMore&&Se(t),S=t[12].params.showFeedback&&$e(t);return{c(){e=(0,x.DhX)(),i=(0,x.bGB)("div"),n=(0,x.bGB)("div"),r=(0,x.bGB)("div"),s=(0,x.bGB)("menu"),o=(0,x.bGB)("button"),a=new x.Tv0(!1),l=(0,x.DhX)(),c=(0,x.bGB)("button"),d=new x.Tv0(!1),h=(0,x.DhX)(),C&&C.c(),p=(0,x.DhX)(),u=(0,x.bGB)("button"),f=new x.Tv0(!1),m=(0,x.DhX)(),E&&E.c(),g=(0,x.DhX)(),S&&S.c(),y=(0,x.cSb)(),this.h()},l(t){e=(0,x.qzd)(t),i=(0,x.vT0)(t,"DIV",{class:!0});var v=(0,x.pIy)(i);n=(0,x.vT0)(v,"DIV",{class:!0});var b=(0,x.pIy)(n);r=(0,x.vT0)(b,"DIV",{class:!0});var _=(0,x.pIy)(r);s=(0,x.vT0)(_,"MENU",{class:!0});var k=(0,x.pIy)(s);o=(0,x.vT0)(k,"BUTTON",{class:!0});var w=(0,x.pIy)(o);a=(0,x.a7E)(w,!1),w.forEach(x.ogt),l=(0,x.qzd)(k),c=(0,x.vT0)(k,"BUTTON",{class:!0});var $=(0,x.pIy)(c);d=(0,x.a7E)($,!1),$.forEach(x.ogt),h=(0,x.qzd)(k),C&&C.l(k),p=(0,x.qzd)(k),u=(0,x.vT0)(k,"BUTTON",{class:!0});var M=(0,x.pIy)(u);f=(0,x.a7E)(M,!1),M.forEach(x.ogt),k.forEach(x.ogt),_.forEach(x.ogt),m=(0,x.qzd)(b),E&&E.l(b),b.forEach(x.ogt),v.forEach(x.ogt),g=(0,x.qzd)(t),S&&S.l(t),y=(0,x.cSb)(),this.h()},h(){a.a=null,(0,x.Ljt)(o,"class","context_menu__button svelte-8mb9ja"),(0,x.VHj)(o,"context_menu_button-active",t[1]===Lt.MessageMark.GOOD),d.a=null,(0,x.Ljt)(c,"class","context_menu__button context_menu__button-rotate svelte-8mb9ja"),(0,x.VHj)(c,"context_menu__button-active",t[1]===Lt.MessageMark.BAD),f.a=null,(0,x.Ljt)(u,"class","context_menu__button svelte-8mb9ja"),(0,x.VHj)(u,"context_menu__button-active",t[12].params.showMore),(0,x.Ljt)(s,"class","context_menu__menu svelte-8mb9ja"),(0,x.VHj)(s,"context_menu__menu-shadow",!t[12].params.showFeedback&&(t[9]||!t[2]||!t[3])),(0,x.Ljt)(r,"class","context_menu__menu_container svelte-8mb9ja"),(0,x.Ljt)(n,"class","context_menu svelte-8mb9ja"),(0,x.VHj)(n,"context_menu-offset",t[15]&&t[6].showTryPro&&t[6].isTrialInfoLoaded),(0,x.Ljt)(i,"class","context_menu_container svelte-8mb9ja"),(0,x.VHj)(i,"context_menu_container_static",t[12].params.showFeedback),(0,x.VHj)(i,"context_menu_container_last",t[2])},m($,M){(0,x.ZMF)($,e,M),(0,x.ZMF)($,i,M),(0,x.ztY)(i,n),(0,x.ztY)(n,r),(0,x.ztY)(r,s),(0,x.ztY)(s,o),a.m(k,o),(0,x.ztY)(s,l),(0,x.ztY)(s,c),d.m(w,c),(0,x.ztY)(s,h),C&&C.m(s,null),(0,x.ztY)(s,p),(0,x.ztY)(s,u),f.m(he,u),(0,x.ztY)(n,m),E&&E.m(n,null),t[27](n),(0,x.ZMF)($,g,M),S&&S.m($,M),(0,x.ZMF)($,y,M),v=!0,b||(_=[(0,x.oLt)(document.body,"click",t[26]),(0,x.oLt)(o,"click",t[17]),(0,x.oLt)(c,"click",t[18]),(0,x.oLt)(u,"click",t[21]),(0,x.oLt)(n,"click",(0,x.XET)(t[25]))],b=!0)},p(t,e){(!v||2&e[0])&&k!==(k=t[16](t[1]===Lt.MessageMark.GOOD)+"")&&a.p(k),(!v||2&e[0])&&(0,x.VHj)(o,"context_menu_button-active",t[1]===Lt.MessageMark.GOOD),(!v||2&e[0])&&w!==(w=t[16](t[1]===Lt.MessageMark.BAD)+"")&&d.p(w),(!v||2&e[0])&&(0,x.VHj)(c,"context_menu__button-active",t[1]===Lt.MessageMark.BAD),t[4]?C?C.p(t,e):(C=Ee(t),C.c(),C.m(s,p)):C&&(C.d(1),C=null),(!v||4096&e[0])&&(0,x.VHj)(u,"context_menu__button-active",t[12].params.showMore),(!v||4620&e[0])&&(0,x.VHj)(s,"context_menu__menu-shadow",!t[12].params.showFeedback&&(t[9]||!t[2]||!t[3])),t[12].params.showMore?E?(E.p(t,e),4096&e[0]&&(0,x.Ui)(E,1)):(E=Se(t),E.c(),(0,x.Ui)(E,1),E.m(n,null)):E&&((0,x.dvw)(),(0,x.etI)(E,1,1,(()=>{E=null})),(0,x.gbL)()),(!v||32832&e[0])&&(0,x.VHj)(n,"context_menu-offset",t[15]&&t[6].showTryPro&&t[6].isTrialInfoLoaded),(!v||4096&e[0])&&(0,x.VHj)(i,"context_menu_container_static",t[12].params.showFeedback),(!v||4&e[0])&&(0,x.VHj)(i,"context_menu_container_last",t[2]),t[12].params.showFeedback?S?(S.p(t,e),4096&e[0]&&(0,x.Ui)(S,1)):(S=$e(t),S.c(),(0,x.Ui)(S,1),S.m(y.parentNode,y)):S&&((0,x.dvw)(),(0,x.etI)(S,1,1,(()=>{S=null})),(0,x.gbL)())},i(t){v||((0,x.Ui)(E),(0,x.Ui)(S),v=!0)},o(t){(0,x.etI)(E),(0,x.etI)(S),v=!1},d(n){n&&((0,x.ogt)(e),(0,x.ogt)(i),(0,x.ogt)(g),(0,x.ogt)(y)),C&&C.d(),E&&E.d(),t[27](null),S&&S.d(n),b=!1,(0,x.j7q)(_)}}}const Ie=".chat__scrollable";function De(t,e,i){let n,r,s,o,a,l,c=x.ZTd,d=()=>(c(),c=(0,x.LdU)(b,(t=>i(12,s=t))),b),h=x.ZTd;t.$$.on_destroy.push((()=>c())),t.$$.on_destroy.push((()=>h()));let{requestId:p}=e,{mark:u}=e,{sources:f}=e,{isLast:m=!1}=e,{isCurrentSession:g=!1}=e,{canCopy:y=!1}=e,{onCopy:v}=e,{contextMenu:b}=e;d();const{allChatsStore:_,status:w,links:C,toastStore:E,isEnableProTestExp:S}=(0,M.Mn)();(0,x.FIv)(t,_,(t=>i(6,l=t))),(0,x.FIv)(t,C,(t=>i(24,o=t)));const $=(0,k.fw)(Vt),I=(0,k.fw)(zt.kU),D=w===Ft.O.BASE_UNLOGGED;let T=null;const P={top:"44px",bottom:"auto",left:"104px"},A=()=>{b.updateParams({showMore:!1}),M.xx.emit("stat",{path:"context_menu.new_chat",customParams:{value:p},eventType:"click"}),_.createChatWithMessages([p]).then((t=>{t&&E.create({type:Ot.p.SUCCESS,text:"Новый чат создан",statName:"notifier.new_chat_notification"})}))},j=()=>{b.updateParams({showMore:!1}),M.xx.emit("stat",{path:"context_menu.remove",eventType:"click",customParams:{value:p}}),$.preventScrollResize=!0,n.hideMessagesByRequestId(p);const t=l.activeChatId,e=!n.isDefault&&!a.messages.filter((t=>!t.hidden)).length;e&&_.setHiddenChat(t,!0);const i=e?"Чат удален":"Сообщение удалено",r=e?"notifier.chat_deletion_notification":"notifier.message_deletion_notification",{id:s}=E.create({text:i,statName:r,onCancel:()=>($.preventScrollResize=!0,e&&(_.setHiddenChat(t,!1),_.setActiveChatId(t)),n.assignToMessagesByRequestId(p,{hidden:!1})),onDestroy:o=>(o&&E.replace(s,{type:Ot.p.SUCCESS,text:i,statName:r+"_success"}),e?(M.xx.emit("stat",{path:"notifier.chat_deletion_physically",customParams:{value:p},eventType:"show"}),_.removeChat(t)):(M.xx.emit("stat",{path:"notifier.message_deletion_physically",customParams:{value:p},eventType:"show"}),n.removeMessagesByRequestId(p)))})},L=()=>{b.updateParams({showMore:!1}),M.xx.emit("stat",{eventType:"click",path:"context_menu.source"})};let O=!1;return(0,k.H3)((()=>I.on(((t,e)=>{i(9,O=e-t>4)})))),(0,k.ev)((()=>{b.updateParams({showMore:!1,showFeedback:!1})})),t.$$set=t=>{"requestId"in t&&i(0,p=t.requestId),"mark"in t&&i(1,u=t.mark),"sources"in t&&i(22,f=t.sources),"isLast"in t&&i(2,m=t.isLast),"isCurrentSession"in t&&i(3,g=t.isCurrentSession),"canCopy"in t&&i(4,y=t.canCopy),"onCopy"in t&&i(23,v=t.onCopy),"contextMenu"in t&&d(i(5,b=t.contextMenu))},t.$$.update=()=>{64&t.$$.dirty[0]&&(i(11,n=l.currentChat),h(),h=(0,x.LdU)(n,(t=>i(29,a=t)))),20971520&t.$$.dirty[0]&&i(10,r=[{text:"Новый чат",icon:pe,href:D?o.login:void 0,target:"_self",onClick:A},{text:"Удалить",icon:ue,onClick:j},...(0,Bt.e)(f,L)])},[p,u,m,g,y,b,l,T,P,O,r,n,s,_,C,S,t=>t?ce:de,()=>{s.params.showFeedback&&($.preventScrollResize=!0),b.updateParams({showMore:!1,showFeedback:!1}),M.xx.emit("stat",{path:"context_menu.good_answer",eventType:"click",customParams:{value:p}}),n.setMarkMessagesByRequestId(p,Lt.MessageMark.GOOD)&&E.create({type:Ot.p.SUCCESS,text:"Спасибо за оценку",statName:"notifier.thanks_for_rating_notification"})},()=>{$.preventScrollResize=!0,b.updateParams({showMore:!1,showFeedback:u!==Lt.MessageMark.BAD}),M.xx.emit("stat",{path:"context_menu.bad_answer",eventType:"click",customParams:{value:p}}),n.setMarkMessagesByRequestId(p,Lt.MessageMark.BAD)&&E.create({type:Ot.p.SUCCESS,text:"Спасибо за оценку",statName:"notifier.thanks_for_rating_notification"})},()=>{$.preventScrollResize=!0,b.updateParams({showFeedback:!1})},()=>{b.updateParams({showMore:!1}),M.xx.emit("stat",{path:"context_menu.copy",eventType:"click",customParams:{value:p}}),v(),E.create({type:Ot.p.SUCCESS,text:"Сообщение скопировано",statName:"notifier.message_copy_notification"})},()=>{if(s.params.showMore)return void b.updateParams({showMore:!1});if(!T)return;const t=T.closest(Ie);if(!t)return;const e=T.getBoundingClientRect(),n=t.getBoundingClientRect(),o=r.length,a=40*o+4*(o+3);e.bottom+a>n.bottom?(i(8,P.top="auto",P),i(8,P.bottom="40px",P)):(i(8,P.top="40px",P),i(8,P.bottom="auto",P)),i(8,P.left=y?"104px":"68px",P),b.updateParams({showMore:!0}),M.xx.emit("stat",{path:"context_menu.more",eventType:"click",customParams:{value:p}})},f,v,o,function(e){x.cKT.call(this,t,e)},()=>b.updateParams({showMore:!1}),function(t){x.VnY[t?"unshift":"push"]((()=>{T=t,i(7,T)}))}]}class Te extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,De,Me,x.N8,{requestId:0,mark:1,sources:22,isLast:2,isCurrentSession:3,canCopy:4,onCopy:23,contextMenu:5},Ce,[-1,-1])}}const Pe=Te;var Ae=__webpack_require__(7258),je=__webpack_require__(7148);const Le='<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect width="40" height="40" rx="11" fill="#FC3F1D"/>\n<path d="M22.8095 32H27V8H20.9048C14.7749 8 11.5541 11.1424 11.5541 15.7698C11.5541 19.4647 13.3203 21.6403 16.4719 23.8849L11 32H15.5368L21.632 22.918L19.5195 21.5022C16.9567 19.7755 15.71 18.4288 15.71 15.5281C15.71 12.9727 17.5108 11.246 20.9394 11.246H22.8095V32Z" fill="white"/>\n<circle cx="30" cy="30" r="5" fill="#7A55FF"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M27.2527 31.8202C27.6833 32.2423 28.8308 32.4952 30.0003 32.4999C31.1698 32.4952 32.3173 32.2423 32.7473 31.8202C33.8177 30.7723 31.2164 26.7558 30.0015 26.7499C28.7836 26.7558 26.1823 30.7723 27.2527 31.8202Z" fill="white"/>\n</svg>\n',Oe='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="checkradio control">\n<circle id="base" cx="8.00065" cy="7.99992" r="6.66667" fill="black" fill-opacity="0.8"/>\n<path id="check" d="M7.71239 10.282C7.32007 10.6778 6.68126 10.6753 6.29047 10.2779C5.61953 9.59573 4.69212 8.65297 4.52919 8.48832C4.26891 8.22531 4.26891 7.79369 4.52919 7.53067C4.78947 7.26765 5.20992 7.26765 5.4702 7.53067C5.52987 7.59097 5.58053 7.64326 5.62318 7.68806C5.7575 7.82917 5.88684 7.97504 6.02155 8.11578L7.00065 9.13872L8.14351 7.94469C8.16912 7.91794 8.19365 7.89271 8.21969 7.8664C8.50307 7.58004 10.2916 5.77274 10.5311 5.53067C10.7914 5.26765 11.2118 5.26765 11.4721 5.53067C11.7324 5.79369 11.7324 6.22531 11.4721 6.48832C11.2796 6.68289 8.9249 9.05864 7.71239 10.282Z" fill="white"/>\n</g>\n</svg>\n',Fe='<svg width="15" height="16" viewBox="0 0 15 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n<g id="Frame">\n<path id="Vector" d="M9.2601 2.69969L9.8301 1.66969C9.84147 1.65035 9.84667 1.62801 9.84498 1.60564C9.84329 1.58327 9.83481 1.56195 9.82066 1.54454C9.80652 1.52713 9.78739 1.51446 9.76584 1.50823C9.74429 1.502 9.72135 1.50251 9.7001 1.50969C9.67139 1.51713 9.64645 1.53494 9.6301 1.55969L9.0601 2.58969C8.5699 2.37459 8.04041 2.26354 7.5051 2.26354C6.96979 2.26354 6.4403 2.37459 5.9501 2.58969L5.3701 1.55969C5.35162 1.54234 5.32813 1.53129 5.30299 1.52812C5.27784 1.52495 5.25234 1.52982 5.23014 1.54203C5.20793 1.55425 5.19016 1.57317 5.17938 1.59611C5.16859 1.61904 5.16534 1.6448 5.1701 1.66969L5.7401 2.68969C5.2002 2.95564 4.74388 3.36501 4.42111 3.87299C4.09833 4.38096 3.92155 4.96795 3.9101 5.56969H11.0901C11.0779 4.96941 10.9008 4.38406 10.578 3.87781C10.2552 3.37157 9.79921 2.96396 9.2601 2.69969ZM5.8401 4.24969C5.76053 4.24969 5.68423 4.21808 5.62797 4.16182C5.57171 4.10556 5.5401 4.02925 5.5401 3.94969C5.5401 3.87012 5.57171 3.79382 5.62797 3.73756C5.68423 3.6813 5.76053 3.64969 5.8401 3.64969C5.91966 3.64969 5.99597 3.6813 6.05223 3.73756C6.10849 3.79382 6.1401 3.87012 6.1401 3.94969C6.1401 4.02925 6.10849 4.10556 6.05223 4.16182C5.99597 4.21808 5.91966 4.24969 5.8401 4.24969ZM9.1601 4.24969C9.08053 4.24969 9.00423 4.21808 8.94797 4.16182C8.89171 4.10556 8.8601 4.02925 8.8601 3.94969C8.8601 3.87012 8.89171 3.79382 8.94797 3.73756C9.00423 3.6813 9.08053 3.64969 9.1601 3.64969C9.23966 3.64969 9.31597 3.6813 9.37223 3.73756C9.42849 3.79382 9.4601 3.87012 9.4601 3.94969C9.4601 4.02925 9.42849 4.10556 9.37223 4.16182C9.31597 4.21808 9.23966 4.24969 9.1601 4.24969ZM3.9101 11.0497C3.91273 11.2787 4.00555 11.4974 4.16842 11.6584C4.3313 11.8194 4.55108 11.9097 4.7801 11.9097H5.3601V13.6897C5.36036 13.8483 5.40778 14.0033 5.49633 14.1349C5.58488 14.2665 5.71056 14.3689 5.8574 14.4289C6.00424 14.4889 6.16561 14.5039 6.321 14.472C6.47639 14.4401 6.61879 14.3627 6.7301 14.2497C6.80593 14.1754 6.8662 14.0867 6.90741 13.9888C6.94861 13.891 6.96992 13.7859 6.9701 13.6797V11.9097H8.0401V13.6897C8.04036 13.8483 8.08778 14.0033 8.17633 14.1349C8.26488 14.2665 8.39056 14.3689 8.5374 14.4289C8.68424 14.4889 8.84561 14.5039 9.001 14.472C9.15639 14.4401 9.29879 14.3627 9.4101 14.2497C9.56083 14.102 9.64709 13.9007 9.6501 13.6897V11.9097H10.2201C10.4491 11.9097 10.6689 11.8194 10.8318 11.6584C10.9946 11.4974 11.0875 11.2787 11.0901 11.0497V5.84969H3.9101V11.0497ZM2.8101 5.70969C2.7042 5.70836 2.5991 5.72808 2.50088 5.76769C2.40266 5.8073 2.31329 5.86602 2.23794 5.94044C2.16259 6.01486 2.10276 6.1035 2.06194 6.20121C2.02111 6.29893 2.00009 6.40378 2.0001 6.50969V9.85969C1.99801 9.99266 2.02911 10.124 2.09057 10.242C2.15203 10.3599 2.24192 10.4607 2.35211 10.5351C2.4623 10.6096 2.58932 10.6554 2.72166 10.6684C2.85401 10.6814 2.98751 10.6612 3.1101 10.6097C3.25916 10.5494 3.38659 10.4456 3.47578 10.3118C3.56497 10.178 3.61178 10.0205 3.6101 9.85969V6.51969C3.6101 6.30751 3.52581 6.10403 3.37578 5.954C3.22575 5.80397 3.02227 5.71969 2.8101 5.71969V5.70969ZM12.2001 5.70969C12.095 5.70969 11.991 5.73038 11.894 5.77058C11.7969 5.81079 11.7087 5.86972 11.6344 5.944C11.5601 6.01829 11.5012 6.10648 11.461 6.20354C11.4208 6.3006 11.4001 6.40463 11.4001 6.50969V9.85969C11.4001 9.96475 11.4208 10.0688 11.461 10.1658C11.5012 10.2629 11.5601 10.3511 11.6344 10.4254C11.7087 10.4997 11.7969 10.5586 11.894 10.5988C11.991 10.639 12.095 10.6597 12.2001 10.6597C12.3052 10.6597 12.4092 10.639 12.5062 10.5988C12.6033 10.5586 12.6915 10.4997 12.7658 10.4254C12.8401 10.3511 12.899 10.2629 12.9392 10.1658C12.9794 10.0688 13.0001 9.96475 13.0001 9.85969V6.51969C13.0001 6.41463 12.9794 6.3106 12.9392 6.21354C12.899 6.11648 12.8401 6.02829 12.7658 5.954C12.6915 5.87972 12.6033 5.82079 12.5062 5.78058C12.4092 5.74038 12.3052 5.71969 12.2001 5.71969V5.70969Z" />\n</g>\n</svg>\n',Be='<svg width="15" height="16" viewBox="0 0 15 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n<g id="Frame">\n<g id="Clip path group">\n<mask id="mask0_8924_153227" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="15" height="16">\n<g id="a">\n<path id="Vector" d="M0 0.5H15V15.5H0V0.5Z" fill="white"/>\n</g>\n</mask>\n<g mask="url(#mask0_8924_153227)">\n<g id="Group">\n<path id="Vector_2" d="M11.1597 12.98C10.4597 13.66 9.67967 13.56 8.92967 13.23C8.56065 13.0623 8.16001 12.9755 7.75467 12.9755C7.34934 12.9755 6.94869 13.0623 6.57967 13.23C5.53967 13.68 4.97967 13.55 4.35967 12.98C0.819674 9.35 1.33967 3.81 5.35967 3.61C6.33967 3.66 7.01967 4.15 7.59967 4.19C8.44967 4.02 9.26967 3.52 10.1897 3.59C11.2897 3.67 12.1097 4.1 12.6497 4.89C12.1787 5.15353 11.7922 5.54537 11.5352 6.01995C11.2782 6.49452 11.1612 7.03232 11.1979 7.57078C11.2345 8.10923 11.4233 8.62621 11.7423 9.06156C12.0613 9.49692 12.4973 9.83275 12.9997 10.03C12.6343 11.1537 12.0031 12.1725 11.1597 13V12.99V12.98ZM7.52967 3.57C7.49849 2.80924 7.76167 2.06571 8.2645 1.49397C8.76734 0.922228 9.47116 0.566241 10.2297 0.5C10.4497 2.36 8.52967 3.75 7.52967 3.57Z" />\n</g>\n</g>\n</g>\n</g>\n</svg>\n',Ve="Яндекс — с Алисой",ze="Быстрый поиск и Алиса всегда рядом",Ne={phoneIosInner:"https://yastatic.net/s3/home/alice_popup/promo_alice2/phone-inner-min.png",phoneIosWrapper:"https://yastatic.net/s3/home/alice_popup/promo_alice2/phone-wrapper-min.png",phoneAndroid:"https://yastatic.net/s3/home/alice_popup/image%2071-2.png"};function Re(t){(0,x.qOq)(t,"svelte-4o5h0",".alice-promo-standalone.svelte-4o5h0{width:100%;height:257px;display:flex;flex-direction:row}.alice-promo-standalone__left-wrapper.svelte-4o5h0{position:relative;flex-shrink:1;width:100%}.alice-promo-standalone__right-wrapper.svelte-4o5h0{position:relative;flex-shrink:2;width:0}.alice-promo-standalone__app-header.svelte-4o5h0{display:flex;flex-direction:row;margin-bottom:20px}.alice-promo-standalone__app-icon.svelte-4o5h0{width:40px;height:40px;margin-right:8px}.alice-promo-standalone__text-el.svelte-4o5h0{display:flex;flex-direction:row;align-items:center}.alice-promo-standalone__check-img.svelte-4o5h0{margin-right:4px}.alice-promo-standalone__check-img.svelte-4o5h0 svg{display:block}.alice-promo-standalone__app-description.svelte-4o5h0{margin-bottom:16px;display:flex;flex-direction:column;align-items:flex-start;gap:12px}.alice-promo-standalone__app-h1.svelte-4o5h0{color:var(--black-color);font-size:20px;font-style:normal;font-weight:700;line-height:24px}.alice-promo-standalone__app-h2.svelte-4o5h0,.alice-promo-standalone__text.svelte-4o5h0{color:var(--black-color);font-size:13px;font-style:normal;font-weight:400;line-height:16px}.alice-promo-standalone__text.svelte-4o5h0{margin:0}.alice-promo-standalone__app-links.svelte-4o5h0{display:flex;flex-direction:row;gap:8px}.alice-promo-standalone__qr-code.svelte-4o5h0{display:flex;flex-direction:row;gap:12px;padding:12px 16px 12px 12px;border-radius:12px;background-color:var(--white-color);align-items:center;width:175px}.alice-promo-standalone__app-qr.svelte-4o5h0{width:58px;height:58px}.alice-promo-standalone__mobile-links.svelte-4o5h0{display:flex;flex-direction:column;justify-content:space-between}.alice-promo-standalone__link.svelte-4o5h0{padding:11px 11px 10px 11px;background-color:#fff;border-radius:12px;color:var(--black-color)}.alice-promo-standalone__link.svelte-4o5h0:hover{color:var(--brand-color)}.alice-promo-standalone__link.svelte-4o5h0 svg{display:block}.alice-promo-standalone__phone-img.svelte-4o5h0{position:absolute;top:24px;right:-80px}.alice-promo-standalone__phone-img_wrapper.svelte-4o5h0{position:relative;width:183px}.alice-promo-standalone__phone-img_inner.svelte-4o5h0{position:absolute;width:143px;left:20px;top:19px}@media(min-width: 830px){.alice-promo-standalone__right-wrapper.svelte-4o5h0{width:100%}.alice-promo-standalone__phone-img.svelte-4o5h0{top:5px;right:-20px}}@media(min-width: 1000px){.alice-promo-standalone__phone-img.svelte-4o5h0{top:-12px;right:16px}.alice-promo-standalone__phone-img_wrapper.svelte-4o5h0{width:253px}.alice-promo-standalone__phone-img_inner.svelte-4o5h0{width:197px;left:29px;top:27px}}@media(min-width: 1024px){.alice-promo-standalone__phone-img.svelte-4o5h0{right:-20px}.alice-promo-standalone__phone-img_wrapper.svelte-4o5h0{width:237px}.alice-promo-standalone__phone-img_inner.svelte-4o5h0{width:185px;left:27px;top:25px}}@media(min-width: 1070px){.alice-promo-standalone__phone-img.svelte-4o5h0{right:-10px}.alice-promo-standalone__phone-img_wrapper.svelte-4o5h0{width:253px}.alice-promo-standalone__phone-img_inner.svelte-4o5h0{width:197px;left:29px;top:27px}}@media(min-width: 1100px){.alice-promo-standalone__phone-img.svelte-4o5h0{right:16px}}")}function Ue(t,e,i){const n=t.slice();return n[8]=e[i],n}function He(t){let e,i,n,r,s,o,a,l=t[8]+"";return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),n=new x.Tv0(!1),r=(0,x.DhX)(),s=(0,x.bGB)("p"),o=(0,x.fLW)(l),a=(0,x.DhX)(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var c=(0,x.pIy)(e);i=(0,x.vT0)(c,"DIV",{class:!0});var d=(0,x.pIy)(i);n=(0,x.a7E)(d,!1),d.forEach(x.ogt),r=(0,x.qzd)(c),s=(0,x.vT0)(c,"P",{class:!0});var h=(0,x.pIy)(s);o=(0,x.Bno)(h,l),h.forEach(x.ogt),a=(0,x.qzd)(c),c.forEach(x.ogt),this.h()},h(){n.a=null,(0,x.Ljt)(i,"class","alice-promo-standalone__check-img svelte-4o5h0"),(0,x.Ljt)(s,"class","alice-promo-standalone__text svelte-4o5h0"),(0,x.Ljt)(e,"class","alice-promo-standalone__text-el svelte-4o5h0")},m(t,l){(0,x.ZMF)(t,e,l),(0,x.ztY)(e,i),n.m(Oe,i),(0,x.ztY)(e,r),(0,x.ztY)(e,s),(0,x.ztY)(s,o),(0,x.ztY)(e,a)},p:x.ZTd,d(t){t&&(0,x.ogt)(e)}}}function qe(t){let e,i,n,r,s,o,a,l,c,d,h,p,u,f,m,g,y,v,b,_,k,w,C,E,S,$,M,I,D,T,P,A,j="Cчитайте QR-код камерой вашего телефона",L=`<div class="alice-promo-standalone__phone-img svelte-4o5h0"><img class="alice-promo-standalone__phone-img_inner svelte-4o5h0" src="${Ne.phoneIosInner}" alt="Приложение"/> <img class="alice-promo-standalone__phone-img_wrapper svelte-4o5h0" src="${Ne.phoneIosWrapper}" alt="Приложение"/></div>`,O=(0,x.NXn)(t[5]),F=[];for(let e=0;e<O.length;e+=1)F[e]=He(Ue(t,O,e));return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),n=(0,x.bGB)("div"),r=(0,x.bGB)("div"),s=new x.Tv0(!1),o=(0,x.DhX)(),a=(0,x.bGB)("div"),l=(0,x.bGB)("div"),c=(0,x.fLW)(Ve),d=(0,x.DhX)(),h=(0,x.bGB)("div"),p=(0,x.fLW)(ze),u=(0,x.DhX)(),f=(0,x.bGB)("div");for(let t=0;t<F.length;t+=1)F[t].c();m=(0,x.DhX)(),g=(0,x.bGB)("div"),y=(0,x.bGB)("div"),v=(0,x.bGB)("img"),_=(0,x.DhX)(),k=(0,x.bGB)("p"),k.textContent=j,w=(0,x.DhX)(),C=(0,x.bGB)("div"),E=(0,x.bGB)("a"),S=new x.Tv0(!1),$=(0,x.DhX)(),M=(0,x.bGB)("a"),I=new x.Tv0(!1),D=(0,x.DhX)(),T=(0,x.bGB)("div"),T.innerHTML=L,this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0,style:!0});var b=(0,x.pIy)(e);i=(0,x.vT0)(b,"DIV",{class:!0});var P=(0,x.pIy)(i);n=(0,x.vT0)(P,"DIV",{class:!0});var A=(0,x.pIy)(n);r=(0,x.vT0)(A,"DIV",{class:!0});var O=(0,x.pIy)(r);s=(0,x.a7E)(O,!1),O.forEach(x.ogt),o=(0,x.qzd)(A),a=(0,x.vT0)(A,"DIV",{class:!0});var B=(0,x.pIy)(a);l=(0,x.vT0)(B,"DIV",{class:!0});var V=(0,x.pIy)(l);c=(0,x.Bno)(V,Ve),V.forEach(x.ogt),d=(0,x.qzd)(B),h=(0,x.vT0)(B,"DIV",{class:!0});var z=(0,x.pIy)(h);p=(0,x.Bno)(z,ze),z.forEach(x.ogt),B.forEach(x.ogt),A.forEach(x.ogt),u=(0,x.qzd)(P),f=(0,x.vT0)(P,"DIV",{class:!0});var N=(0,x.pIy)(f);for(let t=0;t<F.length;t+=1)F[t].l(N);N.forEach(x.ogt),m=(0,x.qzd)(P),g=(0,x.vT0)(P,"DIV",{class:!0});var R=(0,x.pIy)(g);y=(0,x.vT0)(R,"DIV",{class:!0});var U=(0,x.pIy)(y);v=(0,x.vT0)(U,"IMG",{class:!0,src:!0,alt:!0}),_=(0,x.qzd)(U),k=(0,x.vT0)(U,"P",{class:!0,"data-svelte-h":!0}),"svelte-1yb464e"!==(0,x.nSQ)(k)&&(k.textContent=j),U.forEach(x.ogt),w=(0,x.qzd)(R),C=(0,x.vT0)(R,"DIV",{class:!0});var H=(0,x.pIy)(C);E=(0,x.vT0)(H,"A",{class:!0,href:!0,target:!0});var q=(0,x.pIy)(E);S=(0,x.a7E)(q,!1),q.forEach(x.ogt),$=(0,x.qzd)(H),M=(0,x.vT0)(H,"A",{class:!0,href:!0,target:!0});var G=(0,x.pIy)(M);I=(0,x.a7E)(G,!1),G.forEach(x.ogt),H.forEach(x.ogt),R.forEach(x.ogt),P.forEach(x.ogt),D=(0,x.qzd)(b),T=(0,x.vT0)(b,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-ua7vdl"!==(0,x.nSQ)(T)&&(T.innerHTML=L),b.forEach(x.ogt),this.h()},h(){s.a=null,(0,x.Ljt)(r,"class","alice-promo-standalone__app-icon svelte-4o5h0"),(0,x.Ljt)(l,"class","alice-promo-standalone__app-h1 svelte-4o5h0"),(0,x.Ljt)(h,"class","alice-promo-standalone__app-h2 svelte-4o5h0"),(0,x.Ljt)(a,"class","alice-promo-standalone__header-description"),(0,x.Ljt)(n,"class","alice-promo-standalone__app-header svelte-4o5h0"),(0,x.Ljt)(f,"class","alice-promo-standalone__app-description svelte-4o5h0"),(0,x.Ljt)(v,"class","alice-promo-standalone__app-qr svelte-4o5h0"),(0,x.Jn4)(v.src,b=t[3])||(0,x.Ljt)(v,"src",b),(0,x.Ljt)(v,"alt","Приложение"),(0,x.Ljt)(k,"class","alice-promo-standalone__text svelte-4o5h0"),(0,x.Ljt)(y,"class","alice-promo-standalone__qr-code svelte-4o5h0"),S.a=null,(0,x.Ljt)(E,"class","alice-promo-standalone__link svelte-4o5h0"),(0,x.Ljt)(E,"href",t[2]),(0,x.Ljt)(E,"target","_blank"),I.a=null,(0,x.Ljt)(M,"class","alice-promo-standalone__link svelte-4o5h0"),(0,x.Ljt)(M,"href",t[1]),(0,x.Ljt)(M,"target","_blank"),(0,x.Ljt)(C,"class","alice-promo-standalone__mobile-links svelte-4o5h0"),(0,x.Ljt)(g,"class","alice-promo-standalone__app-links svelte-4o5h0"),(0,x.Ljt)(i,"class","alice-promo-standalone__left-wrapper svelte-4o5h0"),(0,x.Ljt)(T,"class","alice-promo-standalone__right-wrapper svelte-4o5h0"),(0,x.Ljt)(e,"class","alice-promo-standalone svelte-4o5h0"),(0,x.czc)(e,"--z-index",t[4]+1)},m(b,j){(0,x.ZMF)(b,e,j),(0,x.ztY)(e,i),(0,x.ztY)(i,n),(0,x.ztY)(n,r),s.m(Le,r),(0,x.ztY)(n,o),(0,x.ztY)(n,a),(0,x.ztY)(a,l),(0,x.ztY)(l,c),(0,x.ztY)(a,d),(0,x.ztY)(a,h),(0,x.ztY)(h,p),(0,x.ztY)(i,u),(0,x.ztY)(i,f);for(let t=0;t<F.length;t+=1)F[t]&&F[t].m(f,null);(0,x.ztY)(i,m),(0,x.ztY)(i,g),(0,x.ztY)(g,y),(0,x.ztY)(y,v),(0,x.ztY)(y,_),(0,x.ztY)(y,k),(0,x.ztY)(g,w),(0,x.ztY)(g,C),(0,x.ztY)(C,E),S.m(Fe,E),(0,x.ztY)(C,$),(0,x.ztY)(C,M),I.m(Be,M),(0,x.ztY)(e,D),(0,x.ztY)(e,T),P||(A=[(0,x.oLt)(E,"click",t[6]),(0,x.oLt)(M,"click",t[7])],P=!0)},p(t,[e]){if(32&e){let i;for(O=(0,x.NXn)(t[5]),i=0;i<O.length;i+=1){const n=Ue(t,O,i);F[i]?F[i].p(n,e):(F[i]=He(n),F[i].c(),F[i].m(f,null))}for(;i<F.length;i+=1)F[i].d(1);F.length=O.length}},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e),(0,x.RMB)(F,t),P=!1,(0,x.j7q)(A)}}}function Ge(t,e,i){let{outputBus:n}=e;const{promoUrlIos:r,promoUrlAndroid:s,promoQrLink:o,baseZIndex:a}=(0,k.fw)(M.f1);return(0,k.H3)((()=>{n.emit("stat",{path:"promo",eventType:"show"})})),t.$$set=t=>{"outputBus"in t&&i(0,n=t.outputBus)},[n,r,s,o,a,["Поиск текстом, картинкой или голосом","Умная камера ищет по голосу","Определитель номера","Поиск товаров и сравнение цен"],()=>{n.emit("stat",{path:"promo.android",eventType:"click",customParams:{url:s||""}})},()=>{n.emit("stat",{path:"promo.ios",eventType:"click",customParams:{url:r||""}})}]}class Ze extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Ge,qe,x.N8,{outputBus:0},Re)}}const Ye=Ze,We='<svg width="140" height="40" viewBox="0 0 140 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_8924_153377)">\n<mask id="mask0_8924_153377" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="140" height="40">\n<path d="M0 0H140V40H0V0Z" fill="white"/>\n</mask>\n<g mask="url(#mask0_8924_153377)">\n<path d="M134.74 40H5.26C4.58491 40.0227 3.91207 39.9107 3.28068 39.6707C2.64929 39.4307 2.07199 39.0674 1.58241 38.6021C1.09284 38.1367 0.70079 37.5785 0.429112 36.9601C0.157435 36.3417 0.0115633 35.6754 0 35L0 5C0 2.2 2.32 0 5.26 0H134.74C137.68 0 140 2.2 140 5V35C140 37.8 137.68 40 134.74 40Z" fill="black"/>\n<path d="M71 21.8018C70.4316 21.7881 69.8663 21.8899 69.3384 22.1012C68.8105 22.3124 68.331 22.6286 67.9289 23.0307C67.5269 23.4327 67.2106 23.9123 66.9994 24.4401C66.7882 24.968 66.6863 25.5333 66.7 26.1018C66.7 28.5018 68.6 30.4018 71 30.4018C73.4 30.4018 75.3 28.6018 75.3 26.1018C75.3 23.5018 73.4 21.8018 71 21.8018ZM71 28.6018C69.7 28.6018 68.6 27.5018 68.6 26.0018C68.6 24.5018 69.7 23.4018 71 23.4018C72.3 23.4018 73.4 24.4018 73.4 26.0018C73.4 27.5018 72.3 28.6018 71 28.6018ZM61.7 21.8018C61.1316 21.7881 60.5663 21.8899 60.0384 22.1012C59.5105 22.3124 59.031 22.6286 58.6289 23.0307C58.2269 23.4327 57.9106 23.9123 57.6994 24.4401C57.4882 24.968 57.3863 25.5333 57.4 26.1018C57.4 28.5018 59.3 30.4018 61.7 30.4018C64.1 30.4018 66 28.6018 66 26.1018C66 23.5018 64.1 21.8018 61.7 21.8018ZM61.7 28.6018C60.4 28.6018 59.3 27.5018 59.3 26.0018C59.3 24.5018 60.4 23.4018 61.7 23.4018C63 23.4018 64.1 24.4018 64.1 26.0018C64.1 27.5018 63 28.6018 61.7 28.6018ZM50.6 23.1018V24.9018H54.9C54.8 25.9018 54.4 26.7018 53.9 27.2018C53.3 27.8018 52.3 28.5018 50.6 28.5018C47.9 28.5018 45.9 26.4018 45.9 23.7018C45.8788 22.7661 46.1362 21.8452 46.6395 21.0562C47.1429 20.2671 47.8695 19.6456 48.7269 19.2704C49.5844 18.8953 50.534 18.7835 51.4551 18.9494C52.3762 19.1152 53.2272 19.5511 53.9 20.2018L55.2 18.9018C53.994 17.735 52.378 17.0886 50.7 17.1018C47.1 17.1018 44 20.1018 44 23.7018C44 27.3018 47.1 30.3018 50.7 30.3018C52.7 30.3018 54.1 29.7018 55.3 28.4018C56.5 27.2018 56.9 25.5018 56.9 24.2018C56.9 23.8018 56.9 23.4018 56.8 23.1018H50.6ZM96 24.5018C95.6 23.5018 94.6 21.8018 92.4 21.8018C90.2 21.8018 88.4 23.5018 88.4 26.1018C88.4 28.5018 90.2 30.4018 92.6 30.4018C94.5 30.4018 95.7 29.2018 96.1 28.5018L94.7 27.5018C94.2 28.2018 93.6 28.7018 92.6 28.7018C91.6 28.7018 91 28.3018 90.5 27.4018L96.2 25.0018L96 24.5018ZM90.2 25.9018C90.2 24.3018 91.5 23.4018 92.4 23.4018C93.1 23.4018 93.8 23.8018 94 24.3018L90.2 25.9018ZM85.5 30.0018H87.4V17.5018H85.5V30.0018ZM82.5 22.7018C82 22.2018 81.2 21.7018 80.2 21.7018C79.0946 21.7532 78.0516 22.2289 77.2879 23.0298C76.5243 23.8307 76.0988 24.8951 76.1 26.0018C76.1 28.4018 78 30.2018 80.2 30.2018C81.2 30.2018 82 29.7018 82.4 29.2018H82.5V29.8018C82.5 31.4018 81.6 32.3018 80.2 32.3018C79.1 32.3018 78.3 31.5018 78.1 30.8018L76.5 31.5018C77 32.6018 78.2 34.0018 80.3 34.0018C82.5 34.0018 84.3 32.7018 84.3 29.6018V22.0018H82.5V22.7018ZM80.3 28.6018C79 28.6018 77.9 27.5018 77.9 26.0018C77.9 24.5018 79 23.4018 80.3 23.4018C81.6 23.4018 82.6 24.5018 82.6 26.0018C82.6 27.5018 81.6 28.6018 80.3 28.6018ZM104.7 17.5018H100.2V30.0018H102.1V25.3018H104.7C106.8 25.3018 108.8 23.8018 108.8 21.4018C108.8 19.0018 106.8 17.5018 104.7 17.5018ZM104.8 23.5018H102.1V19.2018H104.8C106.2 19.2018 107 20.4018 107 21.3018C106.9 22.4018 106.1 23.5018 104.8 23.5018ZM116.3 21.7018C114.9 21.7018 113.5 22.3018 113 23.6018L114.7 24.3018C115.1 23.6018 115.7 23.4018 116.4 23.4018C117.4 23.4018 118.3 24.0018 118.4 25.0018V25.1018C118.1 24.9018 117.3 24.6018 116.5 24.6018C114.7 24.6018 112.9 25.6018 112.9 27.4018C112.9 29.1018 114.4 30.2018 116 30.2018C117.3 30.2018 117.9 29.6018 118.4 29.0018H118.5V30.0018H120.3V25.2018C120.1 23.0018 118.4 21.7018 116.3 21.7018ZM116.1 28.6018C115.5 28.6018 114.6 28.3018 114.6 27.5018C114.6 26.5018 115.7 26.2018 116.6 26.2018C117.4 26.2018 117.8 26.4018 118.3 26.6018C118.1 27.8018 117.1 28.6018 116.1 28.6018ZM126.6 22.0018L124.5 27.4018H124.4L122.2 22.0018H120.2L123.5 29.6018L121.6 33.8018H123.5L128.6 22.0018H126.6ZM109.8 30.0018H111.7V17.5018H109.8V30.0018Z" fill="white"/>\n<path d="M10.4 7.5C10.1 7.8 10 8.3 10 8.9V31C10 31.6 10.2 32.1 10.5 32.4L10.6 32.5L23 20.1V19.9L10.4 7.5Z" fill="url(#paint0_linear_8924_153377)"/>\n<path d="M26.9984 24.3008L22.8984 20.2008V19.9008L26.9984 15.8008L27.0984 15.9008L31.9984 18.7008C33.3984 19.5008 33.3984 20.8008 31.9984 21.6008L26.9984 24.3008Z" fill="url(#paint1_linear_8924_153377)"/>\n<path d="M27.0984 24.2L22.8984 20L10.3984 32.5C10.8984 33 11.5984 33 12.4984 32.6L27.0984 24.2Z" fill="url(#paint2_linear_8924_153377)"/>\n<path d="M27.0984 15.8006L12.4984 7.5006C11.5984 7.0006 10.8984 7.1006 10.3984 7.6006L22.8984 20.0006L27.0984 15.8006Z" fill="url(#paint3_linear_8924_153377)"/>\n<path opacity="0.2" d="M26.9984 24.1016L12.4984 32.3016C11.6984 32.8016 10.9984 32.7016 10.4984 32.3016L10.3984 32.4016L10.4984 32.5016C10.9984 32.9016 11.6984 33.0016 12.4984 32.5016L26.9984 24.1016Z" fill="black"/>\n<path opacity="0.12" d="M10.4 32.3C10.1 32 10 31.5 10 30.9V31C10 31.6 10.2 32.1 10.5 32.4V32.3H10.4ZM32 21.3L27 24.1L27.1 24.2L32 21.4C32.7 21 33 20.5 33 20C33 20.5 32.6 20.9 32 21.3Z" fill="black"/>\n<path opacity="0.25" d="M12.5 7.60125L32 18.7012C32.6 19.1012 33 19.5012 33 20.0012C33 19.5012 32.7 19.0012 32 18.6012L12.5 7.50125C11.1 6.70125 10 7.30125 10 8.90125V9.00125C10 7.50125 11.1 6.80125 12.5 7.60125Z" fill="white"/>\n<path d="M44.9969 14.2984H44.2969V12.2984H44.8969C45.3969 11.8984 45.6969 11.0984 45.6969 9.99844V6.99844H49.6969V12.2984H50.3969V14.2984H49.6969V12.9984H45.0969V14.2984H44.9969ZM46.3969 9.99844C46.3969 10.8984 46.1969 11.6984 45.7969 12.2984H48.7969V7.69844H46.2969V9.99844H46.3969ZM56.2969 12.1984C55.6969 12.7984 54.9969 13.0984 54.0969 13.0984C53.1969 13.0984 52.4969 12.7984 51.8969 12.1984C51.2969 11.5984 50.9969 10.8984 50.9969 9.99844C50.9969 9.09844 51.2969 8.39844 51.8969 7.79844C52.4969 7.19844 53.1969 6.89844 54.0969 6.89844C54.9969 6.89844 55.6969 7.19844 56.2969 7.79844C56.8969 8.39844 57.1969 9.09844 57.1969 9.99844C57.1969 10.8984 56.8969 11.5984 56.2969 12.1984ZM52.4969 11.6984C52.8969 12.0984 53.4969 12.3984 54.0969 12.3984C54.6969 12.3984 55.2969 12.1984 55.6969 11.6984C56.0969 11.2984 56.3969 10.6984 56.3969 9.99844C56.3969 9.29844 56.1969 8.69844 55.6969 8.29844C55.2969 7.89844 54.6969 7.59844 54.0969 7.59844C53.4969 7.59844 52.8969 7.79844 52.4969 8.29844C52.0969 8.69844 51.7969 9.29844 51.7969 9.99844C51.7969 10.6984 51.9969 11.2984 52.4969 11.6984ZM61.0969 13.0984C60.1969 13.0984 59.4969 12.7984 58.8969 12.1984C58.2969 11.5984 57.9969 10.8984 57.9969 9.99844C57.9969 9.09844 58.2969 8.39844 58.8969 7.79844C59.4969 7.19844 60.1969 6.89844 61.0969 6.89844C61.9969 6.89844 62.6969 7.19844 63.2969 7.89844L62.7969 8.39844C62.3969 7.89844 61.7969 7.59844 61.0969 7.59844C60.3969 7.59844 59.8969 7.79844 59.3969 8.29844C58.8969 8.69844 58.6969 9.29844 58.6969 9.99844C58.6969 10.6984 58.8969 11.2984 59.3969 11.6984C59.7969 12.0984 60.3969 12.3984 61.0969 12.3984C61.7969 12.3984 62.3969 12.0984 62.8969 11.4984L63.3969 11.9984C63.0969 12.2984 62.7969 12.5984 62.3969 12.7984C61.9969 12.9984 61.5969 13.0984 61.0969 13.0984ZM66.5969 12.9984H65.7969V7.69844H64.0969V6.99844H68.1969V7.69844H66.4969V12.9984H66.5969ZM73.4969 6.99844L71.1969 12.0984C70.8969 12.7984 70.3969 13.1984 69.7969 13.1984C69.5969 13.1984 69.3969 13.1984 69.1969 13.0984L69.3969 12.3984C69.4969 12.4984 69.6969 12.4984 69.7969 12.4984C69.9969 12.4984 70.0969 12.4984 70.1969 12.3984C70.2969 12.2984 70.3969 12.1984 70.4969 11.9984L70.6969 11.4984L68.6969 7.09844H69.5969L71.0969 10.4984L72.5969 6.99844H73.4969ZM74.3969 12.9984V6.99844H78.6969V12.9984H77.8969V7.69844H75.0969V12.9984H74.3969ZM80.0969 12.9984V6.99844H80.8969V9.59844H83.8969V6.99844H84.6969V12.9984H83.8969V10.2984H80.8969V12.9984H80.0969ZM90.9969 12.1984C90.3969 12.7984 89.6969 13.0984 88.7969 13.0984C87.8969 13.0984 87.1969 12.7984 86.5969 12.1984C85.9969 11.5984 85.6969 10.8984 85.6969 9.99844C85.6969 9.09844 85.9969 8.39844 86.5969 7.79844C87.1969 7.19844 87.8969 6.89844 88.7969 6.89844C89.6969 6.89844 90.3969 7.19844 90.9969 7.79844C91.5969 8.39844 91.8969 9.09844 91.8969 9.99844C91.7969 10.8984 91.4969 11.5984 90.9969 12.1984ZM87.0969 11.6984C87.4969 12.0984 88.0969 12.3984 88.6969 12.3984C89.2969 12.3984 89.8969 12.1984 90.2969 11.6984C90.6969 11.2984 90.9969 10.6984 90.9969 9.99844C90.9969 9.29844 90.7969 8.69844 90.2969 8.29844C89.8969 7.89844 89.2969 7.59844 88.6969 7.59844C88.0969 7.59844 87.4969 7.79844 87.0969 8.29844C86.6474 8.75006 86.3951 9.36129 86.3951 9.99844C86.3951 10.6356 86.6474 11.2468 87.0969 11.6984ZM94.9969 12.9984V6.99844H97.1969C97.6969 6.99844 98.0969 7.19844 98.3969 7.49844C98.6969 7.79844 98.8969 8.19844 98.8969 8.59844C98.8969 8.89844 98.7969 9.09844 98.6969 9.39844C98.5969 9.59844 98.3969 9.79844 98.0969 9.89844C98.3969 9.99844 98.5969 10.1984 98.7969 10.3984C98.9969 10.5984 99.0969 10.8984 99.0969 11.2984C99.0969 11.7984 98.8969 12.1984 98.5969 12.4984C98.1969 12.7984 97.7969 12.9984 97.2969 12.9984H94.9969ZM95.7969 9.59844H97.1969C97.4969 9.59844 97.6969 9.49844 97.8969 9.29844C98.0969 9.09844 98.1969 8.89844 98.1969 8.69844C98.1969 8.49844 97.9969 8.19844 97.8969 7.99844C97.8092 7.9003 97.7011 7.82258 97.5802 7.77075C97.4592 7.71891 97.3284 7.69423 97.1969 7.69844H95.7969V9.59844ZM95.7969 12.2984H97.3969C97.6969 12.2984 97.8969 12.1984 98.0969 11.9984C98.2969 11.7984 98.3969 11.5984 98.3969 11.2984C98.3969 11.0984 98.2969 10.7984 98.0969 10.5984C98.0092 10.5003 97.9011 10.4226 97.7802 10.3707C97.6592 10.3189 97.5284 10.2942 97.3969 10.2984H95.8969V12.2984H95.7969Z" fill="white" stroke="white" stroke-width="0.2" stroke-miterlimit="10"/>\n</g>\n</g>\n<defs>\n<linearGradient id="paint0_linear_8924_153377" x1="21.8" y1="8.71" x2="5.02" y2="25.49" gradientUnits="userSpaceOnUse">\n<stop stop-color="#00A0FF"/>\n<stop offset="0.01" stop-color="#00A1FF"/>\n<stop offset="0.26" stop-color="#00BEFF"/>\n<stop offset="0.51" stop-color="#00D2FF"/>\n<stop offset="0.76" stop-color="#00DFFF"/>\n<stop offset="1" stop-color="#00E3FF"/>\n</linearGradient>\n<linearGradient id="paint1_linear_8924_153377" x1="33.8284" y1="20.0008" x2="9.63844" y2="20.0008" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFE000"/>\n<stop offset="0.41" stop-color="#FFBD00"/>\n<stop offset="0.78" stop-color="#FFA500"/>\n<stop offset="1" stop-color="#FF9C00"/>\n</linearGradient>\n<linearGradient id="paint2_linear_8924_153377" x1="24.8284" y1="22.3" x2="2.06844" y2="45.05" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FF3A44"/>\n<stop offset="1" stop-color="#C31162"/>\n</linearGradient>\n<linearGradient id="paint3_linear_8924_153377" x1="7.29844" y1="0.1806" x2="17.4584" y2="10.3406" gradientUnits="userSpaceOnUse">\n<stop stop-color="#32A071"/>\n<stop offset="0.07" stop-color="#2DA771"/>\n<stop offset="0.48" stop-color="#15CF74"/>\n<stop offset="0.8" stop-color="#06E775"/>\n<stop offset="1" stop-color="#00F076"/>\n</linearGradient>\n<clipPath id="clip0_8924_153377">\n<rect width="140" height="40" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n',Ke='<svg width="140" height="40" viewBox="0 0 140 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_8924_153345)">\n<mask id="mask0_8924_153345" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="140" height="40">\n<path d="M0 0H140V40H0V0Z" fill="white"/>\n</mask>\n<g mask="url(#mask0_8924_153345)">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M135.47 1.93045e-06H4.53C3.63852 0.0014472 2.7671 0.264748 2.02397 0.757202C1.28084 1.24966 0.698756 1.94957 0.35 2.77C0.119508 3.31767 0.000522462 3.9058 8.69009e-09 4.5L8.69009e-09 35.52C-3.68971e-05 36.1126 0.117478 36.6992 0.345739 37.2461C0.574 37.7929 0.908473 38.289 1.32979 38.7057C1.75111 39.1223 2.2509 39.4513 2.80022 39.6734C3.34954 39.8956 3.93748 40.0066 4.53 40H135.47C136.665 39.9974 137.812 39.5234 138.66 38.6809C139.508 37.8384 139.989 36.6954 140 35.5V4.5C140.004 3.60581 139.739 2.73104 139.24 1.98923C138.741 1.24741 138.03 0.67281 137.2 0.340002C136.651 0.114957 136.063 -0.000544592 135.47 1.93045e-06Z" fill="black"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M26.6881 9.71813C28.3481 7.69813 27.9981 5.57812 27.9981 5.57812C27.9981 5.57812 25.6781 5.58813 23.9981 7.83813C22.5181 9.83813 22.8981 11.5381 22.8981 11.5381C22.8981 11.5381 24.9181 11.8881 26.6881 9.71813ZM29.8681 19.3181C29.8681 15.8381 32.6181 14.3981 32.6181 14.3981C32.6181 14.3981 31.2181 11.8081 27.6381 11.8081C25.5681 11.8081 23.9681 13.0081 23.1181 13.0081C22.1181 13.0081 20.6181 11.8781 18.6981 11.8781C15.7381 11.8781 12.5781 14.5781 12.5781 19.7381C12.5781 24.9781 16.3081 31.4981 19.2581 31.4981C20.2881 31.4981 21.8681 30.4381 23.4581 30.4381C25.0281 30.4381 26.1881 31.4581 27.6681 31.4581C30.8981 31.4581 33.2981 24.5881 33.2981 24.5881C33.2981 24.5881 29.8681 23.2381 29.8681 19.3181ZM45.9581 6.76813C46.5359 6.41639 47.2018 6.23606 47.8781 6.24813C49.1981 6.24813 50.0281 6.91812 50.0281 7.92812C50.0281 8.75812 49.4581 9.34812 48.6781 9.52812V9.54813C49.5581 9.64813 50.2581 10.2481 50.2581 11.1681C50.2581 12.6181 48.9081 13.1581 47.6781 13.1581C47.0281 13.1581 46.3381 13.0181 45.7981 12.6981L46.0881 11.7581C46.4081 11.9381 47.0481 12.1581 47.6281 12.1581C48.4881 12.1581 48.9881 11.7481 48.9881 11.1081C48.9881 10.2581 48.1381 10.0381 47.4081 10.0381H46.8881V9.12813H47.4081C48.1781 9.12813 48.7681 8.71812 48.7681 8.10812C48.7681 7.56812 48.3481 7.23812 47.6681 7.23812C47.1681 7.23812 46.6281 7.43812 46.2481 7.63812L45.9481 6.76813H45.9581ZM54.3881 13.0481L54.3081 12.5081H54.2781C53.9781 12.8881 53.4781 13.1581 52.8581 13.1581C51.8981 13.1581 51.3581 12.4581 51.3581 11.7181C51.3581 10.4981 52.4281 9.87813 54.1981 9.88813V9.80813C54.1981 9.48813 54.0681 8.96813 53.2281 8.96813C52.7481 8.96813 52.2581 9.10812 51.9281 9.31812L51.6981 8.52812C52.2263 8.23348 52.8235 8.08504 53.4281 8.09813C54.9681 8.09813 55.4081 9.07813 55.4081 10.1381V11.8781C55.4081 12.3181 55.4281 12.7481 55.4781 13.0481H54.3781H54.3881ZM54.2281 10.6881C53.3681 10.6681 52.5581 10.8481 52.5581 11.5881C52.5581 12.0581 52.8581 12.2881 53.2481 12.2881C53.7281 12.2881 54.0781 11.9681 54.1881 11.6181C54.2151 11.5307 54.2286 11.4396 54.2281 11.3481V10.6881ZM60.2281 8.20813V9.17813H58.2681V13.0481H57.0681V8.19812H60.2281V8.20813ZM61.3581 9.81812C61.3581 9.18812 61.3381 8.66813 61.3181 8.21813H62.3781L62.4381 8.95813H62.4581C62.8081 8.40813 63.3681 8.09813 64.0981 8.09813C65.1981 8.09813 66.1081 9.05812 66.1081 10.5681C66.1081 12.3081 65.0181 13.1581 63.9281 13.1581C63.3281 13.1581 62.8281 12.8981 62.5881 12.5081H62.5681V15.0081H61.3581V9.81812ZM62.5581 11.0181C62.5581 11.1381 62.5781 11.2481 62.6081 11.3581C62.7181 11.8581 63.1581 12.2081 63.6681 12.2081C64.4281 12.2081 64.8881 11.5681 64.8881 10.6081C64.8881 9.75812 64.4681 9.06812 63.6881 9.06812C63.1881 9.06812 62.7281 9.42813 62.6181 9.96813C62.5881 10.0681 62.5681 10.1681 62.5681 10.2681V11.0181H62.5581ZM68.0981 8.21813L68.9681 10.7981C69.0681 11.0981 69.1681 11.4681 69.2281 11.7481H69.2581L69.5181 10.7881L70.2581 8.20813H71.5581L70.3581 11.5081C69.6981 13.3081 69.2581 14.1081 68.6881 14.6081C68.2181 15.0381 67.7281 15.2081 67.4281 15.2381L67.1481 14.2081C67.3481 14.1581 67.6081 14.0481 67.8481 13.8681C68.0781 13.7181 68.3481 13.4281 68.5181 13.1081C68.5583 13.0413 68.5823 12.9659 68.5881 12.8881C68.5885 12.8044 68.5679 12.7218 68.5281 12.6481L66.7781 8.20813H68.0981V8.21813ZM73.1481 10.1681H73.7281C74.3881 10.1681 74.7681 9.89813 74.7681 9.54813C74.7681 9.20813 74.4481 8.96813 73.9081 8.96813C73.5081 8.96813 73.0581 9.10812 72.7281 9.31812L72.4681 8.58813C73.0117 8.26367 73.6351 8.09743 74.2681 8.10812C75.0681 8.10812 76.0481 8.42813 76.0481 9.38813C76.0481 10.0181 75.4981 10.3681 74.9981 10.4881V10.5081C75.6381 10.5781 76.2681 10.9581 76.2681 11.6781C76.2681 12.7981 75.0181 13.1481 74.0381 13.1481C73.4331 13.1535 72.8371 13.0019 72.3081 12.7081L72.5781 11.9381C72.9181 12.1181 73.4281 12.2581 73.9081 12.2581C74.5781 12.2581 74.9381 11.9881 74.9381 11.6081C74.9381 11.1081 74.4181 10.9381 73.7381 10.9381H73.1481V10.1681ZM78.7781 8.20813V9.94812C78.7781 10.7081 78.7481 11.2281 78.7081 11.9081H78.7381C78.9881 11.3381 79.1381 10.9781 79.3881 10.4781L80.5681 8.20813H82.0281V13.0481H80.8781V11.3181C80.8781 10.5481 80.9081 10.1881 80.9581 9.27812H80.9181C80.6881 9.84812 80.5181 10.1981 80.2881 10.6681L79.0681 13.0481H77.6281V8.19812H78.7781V8.20813ZM87.2181 8.20813V9.15812H85.7781V13.0481H84.5781V9.14812H83.1381V8.20813H87.2181ZM89.0481 10.9681C89.0781 11.8481 89.7481 12.2181 90.5181 12.2181C91.0881 12.2181 91.4881 12.1381 91.8481 12.0081L92.0281 12.8481C91.6081 13.0181 91.0481 13.1481 90.3581 13.1481C88.8081 13.1481 87.8881 12.1781 87.8881 10.6981C87.8881 9.36812 88.6881 8.09813 90.2281 8.09813C91.7781 8.09813 92.2881 9.39813 92.2881 10.4581C92.2881 10.6781 92.2681 10.8581 92.2481 10.9681H89.0481ZM91.1481 10.1181C91.1581 9.66813 90.9681 8.93812 90.1581 8.93812C89.4081 8.93812 89.0981 9.61812 89.0581 10.1181H91.1581H91.1481ZM96.0681 8.26813C96.6446 8.18733 97.226 8.14723 97.8081 8.14812C98.6081 8.14812 100.068 8.25812 100.068 9.36812C100.068 9.98812 99.5981 10.3381 99.0881 10.4481V10.4681C99.7881 10.5681 100.288 10.9681 100.288 11.6481C100.288 12.9781 98.5581 13.1081 97.5881 13.1081C96.9881 13.1081 96.3581 13.0681 96.0681 13.0381V8.26813ZM97.2381 12.3081C97.4381 12.3281 97.5781 12.3381 97.8281 12.3381C98.3781 12.3381 99.0481 12.1881 99.0481 11.6281C99.0481 11.0781 98.5181 10.8981 97.7581 10.8981H97.2381V12.3081ZM97.2481 10.1681H97.7481C98.3681 10.1681 98.8781 9.98812 98.8781 9.52812C98.8781 9.14812 98.5481 8.92813 97.8281 8.92813C97.5881 8.92813 97.4281 8.95812 97.2481 8.97812V10.1681ZM53.4181 30.1981H51.1581L49.9181 26.2281H45.6181L44.4481 30.1981H42.2481L46.5081 16.6981H49.1381L53.4181 30.1981ZM49.5481 24.5681L48.4281 21.0481C48.3181 20.6881 48.0881 19.8481 47.7681 18.5081H47.7281C47.5981 19.0781 47.3881 19.9281 47.0981 21.0481L45.9981 24.5681H49.5481ZM64.3681 25.2081C64.4473 26.634 63.9787 28.0363 63.0581 29.1281C62.6926 29.5428 62.2411 29.873 61.7352 30.0958C61.2292 30.3186 60.6809 30.4285 60.1281 30.4181C58.8681 30.4181 57.9681 29.9481 57.4281 29.0281H57.3781V34.1581H55.2581V23.6681C55.2581 22.6281 55.2381 21.5681 55.1781 20.4681H57.0481L57.1681 22.0081H57.2081C57.5337 21.4507 58.0063 20.9936 58.5742 20.6867C59.1421 20.3798 59.7835 20.235 60.4281 20.2681C60.9698 20.2619 61.5055 20.3815 61.9932 20.6175C62.4808 20.8535 62.9069 21.1994 63.2381 21.6281C63.9881 22.5281 64.3681 23.7281 64.3681 25.2081ZM62.2081 25.2881C62.2081 24.3381 62.0081 23.5581 61.5781 22.9481C61.3774 22.6458 61.1034 22.3993 60.7816 22.2314C60.4599 22.0636 60.1009 21.9799 59.7381 21.9881C59.2181 21.9881 58.7381 22.1681 58.3181 22.5181C57.8881 22.8681 57.6181 23.3381 57.4781 23.9081C57.4181 24.1781 57.3781 24.3981 57.3781 24.5681V26.1881C57.3781 26.8981 57.5981 27.4881 58.0181 27.9881C58.4481 28.4681 58.9981 28.7181 59.6781 28.7181C60.4781 28.7181 61.0981 28.3981 61.5481 27.7781C61.9881 27.1481 62.2081 26.3181 62.2081 25.2881ZM75.3381 25.2081C75.4173 26.634 74.9487 28.0363 74.0281 29.1281C73.663 29.5434 73.2117 29.8739 72.7056 30.0967C72.1995 30.3195 71.6509 30.4292 71.0981 30.4181C69.8481 30.4181 68.9381 29.9481 68.3981 29.0281H68.3481V34.1581H66.2281V23.6681C66.2281 22.6281 66.2081 21.5681 66.1581 20.4681H68.0181L68.1381 22.0081H68.1781C68.5028 21.45 68.9753 20.9922 69.5434 20.6852C70.1115 20.3782 70.7533 20.2339 71.3981 20.2681C71.9398 20.2619 72.4755 20.3815 72.9632 20.6175C73.4508 20.8535 73.8769 21.1994 74.2081 21.6281C74.9581 22.5281 75.3381 23.7281 75.3381 25.2081ZM73.1781 25.2881C73.1781 24.3381 72.9781 23.5581 72.5481 22.9481C72.3474 22.6458 72.0734 22.3993 71.7516 22.2314C71.4299 22.0636 71.0709 21.9799 70.7081 21.9881C70.1881 21.9881 69.7081 22.1681 69.2881 22.5181C68.8581 22.8681 68.5881 23.3381 68.4481 23.9081C68.3881 24.1781 68.3481 24.3981 68.3481 24.5681V26.1881C68.3481 26.8981 68.5681 27.4881 68.9881 27.9881C69.4181 28.4681 69.9681 28.7181 70.6481 28.7181C71.4481 28.7181 72.0681 28.3981 72.5081 27.7781C72.987 27.0389 73.2214 26.1678 73.1781 25.2881ZM87.6081 26.4081C87.6081 27.5581 87.2081 28.4881 86.4281 29.2081C85.4231 30.0482 84.1358 30.4737 82.8281 30.3981C81.6275 30.4565 80.4359 30.1647 79.3981 29.5581L79.8981 27.7581C80.8081 28.3181 81.8681 28.6181 82.9581 28.6081C83.7581 28.6081 84.3781 28.4281 84.8181 28.0581C85.2681 27.6981 85.4881 27.1981 85.4881 26.5881C85.4881 26.0381 85.3081 25.5881 84.9381 25.2081C84.408 24.7344 83.7846 24.3767 83.1081 24.1581C80.7981 23.2781 79.6381 21.9881 79.6381 20.2881C79.6381 19.1881 80.0381 18.2681 80.8581 17.5681C81.7684 16.8235 82.9238 16.4455 84.0981 16.5081C85.2981 16.5081 86.2981 16.7081 87.0981 17.1481L86.5681 18.9081C85.7922 18.4872 84.9208 18.2737 84.0381 18.2881C83.4049 18.2459 82.7792 18.4461 82.2881 18.8481C81.9381 19.1781 81.7581 19.5881 81.7581 20.0681C81.7581 20.5981 81.9581 21.0381 82.3581 21.3881C82.7181 21.7081 83.3581 22.0581 84.2881 22.4281C85.2444 22.771 86.1074 23.3326 86.8081 24.0681C87.3381 24.6981 87.6081 25.4681 87.6081 26.4081ZM94.6081 22.0881H92.2781V26.8081C92.2781 28.0081 92.6881 28.6081 93.5181 28.6081C93.8281 28.6181 94.1481 28.5881 94.4581 28.5081L94.5181 30.1581C93.9849 30.3265 93.4271 30.4043 92.8681 30.3881C92.0281 30.3881 91.3681 30.1281 90.9081 29.6081C90.4381 29.0881 90.1981 28.2181 90.1981 26.9881V22.0881H88.7981V20.4681H90.1981V18.6781L92.2781 18.0381V20.4681H94.6181V22.0881H94.6081ZM105.158 25.2481C105.21 26.5887 104.761 27.9006 103.898 28.9281C103.461 29.4197 102.921 29.8083 102.315 30.066C101.71 30.3236 101.055 30.4439 100.398 30.4181C98.9981 30.4181 97.8981 29.9381 97.0581 28.9881C96.2083 27.9932 95.7623 26.7158 95.8081 25.4081C95.8081 23.9081 96.2381 22.6681 97.0981 21.7081C97.5333 21.2282 98.069 20.8503 98.6671 20.6013C99.2653 20.3524 99.9109 20.2386 100.558 20.2681C101.958 20.2681 103.088 20.7381 103.938 21.6881C104.748 22.6081 105.158 23.7881 105.158 25.2481ZM102.958 25.3181C102.958 24.4181 102.768 23.6581 102.388 23.0181C101.948 22.2381 101.308 21.8481 100.488 21.8481C99.6281 21.8481 98.9881 22.2381 98.5381 23.0081C98.1387 23.7253 97.9417 24.5376 97.9681 25.3581C97.9681 26.2581 98.1681 27.0281 98.5381 27.6581C98.9981 28.4381 99.6381 28.8281 100.468 28.8281C101.268 28.8281 101.908 28.4281 102.368 27.6481C102.768 26.9881 102.958 26.2181 102.958 25.3181ZM112.048 22.3681C111.827 22.3274 111.603 22.3073 111.378 22.3081C110.628 22.3081 110.058 22.5881 109.648 23.1681C109.278 23.7383 109.093 24.4088 109.118 25.0881V30.1881H106.998L107.018 23.5281C107.018 22.4081 106.998 21.3881 106.938 20.4681H108.788L108.868 22.3281H108.918C109.148 21.6881 109.498 21.1681 109.978 20.7881C110.448 20.4381 110.968 20.2681 111.518 20.2681C111.718 20.2681 111.888 20.2781 112.048 20.3081V22.3681ZM121.518 24.8681C121.518 25.2581 121.498 25.5881 121.448 25.8481H115.088C115.108 26.8081 115.418 27.5481 116.008 28.0481C116.548 28.5081 117.238 28.7381 118.088 28.7381C119.028 28.7381 119.888 28.5781 120.658 28.2681L120.988 29.7681C120.088 30.1681 119.028 30.3681 117.788 30.3681C117.148 30.4039 116.507 30.3049 115.908 30.0776C115.309 29.8502 114.763 29.4995 114.308 29.0481C113.431 28.0685 112.978 26.7812 113.048 25.4681C113.048 24.0081 113.438 22.7781 114.218 21.8081C114.611 21.3012 115.118 20.8952 115.699 20.6238C116.28 20.3525 116.917 20.2237 117.558 20.2481C118.938 20.2481 119.978 20.7681 120.678 21.8081C121.238 22.6381 121.528 23.6581 121.528 24.8681H121.518ZM119.498 24.3081C119.518 23.6681 119.378 23.1081 119.098 22.6481C118.718 22.0481 118.158 21.7481 117.398 21.7481C117.065 21.7427 116.737 21.8203 116.442 21.9739C116.146 22.1276 115.894 22.3524 115.708 22.6281C115.349 23.1195 115.134 23.7013 115.088 24.3081H119.498Z" fill="white"/>\n</g>\n</g>\n<defs>\n<clipPath id="clip0_8924_153345">\n<rect width="140" height="40" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n';function Xe(t){(0,x.qOq)(t,"svelte-zvsz57",".alice-promo-standalone-mobile.svelte-zvsz57{width:100%;display:flex;flex-direction:column;align-items:center;color:var(--black-color)}.alice-promo-standalone-mobile__title.svelte-zvsz57{margin-top:8px;font-size:20px;font-weight:700}.alice-promo-standalone-mobile__subtitle.svelte-zvsz57{margin-top:4px;color:var(--black-color);font-size:13px;font-style:normal;font-weight:400;line-height:16px}.alice-promo-standalone-store-link.svelte-zvsz57{margin-top:16px;height:40px;display:block}.alice-promo-standalone-mobile__img_android.svelte-zvsz57{margin-bottom:-24px;margin-top:12px;width:168px;display:block}.alice-promo-standalone__img_ios.svelte-zvsz57{width:204px;height:198px;position:relative;display:flex;justify-content:center}.alice-promo-standalone-ios__inner.svelte-zvsz57{margin-top:21px;width:160px;position:absolute;display:block}.alice-promo-standalone-ios__wrapper.svelte-zvsz57{position:absolute;width:204px;height:391px;display:block}")}function Je(t){let e,i,n,r,s,o,a;return{c(){e=(0,x.bGB)("a"),i=new x.Tv0(!1),n=(0,x.DhX)(),r=(0,x.bGB)("img"),this.h()},l(t){e=(0,x.vT0)(t,"A",{class:!0,href:!0,target:!0});var s=(0,x.pIy)(e);i=(0,x.a7E)(s,!1),s.forEach(x.ogt),n=(0,x.qzd)(t),r=(0,x.vT0)(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){i.a=null,(0,x.Ljt)(e,"class","alice-promo-standalone-store-link svelte-zvsz57"),(0,x.Ljt)(e,"href",t[2]),(0,x.Ljt)(e,"target","_blank"),(0,x.Ljt)(r,"class","alice-promo-standalone-mobile__img_android svelte-zvsz57"),(0,x.Jn4)(r.src,s=Ne.phoneAndroid)||(0,x.Ljt)(r,"src",s),(0,x.Ljt)(r,"alt","Смартфон")},m(s,l){(0,x.ZMF)(s,e,l),i.m(We,e),(0,x.ZMF)(s,n,l),(0,x.ZMF)(s,r,l),o||(a=(0,x.oLt)(e,"click",t[6]),o=!0)},p:x.ZTd,d(t){t&&((0,x.ogt)(e),(0,x.ogt)(n),(0,x.ogt)(r)),o=!1,a()}}}function Qe(t){let e,i,n,r,s,o,a=`<img class="alice-promo-standalone-ios__inner svelte-zvsz57" src="${Ne.phoneIosInner}" alt="Смартфон"/> <img class="alice-promo-standalone-ios__wrapper svelte-zvsz57" src="${Ne.phoneIosWrapper}" alt="Смартфон"/>`;return{c(){e=(0,x.bGB)("a"),i=new x.Tv0(!1),n=(0,x.DhX)(),r=(0,x.bGB)("div"),r.innerHTML=a,this.h()},l(t){e=(0,x.vT0)(t,"A",{class:!0,href:!0,target:!0});var s=(0,x.pIy)(e);i=(0,x.a7E)(s,!1),s.forEach(x.ogt),n=(0,x.qzd)(t),r=(0,x.vT0)(t,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-7bzalw"!==(0,x.nSQ)(r)&&(r.innerHTML=a),this.h()},h(){i.a=null,(0,x.Ljt)(e,"class","alice-promo-standalone-store-link svelte-zvsz57"),(0,x.Ljt)(e,"href",t[1]),(0,x.Ljt)(e,"target","_blank"),(0,x.Ljt)(r,"class","alice-promo-standalone__img_ios svelte-zvsz57")},m(a,l){(0,x.ZMF)(a,e,l),i.m(Ke,e),(0,x.ZMF)(a,n,l),(0,x.ZMF)(a,r,l),s||(o=(0,x.oLt)(e,"click",t[5]),s=!0)},p:x.ZTd,d(t){t&&((0,x.ogt)(e),(0,x.ogt)(n),(0,x.ogt)(r)),s=!1,o()}}}function ti(t){let e,i,n,r,s,o,a,l,c,d,h=function(t,e){return"ios"===t[4]?Qe:Je}(t),p=h(t);return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),n=new x.Tv0(!1),r=(0,x.DhX)(),s=(0,x.bGB)("div"),o=(0,x.fLW)(Ve),a=(0,x.DhX)(),l=(0,x.bGB)("div"),c=(0,x.fLW)(ze),d=(0,x.DhX)(),p.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0,style:!0});var h=(0,x.pIy)(e);i=(0,x.vT0)(h,"DIV",{class:!0});var u=(0,x.pIy)(i);n=(0,x.a7E)(u,!1),u.forEach(x.ogt),r=(0,x.qzd)(h),s=(0,x.vT0)(h,"DIV",{class:!0});var f=(0,x.pIy)(s);o=(0,x.Bno)(f,Ve),f.forEach(x.ogt),a=(0,x.qzd)(h),l=(0,x.vT0)(h,"DIV",{class:!0});var m=(0,x.pIy)(l);c=(0,x.Bno)(m,ze),m.forEach(x.ogt),d=(0,x.qzd)(h),p.l(h),h.forEach(x.ogt),this.h()},h(){n.a=null,(0,x.Ljt)(i,"class","alice-promo-standalone__app-icon"),(0,x.Ljt)(s,"class","alice-promo-standalone-mobile__title svelte-zvsz57"),(0,x.Ljt)(l,"class","alice-promo-standalone-mobile__subtitle svelte-zvsz57"),(0,x.Ljt)(e,"class","alice-promo-standalone-mobile svelte-zvsz57"),(0,x.czc)(e,"--z-index",t[3]+1)},m(t,h){(0,x.ZMF)(t,e,h),(0,x.ztY)(e,i),n.m(Le,i),(0,x.ztY)(e,r),(0,x.ztY)(e,s),(0,x.ztY)(s,o),(0,x.ztY)(e,a),(0,x.ztY)(e,l),(0,x.ztY)(l,c),(0,x.ztY)(e,d),p.m(e,null)},p(t,[e]){p.p(t,e)},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e),p.d()}}}function ei(t,e,i){let{outputBus:n}=e;const{promoUrlIos:r,promoUrlAndroid:s,baseZIndex:o,os:a}=(0,k.fw)(M.f1);return(0,k.H3)((()=>{n.emit("stat",{path:"promo",eventType:"show"})})),t.$$set=t=>{"outputBus"in t&&i(0,n=t.outputBus)},[n,r,s,o,a,()=>{n.emit("stat",{path:"promo.ios",eventType:"click",customParams:{url:r||""}})},()=>{n.emit("stat",{path:"promo.android",eventType:"click",customParams:{url:s||""}})}]}class ii extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,ei,ti,x.N8,{outputBus:0},Xe)}}const ni=ii;function ri(t){let e;return{c(){e=(0,x.fLW)(t[3])},l(i){e=(0,x.Bno)(i,t[3])},m(t,i){(0,x.ZMF)(t,e,i)},p(t,i){8&i&&(0,x.rTO)(e,t[3])},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e)}}}function si(t){let e,i;return e=new at({props:{text:t[3],markdown:t[1]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};8&i&&(n.text=t[3]),2&i&&(n.markdown=t[1]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function oi(t){let e,i,n,r,s,o,a;const l=[si,ri],c=[];function d(t,e){return t[2]?0:1}return r=d(t),s=c[r]=l[r](t),{c(){e=(0,x.bGB)("div"),n=(0,x.DhX)(),s.c(),o=(0,x.cSb)(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{"data-id":!0}),(0,x.pIy)(e).forEach(x.ogt),n=(0,x.qzd)(t),s.l(t),o=(0,x.cSb)(),this.h()},h(){(0,x.Ljt)(e,"data-id",i=t[0].id)},m(t,i){(0,x.ZMF)(t,e,i),(0,x.ZMF)(t,n,i),c[r].m(t,i),(0,x.ZMF)(t,o,i),a=!0},p(t,[n]){(!a||1&n&&i!==(i=t[0].id))&&(0,x.Ljt)(e,"data-id",i);let h=r;r=d(t),r===h?c[r].p(t,n):((0,x.dvw)(),(0,x.etI)(c[h],1,1,(()=>{c[h]=null})),(0,x.gbL)(),s=c[r],s?s.p(t,n):(s=c[r]=l[r](t),s.c()),(0,x.Ui)(s,1),s.m(o.parentNode,o))},i(t){a||((0,x.Ui)(s),a=!0)},o(t){(0,x.etI)(s),a=!1},d(t){t&&((0,x.ogt)(e),(0,x.ogt)(n),(0,x.ogt)(o)),c[r].d(t)}}}function ai(t,e,i){let n,{bubble:r}=e,{markdown:s}=e,{useMarkdown:o=!1}=e;return t.$$set=t=>{"bubble"in t&&i(0,r=t.bubble),"markdown"in t&&i(1,s=t.markdown),"useMarkdown"in t&&i(2,o=t.useMarkdown)},t.$$.update=()=>{1&t.$$.dirty&&i(3,n=r.text)},[r,s,o,n]}class li extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,ai,oi,x.N8,{bubble:0,markdown:1,useMarkdown:2})}}const ci=li;var di={d:(t,e)=>{for(var i in e)di.o(e,i)&&!di.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},hi={};function pi(){}di.d(hi,{Hy:()=>qd,M:()=>Dd,Os:()=>hd,_0:()=>Zd,sY:()=>Wd});const ui=t=>t;function fi(t,e){for(const i in e)t[i]=e[i];return t}function mi(t){return t()}function gi(){return Object.create(null)}function yi(t){t.forEach(mi)}function vi(t){return"function"==typeof t}let bi;function _i(t,e){return t===e||(bi||(bi=document.createElement("a")),bi.href=e,t===bi.href)}function xi(t,e){return t!=t?e==e:t!==e}function ki(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(null==t){for(const t of i)t(void 0);return pi}const r=t.subscribe(...i);return r.unsubscribe?()=>r.unsubscribe():r}function wi(t,e,i){t.$$.on_destroy.push(ki(e,i))}function Ci(t,e,i,n){if(t){const r=Ei(t,e,i,n);return t[0](r)}}function Ei(t,e,i,n){return t[1]&&n?fi(i.ctx.slice(),t[1](n(e))):i.ctx}function Si(t,e,i,n){if(t[2]&&n){const r=t[2](n(i));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],i=Math.max(e.dirty.length,r.length);for(let n=0;n<i;n+=1)t[n]=e.dirty[n]|r[n];return t}return e.dirty|r}return e.dirty}function $i(t,e,i,n,r,s){if(r){const o=Ei(e,i,n,s);t.p(o,r)}}function Mi(t){if(t.ctx.length>32){const e=[],i=t.ctx.length/32;for(let t=0;t<i;t++)e[t]=-1;return e}return-1}function Ii(t){return t&&vi(t.destroy)?t.destroy:pi}const Di="undefined"!=typeof window;let Ti=Di?()=>window.performance.now():()=>Date.now(),Pi=Di?t=>requestAnimationFrame(t):pi;const Ai=new Set;function ji(t){Ai.forEach((e=>{e.c(t)||(Ai.delete(e),e.f())})),0!==Ai.size&&Pi(ji)}function Li(t){let e;return 0===Ai.size&&Pi(ji),{promise:new Promise((i=>{Ai.add(e={c:t,f:i})})),abort(){Ai.delete(e)}}}const Oi="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Fi(t,e,i){return e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class Bi{constructor(t){Fi(this,"_listeners","WeakMap"in Oi?new WeakMap:void 0),Fi(this,"_observer",void 0),Fi(this,"options",void 0),this.options=t}observe(t,e){return this._listeners.set(t,e),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return null!==(t=this._observer)&&void 0!==t?t:this._observer=new ResizeObserver((t=>{for(const i of t){var e;Bi.entries.set(i.target,i),null===(e=this._listeners.get(i.target))||void 0===e||e(i)}}))}}Bi.entries="WeakMap"in Oi?new WeakMap:void 0;let Vi=null;function zi(t,e){t.appendChild(e)}function Ni(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ri(t){const e=Gi("style");return e.textContent="/* empty */",function(t,e){zi(t.head||t,e),e.sheet}(Ni(t),e),e.sheet}function Ui(t,e,i){t.insertBefore(e,i||null)}function Hi(t){t.parentNode&&t.parentNode.removeChild(t)}function qi(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function Gi(t){return document.createElement(t)}function Zi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Yi(t){return document.createTextNode(t)}function Wi(){return Yi(" ")}function Ki(){return Yi("")}function Xi(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function Ji(t,e,i){null==i?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}const Qi=["width","height"];function tn(t,e){const i=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)null==e[n]?t.removeAttribute(n):"style"===n?t.style.cssText=e[n]:"__value"===n?t.value=t[n]=e[n]:i[n]&&i[n].set&&-1===Qi.indexOf(n)?t[n]=e[n]:Ji(t,n,e[n])}function en(t,e,i,n){null==i?t.style.removeProperty(e):t.style.setProperty(e,i,n?"important":"")}function nn(t,e){return new t(e)}const rn=new Map;let sn,on=0;function an(t,e,i,n,r,s,o){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;const l=16.666/n;let c="{\n";for(let t=0;t<=1;t+=l){const n=e+(i-e)*s(t);c+=100*t+"%{".concat(o(n,1-n),"}\n")}const d=c+"100% {".concat(o(i,1-i),"}\n}"),h="__svelte_".concat(function(t){let e=5381,i=t.length;for(;i--;)e=(e<<5)-e^t.charCodeAt(i);return e>>>0}(d),"_").concat(a),p=Ni(t),{stylesheet:u,rules:f}=rn.get(p)||function(t,e){const i={stylesheet:Ri(e),rules:{}};return rn.set(t,i),i}(p,t);f[h]||(f[h]=!0,u.insertRule("@keyframes ".concat(h," ").concat(d),u.cssRules.length));const m=t.style.animation||"";return t.style.animation="".concat(m?"".concat(m,", "):"").concat(h," ").concat(n,"ms linear ").concat(r,"ms 1 both"),on+=1,h}function ln(t,e){const i=(t.style.animation||"").split(", "),n=i.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=i.length-n.length;r&&(t.style.animation=n.join(", "),on-=r,on||Pi((()=>{on||(rn.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&Hi(e)})),rn.clear())})))}function cn(t){sn=t}function dn(){if(!sn)throw new Error("Function called outside component initialization");return sn}function hn(t){dn().$$.on_mount.push(t)}function pn(t){dn().$$.on_destroy.push(t)}function un(t,e){return dn().$$.context.set(t,e),e}function fn(t){return dn().$$.context.get(t)}function mn(t,e){const i=t.$$.callbacks[e.type];i&&i.slice().forEach((t=>t.call(this,e)))}const gn=[],yn=[];let vn=[];const bn=[],_n=Promise.resolve();let xn=!1;function kn(){xn||(xn=!0,_n.then(Mn))}function wn(){return kn(),_n}function Cn(t){vn.push(t)}const En=new Set;let Sn,$n=0;function Mn(){if(0!==$n)return;const t=sn;do{try{for(;$n<gn.length;){const t=gn[$n];$n++,cn(t),In(t.$$)}}catch(t){throw gn.length=0,$n=0,t}for(cn(null),gn.length=0,$n=0;yn.length;)yn.pop()();for(let t=0;t<vn.length;t+=1){const e=vn[t];En.has(e)||(En.add(e),e())}vn.length=0}while(gn.length);for(;bn.length;)bn.pop()();xn=!1,En.clear(),cn(t)}function In(t){if(null!==t.fragment){t.update(),yi(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Cn)}}function Dn(){return Sn||(Sn=Promise.resolve(),Sn.then((()=>{Sn=null}))),Sn}function Tn(t,e,i){t.dispatchEvent(function(t,e){let{bubbles:i=!1,cancelable:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new CustomEvent(t,{detail:e,bubbles:i,cancelable:n})}("".concat(e?"intro":"outro").concat(i)))}const Pn=new Set;let An;function jn(){An={r:0,c:[],p:An}}function Ln(){An.r||yi(An.c),An=An.p}function On(t,e){t&&t.i&&(Pn.delete(t),t.i(e))}function Fn(t,e,i,n){if(t&&t.o){if(Pn.has(t))return;Pn.add(t),An.c.push((()=>{Pn.delete(t),n&&(i&&t.d(1),n())})),t.o(e)}else n&&n()}const Bn={duration:0};function Vn(t,e,i){const n={direction:"in"};let r,s,o=e(t,i,n),a=!1,l=0;function c(){r&&ln(t,r)}function d(){const{delay:e=0,duration:i=300,easing:n=ui,tick:d=pi,css:h}=o||Bn;h&&(r=an(t,0,1,i,e,n,h,l++)),d(0,1);const p=Ti()+e,u=p+i;s&&s.abort(),a=!0,Cn((()=>Tn(t,!0,"start"))),s=Li((e=>{if(a){if(e>=u)return d(1,0),Tn(t,!0,"end"),c(),a=!1;if(e>=p){const t=n((e-p)/i);d(t,1-t)}}return a}))}let h=!1;return{start(){h||(h=!0,ln(t),vi(o)?(o=o(n),Dn().then(d)):d())},invalidate(){h=!1},end(){a&&(c(),a=!1)}}}function zn(t){return void 0!==(null==t?void 0:t.length)?t:Array.from(t)}function Nn(t,e){Fn(t,1,1,(()=>{e.delete(t.key)}))}function Rn(t,e,i,n,r,s,o,a,l,c,d,h){let p=t.length,u=s.length,f=p;const m={};for(;f--;)m[t[f].key]=f;const g=[],y=new Map,v=new Map,b=[];for(f=u;f--;){const t=h(r,s,f),a=i(t);let l=o.get(a);l?n&&b.push((()=>l.p(t,e))):(l=c(a,t),l.c()),y.set(a,g[f]=l),a in m&&v.set(a,Math.abs(f-m[a]))}const _=new Set,x=new Set;function k(t){On(t,1),t.m(a,d),o.set(t.key,t),d=t.first,u--}for(;p&&u;){const e=g[u-1],i=t[p-1],n=e.key,r=i.key;e===i?(d=e.first,p--,u--):y.has(r)?!o.has(n)||_.has(n)?k(e):x.has(r)?p--:v.get(n)>v.get(r)?(x.add(n),k(e)):(_.add(r),p--):(l(i,o),p--)}for(;p--;){const e=t[p];y.has(e.key)||l(e,o)}for(;u;)k(g[u-1]);return yi(b),g}function Un(t,e){const i={},n={},r={$$scope:1};let s=t.length;for(;s--;){const o=t[s],a=e[s];if(a){for(const t in o)t in a||(n[t]=1);for(const t in a)r[t]||(i[t]=a[t],r[t]=1);t[s]=a}else for(const t in o)r[t]=1}for(const t in n)t in i||(i[t]=void 0);return i}let Hn;function qn(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Gn(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qn(Object(i),!0).forEach((function(e){Zn(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qn(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Zn(t,e,i){return e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Yn(t){t&&t.c()}function Wn(t,e,i){const{fragment:n,after_update:r}=t.$$;n&&n.m(e,i),Cn((()=>{const e=t.$$.on_mount.map(mi).filter(vi);t.$$.on_destroy?t.$$.on_destroy.push(...e):yi(e),t.$$.on_mount=[]})),r.forEach(Cn)}function Kn(t,e){const i=t.$$;null!==i.fragment&&(function(t){const e=[],i=[];vn.forEach((n=>-1===t.indexOf(n)?e.push(n):i.push(n))),i.forEach((t=>t())),vn=e}(i.after_update),yi(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function Xn(t,e,i,n,r,s,o){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const l=sn;cn(t);const c=t.$$={fragment:null,ctx:[],props:s,update:pi,not_equal:r,bound:gi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:gi(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let d=!1;if(c.ctx=i?i(t,e.props||{},(function(e,i){const n=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:i;return c.ctx&&r(c.ctx[e],c.ctx[e]=n)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](n),d&&function(t,e){-1===t.$$.dirty[0]&&(gn.push(t),kn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),i})):[],c.update(),d=!0,yi(c.before_update),c.fragment=!!n&&n(c.ctx),e.target){if(e.hydrate){Vi=!0;const t=(h=e.target,Array.from(h.childNodes));c.fragment&&c.fragment.l(t),t.forEach(Hi)}else c.fragment&&c.fragment.c();e.intro&&On(t.$$.fragment),Wn(t,e.target,e.anchor),Vi=!1,Mn()}var h;cn(l)}function Jn(t,e,i,n){var r;const s=null===(r=i[t])||void 0===r?void 0:r.type;if(e="Boolean"===s&&"boolean"!=typeof e?null!=e:e,!n||!i[t])return e;if("toAttribute"===n)switch(s){case"Object":case"Array":return null==e?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return null==e?null:e;default:return e}else switch(s){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":default:return e;case"Number":return null!=e?+e:e}}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(Hn=class extends HTMLElement{constructor(t,e,i){super(),Zn(this,"$$ctor",void 0),Zn(this,"$$s",void 0),Zn(this,"$$c",void 0),Zn(this,"$$cn",!1),Zn(this,"$$d",{}),Zn(this,"$$r",!1),Zn(this,"$$p_d",{}),Zn(this,"$$l",{}),Zn(this,"$$l_u",new Map),this.$$ctor=t,this.$$s=e,i&&this.attachShadow({mode:"open"})}addEventListener(t,e,i){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(e),this.$$c){const i=this.$$c.$on(t,e);this.$$l_u.set(e,i)}super.addEventListener(t,e,i)}removeEventListener(t,e,i){if(super.removeEventListener(t,e,i),this.$$c){const t=this.$$l_u.get(e);t&&(t(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){if(await Promise.resolve(),!this.$$cn)return;function t(t){return()=>{let e;return{c:function(){e=Gi("slot"),"default"!==t&&Ji(e,"name",t)},m:function(t,i){Ui(t,e,i)},d:function(t){t&&Hi(e)}}}}const e={},i=function(t){const e={};return t.childNodes.forEach((t=>{e[t.slot||"default"]=!0})),e}(this);for(const r of this.$$s)r in i&&(e[r]=[t(r)]);for(const s of this.attributes){const o=this.$$g_p(s.name);o in this.$$d||(this.$$d[o]=Jn(o,s.value,this.$$p_d,"toProp"))}this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:Gn(Gn({},this.$$d),{},{$$slots:e,$$scope:{ctx:[]}})});const n=()=>{this.$$r=!0;for(const t in this.$$p_d)if(this.$$d[t]=this.$$c.$$.ctx[this.$$c.$$.props[t]],this.$$p_d[t].reflect){const e=Jn(t,this.$$d[t],this.$$p_d,"toAttribute");null==e?this.removeAttribute(t):this.setAttribute(this.$$p_d[t].attribute||t,e)}this.$$r=!1};this.$$c.$$.after_update.push(n),n();for(const a in this.$$l)for(const l of this.$$l[a]){const c=this.$$c.$on(a,l);this.$$l_u.set(l,c)}this.$$l={}}}attributeChangedCallback(t,e,i){var n;this.$$r||(t=this.$$g_p(t),this.$$d[t]=Jn(t,i,this.$$p_d,"toProp"),null===(n=this.$$c)||void 0===n||n.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)}))}$$g_p(t){return Object.keys(this.$$p_d).find((e=>this.$$p_d[e].attribute===t||!this.$$p_d[e].attribute&&e.toLowerCase()===t))||t}});class Qn{constructor(){Zn(this,"$$",void 0),Zn(this,"$$set",void 0)}$destroy(){Kn(this,1),this.$destroy=pi}$on(t,e){if(!vi(e))return pi;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const tr=[];function er(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pi;const n=new Set;function r(i){if(s=i,((r=t)!=r?s==s:r!==s||r&&"object"==typeof r||"function"==typeof r)&&(t=i,e)){const e=!tr.length;for(const e of n)e[1](),tr.push(e,t);if(e){for(let t=0;t<tr.length;t+=2)tr[t][0](tr[t+1]);tr.length=0}}var r,s}function s(e){r(e(t))}return{set:r,update:s,subscribe:function(o){const a=[o,arguments.length>1&&void 0!==arguments[1]?arguments[1]:pi];return n.add(a),1===n.size&&(e=i(r,s)||pi),o(t),()=>{n.delete(a),0===n.size&&e&&(e(),e=null)}}}}function ir(t,e,i){const n=!Array.isArray(t),r=n?[t]:t;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return o=(t,i)=>{let o=!1;const a=[];let l=0,c=pi;const d=()=>{if(l)return;c();const r=e(n?a[0]:a,t,i);s?t(r):c=vi(r)?r:pi},h=r.map(((t,e)=>ki(t,(t=>{a[e]=t,l&=~(1<<e),o&&d()}),(()=>{l|=1<<e}))));return o=!0,d(),function(){yi(h),c(),o=!1}},{subscribe:er(i,o).subscribe};var o}const nr={root:"divkit-d1ad0",root__clickable:"divkit-e0fd3","root__clickable-no-transition":"divkit-ffa3a",root__unselectable:"divkit-fa556",root_platform_desktop:"divkit-c9211","root__only-desktop":"divkit-ff685","root_restrict-scroll":"divkit-ad27d","root_disabled-context-menu":"divkit-d8d15"},rr=Symbol("root");function sr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t;return i.level=e.level||"error",e.additional&&(i.additional=e.additional),i}const or={"text-range":"divkit-b4897",text:"divkit-d04cf",text_halign_start:"divkit-d1271",text_halign_center:"divkit-c1cbb",text_halign_end:"divkit-adcd7",text_valign_start:"divkit-d3b9b",text_valign_center:"divkit-fe406",text_valign_end:"divkit-d88f8",text_valign_baseline:"divkit-d1c42",text__inner:"divkit-f93dd",text_singleline:"divkit-e0d91",text_multiline:"divkit-d16d9",text_truncate_none:"divkit-a4e1f",text__inner_gradient:"divkit-e92e9",text__image:"divkit-e499e",text__image_hidden:"divkit-f7786","text_has-focus-color":"divkit-ec6a1"},ar={outer:"divkit-febd5","outer_hide-on-transition-in":"divkit-ab97f","outer_halign-self_start":"divkit-e310b","outer_halign-self_center":"divkit-b8989","outer_halign-self_end":"divkit-e3daf","outer_halign-self_stretch":"divkit-dc597","outer_valign-self_start":"divkit-ea5fb","outer_valign-self_center":"divkit-ad8d2","outer_valign-self_end":"divkit-f7541","outer_valign-self_stretch":"divkit-e075a","outer_parent-flex_vertical":"divkit-bb3dc","outer_parent-flex_horizontal":"divkit-b5712","outer_valign-self_baseline":"divkit-e5919",outer_width_content:"divkit-cb510",outer_height_content:"divkit-c3a30","outer_width-constrained":"divkit-ef2dd","outer_parent-grid":"divkit-b2fa8","outer_height-constrained":"divkit-bc814","outer_parent-overlap":"divkit-ad574","outer_parent-overlap-absolute":"divkit-ec1ca","outer_scroll-snap_center":"divkit-dfd51","outer_scroll-snap_start":"divkit-eb77b",outer__border:"divkit-df618",outer_visibility_invisible:"divkit-e51f0",outer_visibility_gone:"divkit-a9de6","outer_has-action-animation":"divkit-bd06f","outer_has-custom-focus":"divkit-db524"};function lr(t){if(!t)return;let e="";for(const i in t)if(t.hasOwnProperty(i)){if(!t[i]&&0!==t[i])continue;e&&(e+=";"),e+=i+":"+String(t[i])}return e||void 0}function cr(t){if("number"!=typeof t&&"string"!=typeof t||!t)return"0";const e=Number(t);return Number.isNaN(e)?"0":Math.ceil(1e3*e)/1e4+"em"}function dr(t){let e=cr(t);return"0"===e&&(e+="em"),e}function hr(t,e){for(;t.length<e;)t="0"+t;return t}function pr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"transparent";if("#"!==(t=("string"==typeof t&&t||"").toLowerCase()).charAt(0))return i;const n=ur(t);return n?(n.a*=e,function(t){return 255===t.a?"#".concat([t.r,t.g,t.b].map((t=>hr(Math.round(t).toString(16),2))).join("")):"rgba(".concat(t.r,",").concat(t.g,",").concat(t.b,",").concat((t.a/255).toFixed(2),")")}(n)):i}function ur(t){const e=t.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i)||t.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])$/i)||t.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i)||t.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i);if(e){if(5===e.length){const[t,i,n,r,s]=e,o=2===n.length?n:n+n,a=2===r.length?r:r+r,l=2===s.length?s:s+s,c=2===i.length?i:i+i;return{a:parseInt(c,16),r:parseInt(o,16),g:parseInt(a,16),b:parseInt(l,16)}}const[t,i,n,r]=e,s=2===i.length?i:i+i,o=2===n.length?n:n+n,a=2===r.length?r:r+r;return{a:255,r:parseInt(s,16),g:parseInt(o,16),b:parseInt(a,16)}}return null}function fr(t){let e=String(t);return e.indexOf("&")>-1&&(e=e.replace(/&/g,"&amp;")),e.indexOf("<")>-1&&(e=e.replace(/</g,"&lt;")),e.indexOf(">")>-1&&(e=e.replace(/>/g,"&gt;")),e.indexOf('"')>-1&&(e=e.replace(/"/g,"&quot;")),e}const mr=Boolean;function gr(t){if(1===t.length&&"solid"===t[0].type)return{color:pr(t[0].color||"transparent"),size:"auto",position:"50% 50%"};const e=t.map((t=>"solid"===t.type?function(t){const e=pr(t.bg.color||"transparent");return{size:void 0,pos:void 0,image:"linear-gradient(to bottom,".concat(e,",").concat(e,")")}}({bg:t}):"gradient"===t.type?function(t){var e;if(!Array.isArray(null===(e=t.bg)||void 0===e?void 0:e.colors))return;const i=t.bg.colors.filter(mr);return i.length?{size:void 0,pos:void 0,image:"linear-gradient("+(90-Number(t.bg.angle||0))+"deg,"+i.map((t=>pr(t))).join(",")+")"}:void 0}({bg:t}):"image"===t.type?function(t){var e;const i=null===(e=t.bg)||void 0===e?void 0:e.image_url;if(i)return{size:br(t.bg.scale),pos:_r(t.bg),image:'url("'+fr(i)+'")'}}({bg:t}):"radial_gradient"===t.type?function(t){var e;if(!Array.isArray(null===(e=t.bg)||void 0===e?void 0:e.colors))return;const i=t.bg.colors.filter(mr);if(!i.length)return;const n=t.bg.radius;let r;n&&"object"==typeof n&&"type"in n&&void 0!==n.value&&("fixed"===n.type?r=dr(n.value):"relative"===n.type&&(r=yr[n.value]));const s=vr(t.bg.center_x),o=vr(t.bg.center_y);return{size:void 0,pos:void 0,image:"radial-gradient("+"circle ".concat(r||"farthest-corner"," at ").concat(s," ").concat(o)+","+i.map((t=>pr(t))).join(",")+")"}}({bg:t}):void 0)).filter(mr).reverse().reduce((function(t,e){return t.image.push(e.image),t.size.push(e.size||"auto"),t.position.push(e.pos||"50% 50%"),t}),{image:[],size:[],position:[]});return{image:e.image.join(","),size:e.size.join(","),position:e.position.join(",")}}const yr={nearest_corner:"closest-corner",farthest_corner:"farthest-corner",nearest_side:"closest-side",farthest_side:"farthest-side"};function vr(t){if(t&&"object"==typeof t&&"type"in t&&void 0!==t.value){if("fixed"===t.type)return dr(t.value);if("relative"===t.type)return"".concat(100*Number(t.value),"%")}return"50%"}function br(t){return"fit"===t?"contain":"stretch"===t?"fill":"no_scale"===t?"none":"cover"}function _r(t){let e,i;return e="left"===t.content_alignment_horizontal?"0%":"right"===t.content_alignment_horizontal?"100%":"50%",i="top"===t.content_alignment_vertical?"0%":"bottom"===t.content_alignment_vertical?"100%":"50%",e+" "+i}function xr(t){const e=/^([^/]+):\/\//.exec(t);return e&&e[1]||""}function kr(t,e){return e.has(t)}function wr(t,e,i){return"number"==typeof e&&(t&&e>0&&e<=100||!t&&e>=0&&e<100)?e:i}function Cr(t){return 0!==t.is_enabled&&!1!==t.is_enabled&&void 0!==t.index}function Er(t,e){e&&t.push(e)}function Sr(t,e,i){const n=[];Er(n,e[t]);for(const r in i)if(i.hasOwnProperty(r)){const s=i[r];s&&Er(n,e["".concat(t,"_").concat(r)+("string"==typeof s?"_".concat(s):"")])}return n.join(" ")}const $r=Symbol("state");function Mr(t,e){var i,n;const r=t.top||0,s=(null!==(i="ltr"===e?t.end:t.start)&&void 0!==i?i:t.right)||0,o=t.bottom||0,a=(null!==(n="ltr"===e?t.start:t.end)&&void 0!==n?n:t.left)||0;return 0===r&&0===s&&0===o&&0===a?"":cr(r)+" "+cr(s)+" "+cr(o)+" "+cr(a)}function Ir(t){if("number"!=typeof t&&"string"!=typeof t)return!1;const e=Number(t);return!Number.isNaN(e)}function Dr(t){return Ir(t)&&t>=0}function Tr(t,e,i){var n,r;if(!t)return i;const s=[t.top,null!==(n="ltr"===e?t.end:t.start)&&void 0!==n?n:t.right,t.bottom,null!==(r="ltr"===e?t.start:t.end)&&void 0!==r?r:t.left];for(let t=0;t<s.length;++t)if(s[t]&&!Dr(s[t]))return i;return Mr(t,e)}function Pr(t,e){const i=Number(t);return Number.isNaN(i)||i<0?e:i}const Ar=Object.prototype.hasOwnProperty;function jr(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return Object.is(t,e);const i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(let n=0;n<i.length;n++){const r=i[n];if(!Ar.call(e,r)||!jr(t[r],e[r]))return!1}return!0}function Lr(t,e){return jr(t,e)?e:t}function Or(t,e){return"linear"===t||"ease"===t||"ease_in_out"===t||"ease_in"===t||"ease_out"===t?t:e}function Fr(t,e){const i=Number(t);return Number.isNaN(i)?e:i}function Br(t){const e=[];return"set"===t.name?(t.items||[]).forEach((t=>{e.push(...Br(t))})):e.push(t),e}function Vr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return[t["top-left"],t["top-right"],t["bottom-right"],t["bottom-left"]].map((t=>cr((t||e)/i*10))).join(" ")}function zr(t){return 0!==t.is_enabled&&!1!==t.is_enabled}let Nr;function Rr(){return"undefined"!=typeof matchMedia&&(Nr||(Nr=window.matchMedia("(prefers-reduced-motion)")),Nr.matches)}function Ur(){}const Hr=Symbol("action");function qr(t){const e=t.touches[0];return{x:e.clientX||e.pageX,y:e.clientY||e.pageY}}function Gr(t){var e;let i,n,r,s,o,a,l,c;const d=t[18].default,h=Ci(d,t,t[17],null);let p=[{class:n=t[1]+(t[8]?" ".concat(t[5]?nr.root__clickable:nr["root__clickable-no-transition"]," ").concat(nr.root__unselectable):"")+" "+(null!==(e=t[0])&&void 0!==e&&e.length?nr["root_disabled-context-menu"]:"")},{style:t[2]},{role:r=t[8]?"button":null},{tabindex:s=t[8]?0:null},t[3]],u={};for(let t=0;t<p.length;t+=1)u=fi(u,p[t]);return{c(){i=Gi("span"),h&&h.c(),tn(i,u)},m(e,n){Ui(e,i,n),h&&h.m(i,null),t[26](i),a=!0,l||(c=[Ii(o=t[4].call(null,i)),Xi(i,"click",t[22]),Xi(i,"keydown",t[10]),Xi(i,"focus",t[23]),Xi(i,"blur",t[24])],l=!0)},p(t,e){var o;h&&h.p&&(!a||131072&e[0])&&$i(h,d,t,t[17],a?Si(d,t[17],e,null):Mi(t[17]),null),tn(i,u=Un(p,[(!a||291&e[0]&&n!==(n=t[1]+(t[8]?" ".concat(t[5]?nr.root__clickable:nr["root__clickable-no-transition"]," ").concat(nr.root__unselectable):"")+" "+(null!==(o=t[0])&&void 0!==o&&o.length?nr["root_disabled-context-menu"]:"")))&&{class:n},(!a||4&e[0])&&{style:t[2]},(!a||256&e[0]&&r!==(r=t[8]?"button":null))&&{role:r},(!a||256&e[0]&&s!==(s=t[8]?0:null))&&{tabindex:s},8&e[0]&&t[3]]))},i(t){a||(On(h,t),a=!0)},o(t){Fn(h,t),a=!1},d(e){e&&Hi(i),h&&h.d(e),t[26](null),l=!1,yi(c)}}}function Zr(t){var e;let i,n,r,s,o,a;const l=t[18].default,c=Ci(l,t,t[17],null);let d=[{href:t[7]},{target:t[9]},{style:t[2]},{class:n=t[1]+" "+(t[5]?nr.root__clickable:nr["root__clickable-no-transition"])+" "+(null!==(e=t[0])&&void 0!==e&&e.length?nr["root_disabled-context-menu"]:"")},t[3]],h={};for(let t=0;t<d.length;t+=1)h=fi(h,d[t]);return{c(){i=Gi("a"),c&&c.c(),tn(i,h)},m(e,n){Ui(e,i,n),c&&c.m(i,null),t[25](i),s=!0,o||(a=[Ii(r=t[4].call(null,i)),Xi(i,"click",t[19]),Xi(i,"keydown",t[10]),Xi(i,"focus",t[20]),Xi(i,"blur",t[21])],o=!0)},p(t,e){var r;c&&c.p&&(!s||131072&e[0])&&$i(c,l,t,t[17],s?Si(l,t[17],e,null):Mi(t[17]),null),tn(i,h=Un(d,[(!s||128&e[0])&&{href:t[7]},(!s||512&e[0])&&{target:t[9]},(!s||4&e[0])&&{style:t[2]},(!s||35&e[0]&&n!==(n=t[1]+" "+(t[5]?nr.root__clickable:nr["root__clickable-no-transition"])+" "+(null!==(r=t[0])&&void 0!==r&&r.length?nr["root_disabled-context-menu"]:"")))&&{class:n},8&e[0]&&t[3]]))},i(t){s||(On(c,t),s=!0)},o(t){Fn(c,t),s=!1},d(e){e&&Hi(i),c&&c.d(e),t[25](null),o=!1,yi(a)}}}function Yr(t){let e,i,n,r;const s=[Zr,Gr],o=[];function a(t,e){return t[7]?0:1}return e=a(t),i=o[e]=s[e](t),{c(){i.c(),n=Ki()},m(t,i){o[e].m(t,i),Ui(t,n,i),r=!0},p(t,r){let l=e;e=a(t),e===l?o[e].p(t,r):(jn(),Fn(o[l],1,1,(()=>{o[l]=null})),Ln(),i=o[e],i?i.p(t,r):(i=o[e]=s[e](t),i.c()),On(i,1),i.m(n.parentNode,n))},i(t){r||(On(i),r=!0)},o(t){Fn(i),r=!1},d(t){t&&Hi(n),o[e].d(t)}}}function Wr(t,e,i){let{$$slots:n={},$$scope:r}=e,{componentContext:s}=e,{id:o=""}=e,{actions:a}=e,{doubleTapActions:l}=e,{longTapActions:c}=e,{cls:d=""}=e,{style:h=null}=e,{attrs:p}=e,{use:u=Ur}=e,{customAction:f=null}=e,{isNativeActionAnimation:m=!0}=e,{hasInnerFocusable:g=!1}=e;const y=fn(rr),v=fn(Hr);let b;un(Hr,{hasAction:()=>Boolean(v.hasAction()||(null==a?void 0:a.length))});let _,x="",k=-1,w=null,C=!1,E=!1;async function S(t){v.hasAction()||void 0!==t.button&&0!==t.button||(!1===(null==f?void 0:f(t))?t.preventDefault():a&&(a.some((t=>{if(null==t?void 0:t.typed)return!0;const e=null==t?void 0:t.url;if(!e)return!1;const i=xr(e);return i&&!kr(i,y.getBuiltinProtocols())}))&&t.preventDefault(),s.execAnyActions(a)))}function $(t){v.hasAction()||void 0!==t.button&&0!==t.button||s.execAnyActions(l,{processUrls:!0})}function M(t){t.touches.length>1||(w=qr(t),C=!1,k=Date.now())}function I(t){if(!w)return;const e=qr(t);(Math.abs(w.x-e.x)>8||Math.abs(w.y-e.y)>8)&&(C=!0)}function D(){!w||k<0||(!C&&Date.now()-k>=400&&s.execAnyActions(c,{processUrls:!0}),w=null,k=-1)}return hn((()=>{o&&!g&&y.registerFocusable(o,{focus(){b&&(x||E)&&b.focus()}})})),pn((()=>{o&&!g&&y.unregisterFocusable(o)})),t.$$set=t=>{"componentContext"in t&&i(11,s=t.componentContext),"id"in t&&i(12,o=t.id),"actions"in t&&i(13,a=t.actions),"doubleTapActions"in t&&i(14,l=t.doubleTapActions),"longTapActions"in t&&i(0,c=t.longTapActions),"cls"in t&&i(1,d=t.cls),"style"in t&&i(2,h=t.style),"attrs"in t&&i(3,p=t.attrs),"use"in t&&i(4,u=t.use),"customAction"in t&&i(15,f=t.customAction),"isNativeActionAnimation"in t&&i(5,m=t.isNativeActionAnimation),"hasInnerFocusable"in t&&i(16,g=t.hasInnerFocusable),"$$scope"in t&&i(17,r=t.$$scope)},t.$$.update=()=>{if(43136&t.$$.dirty[0]){if(Array.isArray(a)&&(null==a?void 0:a.length))for(let t=0;t<a.length;++t){const e=a[t].url;if(e){i(7,x=e),i(9,_=a[t].target||void 0);break}}Array.isArray(a)&&(null==a?void 0:a.length)&&v.hasAction()&&(i(7,x=""),s.logError(sr(new Error("Actionable element is forbidden inside other actionable element"),{level:"warn",additional:{actions:a}}))),i(8,E=Boolean(f)),x&&!kr(xr(x),y.getBuiltinProtocols())?(i(7,x=""),i(8,E=!0)):!x&&Array.isArray(a)&&(null==a?void 0:a.length)&&(i(8,E=!0),a.some((t=>t.url||t.typed))||s.logError(sr(new Error("The component has a list of actions, but does not have a real action"),{level:"warn",additional:{actions:a}})))}16833&t.$$.dirty[0]&&b&&(x||E?b.addEventListener("click",S):b.removeEventListener("click",S),(null==l?void 0:l.length)?b.addEventListener("dblclick",$):b.removeEventListener("dblclick",$),(null==c?void 0:c.length)?(b.addEventListener("touchstart",M,{passive:!0}),b.addEventListener("touchmove",I,{passive:!0}),b.addEventListener("touchend",D,{passive:!0}),b.addEventListener("touchcancel",D,{passive:!0})):(b.removeEventListener("touchstart",M),b.removeEventListener("touchmove",I),b.removeEventListener("touchend",D),b.removeEventListener("touchcancel",D)))},[c,d,h,p,u,m,b,x,E,_,function(t){const e=t.target;e instanceof HTMLElement&&("INPUT"===e.tagName||"true"===e.contentEditable)||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||"Enter"===t.key&&Array.isArray(a)&&a.length&&(s.execAnyActions(a),t.preventDefault())},s,o,a,l,f,g,r,n,function(e){mn.call(this,t,e)},function(e){mn.call(this,t,e)},function(e){mn.call(this,t,e)},function(e){mn.call(this,t,e)},function(e){mn.call(this,t,e)},function(e){mn.call(this,t,e)},function(t){yn[t?"unshift":"push"]((()=>{b=t,i(6,b)}))},function(t){yn[t?"unshift":"push"]((()=>{b=t,i(6,b)}))}]}const Kr=class extends Qn{constructor(t){super(),Xn(this,t,Wr,Yr,xi,{componentContext:11,id:12,actions:13,doubleTapActions:14,longTapActions:0,cls:1,style:2,attrs:3,use:4,customAction:15,isNativeActionAnimation:5,hasInnerFocusable:16},null,[-1,-1])}},Xr={"outer-background":"divkit-ece69","outer-background_clip":"divkit-f5b85","outer-background__item":"divkit-b763f","outer-background__item_hidden":"divkit-debc3"};function Jr(t){return Ir(t)&&t>0}function Qr(t,e){return t.map((t=>{if(t)if("blur"===t.type){if(Jr(t.radius))return"blur(".concat(dr(t.radius/2),")")}else{if("rtl_mirror"===t.type)return;e(sr(new Error("Unknown filter"),{level:"warn",additional:{filter:t.type}}))}else e(sr(new Error("Incorrect filter"),{level:"warn"}))})).filter(Boolean).join(" ")}function ts(t,e,i){const n=t.slice();return n[7]=e[i],n}function es(t){let e,i,n;return{c(){e=Gi("span"),Ji(e,"class",i=Xr["outer-background__item"]),Ji(e,"style",n=lr(t[7].style))},m(t,i){Ui(t,e,i)},p(t,i){2&i&&n!==(n=lr(t[7].style))&&Ji(e,"style",n)},d(t){t&&Hi(e)}}}function is(t){let e,i,n,r,s,o;return{c(){e=Gi("img"),_i(e.src,i=t[7].image_url)||Ji(e,"src",i),Ji(e,"alt",""),Ji(e,"aria-hidden","true"),Ji(e,"loading","lazy"),Ji(e,"decoding","async"),Ji(e,"class",n=Xr["outer-background__item"]),Ji(e,"style",r=lr(t[7].style))},m(i,n){Ui(i,e,n),s||(o=Xi(e,"error",t[2]),s=!0)},p(t,n){2&n&&!_i(e.src,i=t[7].image_url)&&Ji(e,"src",i),2&n&&r!==(r=lr(t[7].style))&&Ji(e,"style",r)},d(t){t&&Hi(e),s=!1,o()}}}function ns(t){let e;function i(t,e){return t[7].image_url?is:es}let n=i(t),r=n(t);return{c(){r.c(),e=Ki()},m(t,i){r.m(t,i),Ui(t,e,i)},p(t,s){n===(n=i(t))&&r?r.p(t,s):(r.d(1),r=n(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){t&&Hi(e),r.d(t)}}}function rs(t){let e,i,n=zn(t[1]),r=[];for(let e=0;e<n.length;e+=1)r[e]=ns(ts(t,n,e));return{c(){e=Gi("span");for(let t=0;t<r.length;t+=1)r[t].c();Ji(e,"class",i=Xr["outer-background"]+(t[0]?" "+Xr["outer-background_clip"]:"")),en(e,"border-radius",t[0])},m(t,i){Ui(t,e,i);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,s){let[o]=s;if(6&o){let i;for(n=zn(t[1]),i=0;i<n.length;i+=1){const s=ts(t,n,i);r[i]?r[i].p(s,o):(r[i]=ns(s),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}1&o&&i!==(i=Xr["outer-background"]+(t[0]?" "+Xr["outer-background_clip"]:""))&&Ji(e,"class",i),1&o&&en(e,"border-radius",t[0])},i:pi,o:pi,d(t){t&&Hi(e),qi(r,t)}}}function ss(t,e,i){let n,{direction:r}=e,{componentContext:s}=e,{background:o=[]}=e,{radius:a=""}=e;return fn(rr),t.$$set=t=>{"direction"in t&&i(3,r=t.direction),"componentContext"in t&&i(4,s=t.componentContext),"background"in t&&i(5,o=t.background),"radius"in t&&i(0,a=t.radius)},t.$$.update=()=>{56&t.$$.dirty&&i(1,n=o.map((t=>{const e={},i={style:e};if("nine_patch_image"===t.type&&t.insets)e["border-image"]='url("'.concat(t.image_url,'") ').concat(t.insets.top||0," ").concat(t.insets.right||0," ").concat(t.insets.bottom||0," ").concat(t.insets.left||0," fill"),e["border-image-width"]="auto";else{const n=gr([t]);"solid"===t.type&&(e["background-color"]=n.color),"gradient"===t.type&&(e["background-image"]=n.image),"image"===t.type&&(e.opacity=Number(t.alpha),i.image_url=t.image_url,e["object-fit"]=n.size,e["object-position"]=n.position,Array.isArray(t.filters)&&t.filters.length&&(e.filter=Qr(t.filters,s.logError),"rtl"===r&&t.filters.some((t=>"rtl_mirror"===t.type))&&(e.transform="scale(-1,1)")))}return i})))},[a,n,function(t){t.target&&"classList"in t.target&&t.target.classList.add(Xr["outer-background__item_hidden"])},r,s,o]}const os=class extends Qn{constructor(t){super(),Xn(this,t,ss,rs,xi,{direction:3,componentContext:4,background:5,radius:0})}},as=t=>({hasCustomFocus:256&t[0]}),ls=t=>({focusHandler:t[40],blurHandler:t[41],hasCustomFocus:t[8]});function cs(t){let e,i;return e=new Kr({props:{componentContext:t[0],id:t[0].json.id,use:t[39],cls:t[1]+" "+Sr("outer",ar,t[18]),style:lr(t[17]),actions:t[14],doubleTapActions:t[15],longTapActions:t[16],attrs:t[10],hasInnerFocusable:t[2],isNativeActionAnimation:!t[7].length||ys(t[7]),$$slots:{default:[ps]},$$scope:{ctx:t}}}),e.$on("focus",t[40]),e.$on("blur",t[41]),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};1&i[0]&&(n.componentContext=t[0]),1&i[0]&&(n.id=t[0].json.id),262146&i[0]&&(n.cls=t[1]+" "+Sr("outer",ar,t[18])),131072&i[0]&&(n.style=lr(t[17])),16384&i[0]&&(n.actions=t[14]),32768&i[0]&&(n.doubleTapActions=t[15]),65536&i[0]&&(n.longTapActions=t[16]),1024&i[0]&&(n.attrs=t[10]),4&i[0]&&(n.hasInnerFocusable=t[2]),128&i[0]&&(n.isNativeActionAnimation=!t[7].length||ys(t[7])),2937&i[0]|268435456&i[3]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function ds(t){let e,i;return e=new os({props:{componentContext:t[0],direction:t[9],background:t[5],radius:t[4]}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};1&i[0]&&(n.componentContext=t[0]),512&i[0]&&(n.direction=t[9]),32&i[0]&&(n.background=t[5]),16&i[0]&&(n.radius=t[4]),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function hs(t){let e,i,n;return{c(){e=Gi("span"),Ji(e,"class",i=ar.outer__border),Ji(e,"style",n=lr(t[3]))},m(t,i){Ui(t,e,i)},p(t,i){8&i[0]&&n!==(n=lr(t[3]))&&Ji(e,"style",n)},d(t){t&&Hi(e)}}}function ps(t){let e,i,n,r=t[6]&&ds(t);const s=t[120].default,o=Ci(s,t,t[121],ls);let a=t[11]&&hs(t);return{c(){r&&r.c(),e=Ki(),o&&o.c(),a&&a.c(),i=Ki()},m(t,s){r&&r.m(t,s),Ui(t,e,s),o&&o.m(t,s),a&&a.m(t,s),Ui(t,i,s),n=!0},p(t,l){t[6]?r?(r.p(t,l),64&l[0]&&On(r,1)):(r=ds(t),r.c(),On(r,1),r.m(e.parentNode,e)):r&&(jn(),Fn(r,1,1,(()=>{r=null})),Ln()),o&&o.p&&(!n||256&l[0]|268435456&l[3])&&$i(o,s,t,t[121],n?Si(s,t[121],l,as):Mi(t[121]),ls),t[11]?a?a.p(t,l):(a=hs(t),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i(t){n||(On(r),On(o,t),n=!0)},o(t){Fn(r),Fn(o,t),n=!1},d(t){t&&(Hi(e),Hi(i)),r&&r.d(t),o&&o.d(t),a&&a.d(t)}}}function us(t){let e,i,n=!t[12]&&!t[13]&&cs(t);return{c(){n&&n.c(),e=Ki()},m(t,r){n&&n.m(t,r),Ui(t,e,r),i=!0},p(t,i){t[12]||t[13]?n&&(jn(),Fn(n,1,1,(()=>{n=null})),Ln()):n?(n.p(t,i),12288&i[0]&&On(n,1)):(n=cs(t),n.c(),On(n,1),n.m(e.parentNode,e))},i(t){i||(On(n),i=!0)},o(t){Fn(n),i=!1},d(t){t&&Hi(e),n&&n.d(t)}}}const fs={left:"start",center:"center",right:"end",start:"start",end:"end"},ms={left:"end",center:"center",right:"start",start:"start",end:"end"},gs={top:"start",center:"center",bottom:"end",baseline:"baseline"};function ys(t){return t.some((t=>"native"===t.name))}function vs(t,e,i){let n,r,s,o,a,l,c,d,h,p,u,f,m,g,y,v,b,_,x,k,w,C,E,S,$,M,I,D,T,P,A,j,L,O,F,B,V,z,N,R,U,H,q,G,Z,Y=pi,W=pi,K=pi,X=pi,J=pi,Q=pi,tt=pi,et=pi,it=pi,nt=pi,rt=pi,st=pi,ot=pi,at=pi,lt=pi,ct=pi,dt=pi,ht=pi;t.$$.on_destroy.push((()=>Y())),t.$$.on_destroy.push((()=>W())),t.$$.on_destroy.push((()=>K())),t.$$.on_destroy.push((()=>X())),t.$$.on_destroy.push((()=>J())),t.$$.on_destroy.push((()=>Q())),t.$$.on_destroy.push((()=>tt())),t.$$.on_destroy.push((()=>et())),t.$$.on_destroy.push((()=>it())),t.$$.on_destroy.push((()=>nt())),t.$$.on_destroy.push((()=>rt())),t.$$.on_destroy.push((()=>st())),t.$$.on_destroy.push((()=>ot())),t.$$.on_destroy.push((()=>at())),t.$$.on_destroy.push((()=>lt())),t.$$.on_destroy.push((()=>ct())),t.$$.on_destroy.push((()=>dt())),t.$$.on_destroy.push((()=>ht()));let{$$slots:pt={},$$scope:ut}=e,{componentContext:ft}=e,{cls:mt=""}=e,{style:gt}=e,{layoutParams:yt={}}=e,{customDescription:vt=!1}=e,{customPaddings:bt=!1}=e,{customActions:_t=""}=e,{additionalPaddings:xt=null}=e,{heightByAspect:kt=!1}=e,{parentOf:wt}=e,{parentOfSimpleMode:Ct}=e,{replaceItems:Et}=e,{hasInnerFocusable:St=!1}=e;const $t=fn(rr),Mt=fn($r),It=$t.isPointerFocus;wi(t,It,(t=>i(127,M=t)));const Dt=$t.direction;let Tt,Pt;wi(t,Dt,(t=>i(9,H=t)));let At,jt,Lt,Ot,Ft,Bt,Vt,zt,Nt,Rt,Ut,Ht,qt,Gt,Zt,Yt,Wt,Kt,Xt,Jt,Qt=null,te=[],ee={},ie={},ne=!1,re=1,se="transparent",oe=0,ae={"top-left":0,"top-right":0,"bottom-right":0,"bottom-left":0},le="",ce=null,de="",he={},pe=0,ue=0,fe=0,me=!1,ge=!1,ye={},ve=0,be=0,_e=0,xe=!1,ke=!1,we=1,Ce=[],Ee=!1,Se=!1,$e=[],Me=[],Ie=[],De=[],Te=[],Pe=[],Ae="",je=!1,Le="visible",Oe=0,Fe=0,Be=!1;function Ve(t,e){if(!Array.isArray(wt)||!Et)return;if(Ct&&1!==(Array.isArray(e)&&e.length||0))return;const n=wt.findIndex((e=>(null==e?void 0:e.id)===t)),r=wt.slice();r.splice(n,1,...e||[]),i(42,wt=r),Et(r)}function ze(t){const e=Fr(t.start_value,1),n=Fr(t.end_value,1),r=Pr(t.start_delay,0),s=Rr()?0:Pr(t.duration,300),o=Or(t.interpolator,"ease_in_out").replace(/_/g,"-");switch(t.name){case"fade":return i(86,Gt=e),i(87,Zt=n),"opacity ".concat(s,"ms ").concat(o," ").concat(r,"ms");case"scale":return i(88,Yt=e),i(89,Wt=n),"transform ".concat(s,"ms ").concat(o," ").concat(r,"ms");case"native":case"no_animation":return"";default:return ft.logError(sr(new Error("Unknown action_animation name"),{additional:{animation:t.name}})),""}}function Ne(){if(Qt&&Tt){const t=$t.getExtensionContext();Qt.forEach((e=>{var i;null===(i=e.unmountView)||void 0===i||i.call(e,Tt,t)})),Qt=null}}return pn((()=>{var t;te.forEach((t=>{$t.unregisterParentOf(t)})),i(53,te=[]),null===(t=ft.json.tooltips)||void 0===t||t.forEach((t=>{$t.unregisterTooltip(t)})),Ne()})),t.$$set=t=>{"componentContext"in t&&i(0,ft=t.componentContext),"cls"in t&&i(1,mt=t.cls),"style"in t&&i(43,gt=t.style),"layoutParams"in t&&i(44,yt=t.layoutParams),"customDescription"in t&&i(45,vt=t.customDescription),"customPaddings"in t&&i(46,bt=t.customPaddings),"customActions"in t&&i(47,_t=t.customActions),"additionalPaddings"in t&&i(48,xt=t.additionalPaddings),"heightByAspect"in t&&i(49,kt=t.heightByAspect),"parentOf"in t&&i(42,wt=t.parentOf),"parentOfSimpleMode"in t&&i(50,Ct=t.parentOfSimpleMode),"replaceItems"in t&&i(51,Et=t.replaceItems),"hasInnerFocusable"in t&&i(2,St=t.hasInnerFocusable),"$$scope"in t&&i(121,ut=t.$$scope)},t.$$.update=()=>{if(1&t.$$.dirty[0]|8192&t.$$.dirty[1]|262144&t.$$.dirty[2]&&ft.json&&yt&&(i(59,ce=null),i(60,de=""),i(77,we=1),i(90,je=!1),i(91,Le="visible"),i(92,Oe=0),i(93,Fe=0),i(94,Kt=void 0),i(95,Xt=void 0),i(80,Ce=ft.fakeElement?[]:ft.json.transition_triggers||["state_change","visibility_change"]),i(81,Ee=Boolean(-1!==Ce.indexOf("state_change")&&ft.json.id)),Se=Boolean(-1!==Ce.indexOf("visibility_change")&&ft.json.id)),1&t.$$.dirty[0]&&(i(36,n=ft.getDerivedFromVars(ft.json.focus)),X(),X=ki(n,(t=>i(105,P=t)))),1&t.$$.dirty[0]&&(i(35,r=ft.getDerivedFromVars(ft.json.border)),ht(),ht=ki(r,(t=>i(119,Z=t)))),1&t.$$.dirty[0]&&(i(34,s=ft.getDerivedFromVars(ft.json.paddings)),dt(),dt=ki(s,(t=>i(118,G=t)))),1&t.$$.dirty[0]&&(i(33,o=ft.getDerivedFromVars(ft.json.margins)),lt(),lt=ki(o,(t=>i(116,U=t)))),1&t.$$.dirty[0]&&(i(32,a=ft.getDerivedFromVars(ft.json.width)),ot(),ot=ki(a,(t=>i(114,N=t)))),1&t.$$.dirty[0]&&(i(31,l=ft.getDerivedFromVars(ft.json.alignment_horizontal)),ct(),ct=ki(l,(t=>i(117,q=t)))),1&t.$$.dirty[0]&&(i(30,c=ft.getDerivedFromVars(ft.json.height)),st(),st=ki(c,(t=>i(113,z=t)))),1&t.$$.dirty[0]&&(i(29,d=ft.getDerivedFromVars(ft.json.alignment_vertical)),at(),at=ki(d,(t=>i(115,R=t)))),1&t.$$.dirty[0]&&(i(28,h=ft.getDerivedFromVars(ft.json.alpha)),rt(),rt=ki(h,(t=>i(112,V=t)))),1&t.$$.dirty[0]&&(i(27,p=ft.getDerivedFromVars(ft.json.accessibility)),nt(),nt=ki(p,(t=>i(111,B=t)))),1&t.$$.dirty[0]&&(i(26,u=ft.getDerivedFromVars(ft.json.background)),it(),it=ki(u,(t=>i(110,F=t)))),1&t.$$.dirty[0]&&(i(25,f=ft.getDerivedFromVars(ft.json.action)),tt(),tt=ki(f,(t=>i(108,L=t)))),1&t.$$.dirty[0]&&(i(24,m=ft.getDerivedFromVars(ft.json.actions)),et(),et=ki(m,(t=>i(109,O=t)))),1&t.$$.dirty[0]&&(i(23,g=ft.getDerivedFromVars(ft.json.doubletap_actions)),Q(),Q=ki(g,(t=>i(107,j=t)))),1&t.$$.dirty[0]&&(i(22,y=ft.getDerivedFromVars(ft.json.longtap_actions)),J(),J=ki(y,(t=>i(106,A=t)))),1&t.$$.dirty[0]&&(i(21,v=ft.getDerivedFromVars(ft.json.action_animation)),K(),K=ki(v,(t=>i(104,T=t)))),1&t.$$.dirty[0]&&(i(20,b=ft.getDerivedFromVars(ft.json.visibility)),W(),W=ki(b,(t=>i(103,D=t)))),1&t.$$.dirty[0]&&(i(19,_=ft.getDerivedFromVars(ft.json.transform)),Y(),Y=ki(_,(t=>i(102,I=t)))),4720640&t.$$.dirty[1]&&(te.forEach((t=>{$t.unregisterParentOf(t)})),i(53,te=[]),wt&&wt.forEach((t=>{(null==t?void 0:t.id)&&(te.push(t.id),$t.registerParentOf(t.id,{replaceWith:Ve,isSingleMode:Boolean(Ct)}))}))),264&t.$$.dirty[0]|260046848&t.$$.dirty[1]|67112960&t.$$.dirty[3]){const t=Be&&(null==P?void 0:P.border)?P.border:Z;let e={},n={},r=!1,s="";if(t){if(t.has_shadow){const i=t.shadow;e["box-shadow"]=i?function(t){var e,i,n,r,s,o;return cr((null===(e=t.offset)||void 0===e||null===(i=e.x)||void 0===i?void 0:i.value)||0)+" "+cr((null===(n=t.offset)||void 0===n||null===(r=n.y)||void 0===r?void 0:r.value)||0)+" "+cr(null!==(s=t.blur)&&void 0!==s?s:2)+" "+pr(t.color||"#000000",null!==(o=t.alpha)&&void 0!==o?o:.19)}(i):"0 1px 2px 0 rgba(0,0,0,.18), 0 0 0 1px rgba(0,0,0,.07)"}if(t.stroke&&(r=!0,i(55,re=Pr(t.stroke.width,re)),i(56,se=pr(t.stroke.color,1,se)),n.border="".concat(cr(re)," solid ").concat(se)),t.corners_radius?(i(58,ae=function(t,e){const i=[t["top-left"],t["top-right"],t["bottom-right"],t["bottom-left"]];for(let t=0;t<i.length;++t)if(i[t]&&!Dr(i[t]))return e;return t}(t.corners_radius,ae)),n["border-radius"]=e["border-radius"]=Vr(ae)):t.corner_radius&&(i(57,oe=Pr(t.corner_radius,oe)),i(58,ae={"top-left":oe,"top-right":oe,"bottom-right":oe,"bottom-left":oe}),n["border-radius"]=e["border-radius"]=cr(oe)),r&&re&&(t.corners_radius||t.corner_radius)){let t=Object.assign({},ae);["top-left","top-right","bottom-right","bottom-left"].forEach((e=>{t[e]=(t[e]||0)+re/2})),s=Vr(t)}}i(54,ee=Lr(e,ee)),i(3,ie=Lr(n,ie)),i(11,ne=r),i(4,le=s)}if(268468224&t.$$.dirty[1]|33554432&t.$$.dirty[3]&&i(59,ce=function(t,e){if(!t||"object"!=typeof t)return e;const i=["top","right","bottom","left"];for(let n=0;n<i.length;++n)if(t[i[n]]&&!Dr(t[i[n]]))return e;return t}(G&&!bt?G:void 0,ce)),512&t.$$.dirty[0]|268566528&t.$$.dirty[1]&&i(98,x=Mr(function(t,e){if(!t&&!e)return{};if(!e)return t;if(!t)return e;const i={};return["top","right","bottom","left","start","end"].forEach((n=>{const r=t[n];r&&(i[n]=r);const s=e[n];s&&(i[n]=(i[n]||0)+s)})),i}(ce,xt),H)),512&t.$$.dirty[0]|536870912&t.$$.dirty[1]|8388608&t.$$.dirty[3]&&i(60,de=Tr(U,H,de)),513&t.$$.dirty[0]|1073750016&t.$$.dirty[1]|8&t.$$.dirty[2]|27262976&t.$$.dirty[3]){let t,e,n,r,s={},o=0,a=0,l=!1,c=!1;const d=null==N?void 0:N.type;if("fixed"===d)i(65,pe=Pr(null==N?void 0:N.value,pe)),e=cr(pe);else if("wrap_content"===d||("match_parent"===d||!d)&&yt.parentHorizontalWrapContent){if(t="content",("wrap_content"===d&&(null==N?void 0:N.constrained)||("match_parent"===d||!d)&&yt.parentHorizontalWrapContent)&&(s["width-constrained"]=!0,"horizontal"===yt.parentContainerOrientation&&(a=1)),"wrap_content"===d){const t=N;t.min_size&&Dr(t.min_size.value)&&(n=cr(t.min_size.value)),t.max_size&&Dr(t.max_size.value)&&(r=cr(t.max_size.value))}"match_parent"!==d&&d||ft.logError(sr(new Error("Cannot place child with match_parent size inside wrap_content"),{level:"warn"}))}else t="parent","vertical"===yt.parentContainerOrientation&&yt.parentContainerWrap&&(c=!0,ft.logError(sr(new Error("Cannot place a match_parent items on the cross-axis of wrap"),{level:"error"}))),"vertical"===yt.parentLayoutOrientation?e="calc(100% - ".concat(dr(((null==U?void 0:U.left)||0)+((null==U?void 0:U.right)||0)),")"):"horizontal"===yt.parentContainerOrientation&&(o=N&&"weight"in N&&N.weight||1,yt.parentContainerWrap&&(l=!0));if("parent"===t)s["halign-self"]="stretch";else{const t=q;s["halign-self"]="left"===t||"center"===t||"right"===t||"start"===t||"end"===t?("ltr"===H?fs:ms)[t]:yt.parentHAlign||"start"}t&&(s.width=t),i(62,At=e),i(63,jt=n),i(64,Lt=r),i(66,ue=o),i(67,fe=a),i(61,he=Lr(s,he)),i(68,me=l),i(12,ge=c)}if(1&t.$$.dirty[0]|270336&t.$$.dirty[1]|2176&t.$$.dirty[2]|13631488&t.$$.dirty[3]){let t,e,n,r,s={},o=0,a=0,l=!1,c=!1;const d=null==z?void 0:z.type;if(kt);else if("fixed"===d)i(73,ve=Pr(null==z?void 0:z.value,ve)),e=cr(ve);else if("match_parent"!==d||yt.parentVerticalWrapContent){if(t="content",("wrap_content"===d&&(null==z?void 0:z.constrained)||"match_parent"===d&&yt.parentVerticalWrapContent)&&(s["height-constrained"]=!0,"vertical"===yt.parentContainerOrientation&&(a=1)),"wrap_content"===d){const t=z;(null==t?void 0:t.min_size)&&Dr(t.min_size.value)&&(n=cr(t.min_size.value)),(null==t?void 0:t.max_size)&&Dr(t.max_size.value)&&(r=cr(t.max_size.value))}"match_parent"===d&&ft.logError(sr(new Error("Cannot place child with match_parent size inside wrap_content"),{level:"warn"}))}else t="parent","horizontal"===yt.parentContainerOrientation&&yt.parentContainerWrap&&(c=!0,ft.logError(sr(new Error("Cannot place a match_parent items on the cross-axis of wrap"),{level:"error"}))),"horizontal"===yt.parentLayoutOrientation?e="calc(100% - ".concat(dr(((null==U?void 0:U.top)||0)+((null==U?void 0:U.bottom)||0)),")"):"vertical"===yt.parentContainerOrientation&&(o=(null==z?void 0:z.weight)||1,yt.parentContainerWrap&&(l=!0));if("parent"===t)s["valign-self"]="stretch";else{const t=R;"top"===t||"center"===t||"bottom"===t||"baseline"===t&&"horizontal"===yt.parentContainerOrientation?s["valign-self"]=gs[t]:s["valign-self"]=yt.parentVAlign||"start"}t&&(s.height=t),i(70,Ot=e),i(71,Ft=n),i(72,Bt=r),i(74,be=o),i(75,_e=a),i(69,ye=Lr(s,ye)),i(76,xe=l),i(13,ke=c)}var e,M;if(8192&t.$$.dirty[1]&&i(101,k=!!yt.overlapParent||void 0),8192&t.$$.dirty[1]|3145728&t.$$.dirty[3]&&i(100,w=yt.overlapParent&&(!N||"match_parent"===N.type)&&!yt.parentHorizontalWrapContent&&"match_parent"===(null==z?void 0:z.type)&&!yt.parentVerticalWrapContent),8192&t.$$.dirty[1]&&i(99,C=yt.gridArea?"".concat(yt.gridArea.y+1,"/").concat(yt.gridArea.x+1,"/span ").concat(yt.gridArea.rowSpan,"/span ").concat(yt.gridArea.colSpan):void 0),32768&t.$$.dirty[2]|524288&t.$$.dirty[3]&&(i(77,(M=we,we=!Dr(e=V)||void 0===e||e>1?M:Number(e))),i(78,Vt=1===we?void 0:we)),16384&t.$$.dirty[1]|262144&t.$$.dirty[3]&&(i(10,Pt=void 0),B&&!vt&&B.description&&(i(10,Pt={}),i(10,Pt["aria-label"]=B.description,Pt))),368&t.$$.dirty[0]|135168&t.$$.dirty[3]&&(i(5,zt=Be&&(null==P?void 0:P.background)?P.background:F),i(79,Nt={}),i(6,Rt=!1),Array.isArray(zt)&&(i(6,Rt=zt.some((t=>"image"===t.type||"nine_patch_image"===t.type))||Boolean(le)),!Rt))){const t=gr(zt);i(79,Nt["background-color"]=t.color,Nt),i(79,Nt["background-image"]=t.image,Nt),i(79,Nt["background-size"]=t.size,Nt),i(79,Nt["background-position"]=t.position,Nt),i(79,Nt["background-repeat"]="no-repeat",Nt)}if(1&t.$$.dirty[0]|524288&t.$$.dirty[2]&&(i(82,Ut=void 0),Ee&&ft.json.transition_in&&$t.isRunning("stateChange")&&i(82,Ut=!0)),1&t.$$.dirty[0]|524288&t.$$.dirty[2]&&(i(84,qt=void 0),Ee&&ft.json.transition_change&&$t.isRunning("stateChange")&&Mt.hasTransitionChange(ft.json.id)&&i(84,qt=!0)),1&t.$$.dirty[0]|65536&t.$$.dirty[1]|126976&t.$$.dirty[3]){let t=O||L&&[L]||[],e=j||[],n=A||[],r=(null==P?void 0:P.on_focus)||[],s=(null==P?void 0:P.on_blur)||[];ft.fakeElement?(t=[],e=[],n=[],r=[],s=[]):(Array.isArray(t)||(t=[],ft.logError(sr(new Error("Actions should be array")))),Array.isArray(e)||(e=[],ft.logError(sr(new Error("DoubleTapActions should be array")))),Array.isArray(n)||(n=[],ft.logError(sr(new Error("LongTapActions should be array")))),Array.isArray(r)||(r=[],ft.logError(sr(new Error("FocusActions should be array")))),Array.isArray(s)||(s=[],ft.logError(sr(new Error("BlurActions should be array"))))),(t.length||e.length||n.length)&&_t&&(t=[],e=[],n=[],ft.logError(sr(new Error('Cannot use action on component "'.concat(_t,'"'))))),i(14,$e=t.filter(zr)),i(15,Me=e.filter(zr)),i(16,Ie=n.filter(zr)),De=r.filter(zr),Te=s.filter(zr)}if(128&t.$$.dirty[0]|2048&t.$$.dirty[3]&&T&&(i(7,Pe=Br(T)),i(85,Ae=Pe.map(ze).filter(Boolean).join(", "))),805306368&t.$$.dirty[2]|1024&t.$$.dirty[3]){const t=Le,e=function(t,e){return"visible"===t||"invisible"===t||"gone"===t?t:e}(D,Le);t!==e&&(!je||"visible"!==Le&&"visible"!==e?i(91,Le=e):async function(t){i(91,Le=t);const e="visible"===t?"in":"out",n="in"===e?ft.json.transition_in:ft.json.transition_out;Se&&n&&(await wn(),"in"===e&&i(83,Ht=!0),Mt.runVisibilityTransition(Object.assign(Object.assign({},ft.json),{visibility:"visible"}),ft,n,Tt,e).then((()=>{"in"===e&&i(83,Ht=!1)})).catch((t=>{throw"in"===e&&i(83,Ht=!1),t})))}(e)),je||i(90,je=!0)}if(1&t.$$.dirty[0]|2097152&t.$$.dirty[1]|8&t.$$.dirty[3]&&ft.json&&Tt&&!jr(ft.json.extensions,Jt)){let t=i(96,Jt=ft.json.extensions);wn().then((()=>{if(t===Jt&&Tt&&(Ne(),Array.isArray(ft.json.extensions))){const t=$t.getExtensionContext();Qt=ft.json.extensions.map((e=>{var i;const n=e.id;if(!n)return;const r=$t.getExtension(n,e.params);return r&&(null===(i=r.mountView)||void 0===i||i.call(r,Tt,t)),r})).filter(mr)}}))}if(t.$$.dirty[0],257&t.$$.dirty[0]|1073750016&t.$$.dirty[1]|552599680&t.$$.dirty[2]|384&t.$$.dirty[3]&&i(18,E=Object.assign(Object.assign(Object.assign({},he),ye),{"parent-overlap":k,"parent-overlap-absolute":w,"scroll-snap":yt.scrollSnap,"hide-on-transition-in":Ut||Ht||qt,visibility:Le,"has-action-animation":Boolean(Ae),"parent-flex":yt.parentContainerOrientation||void 0,"parent-grid":Boolean(yt.gridArea)||void 0,"has-custom-focus":Boolean(Be&&ft.json.focus)})),1073741824&t.$$.dirty[2]|513&t.$$.dirty[3]&&I&&void 0!==I.rotation){const t=I.pivot_x||{type:"pivot-percentage",value:50};i(92,Oe=Fr(t.value,Oe));const e="pivot-fixed"===t.type?cr(Oe):"".concat(Oe,"%"),n=I.pivot_y||{type:"pivot-percentage",value:50};i(93,Fe=Fr(n.value,Fe));const r="pivot-fixed"===n.type?cr(Fe):"".concat(Fe,"%");i(94,Kt="".concat(e," ").concat(r)),i(95,Xt="rotate(".concat(I.rotation,"deg)"))}20560&t.$$.dirty[2]&&i(97,S=me||xe?"100%":ue||be?0:void 0),545263616&t.$$.dirty[1]|260257591&t.$$.dirty[2]|118&t.$$.dirty[3]&&i(17,$=Object.assign(Object.assign(Object.assign(Object.assign({},gt),Nt),ee),{width:At,"min-width":jt,"max-width":Lt,height:Ot,"min-height":Ft,"max-height":Bt||(null==gt?void 0:gt["max-height"]),"grid-area":C,padding:x,margin:de,opacity:Vt,transition:Ae,"transform-origin":Kt,transform:Xt,"flex-grow":ue||be||void 0,"flex-shrink":fe||_e?1:void 0,"flex-basis":S,"--divkit-animation-opacity-start":Gt,"--divkit-animation-opacity-end":Zt,"--divkit-animation-scale-start":Yt,"--divkit-animation-scale-end":Wt}))},[ft,mt,St,ie,le,zt,Rt,Pe,Be,H,Pt,ne,ge,ke,$e,Me,Ie,$,E,_,b,v,y,g,m,f,u,p,h,d,c,l,a,o,s,r,n,It,Dt,function(t){var e;i(52,Tt=t),Ee&&ft.json.transition_in&&Mt.registerChildWithTransitionIn(ft.json,ft,ft.json.transition_in,t).then((()=>{i(82,Ut=!1)})).catch((t=>{throw i(82,Ut=!1),t})),Ee&&ft.json.transition_out&&Mt.registerChildWithTransitionOut(ft.json,ft,ft.json.transition_out,t),Ee&&ft.json.transition_change&&Mt.registerChildWithTransitionChange(ft.json,ft,ft.json.transition_change,t).then((()=>{i(84,qt=!1)})).catch((t=>{throw i(84,qt=!1),t}));const n=ft.fakeElement?[]:ft.json.visibility_actions||ft.json.visibility_action&&[ft.json.visibility_action],r=ft.fakeElement?[]:ft.json.disappear_actions;let s;(Array.isArray(n)&&n.length||Array.isArray(r)&&r.length)&&(s=function(t,e){let{visibilityActions:i,disappearActions:n,rootCtx:r,componentContext:s}=e;const o=[];i&&i.forEach((t=>{o.push({type:"visibility",index:o.length,action:t,visible:!1,count:0,finished:!1})})),n&&n.forEach((t=>{o.push({type:"disappear",index:o.length,action:t,visible:!1,count:0,finished:!1})}));const a=o.map(((t,e)=>{const i="visibility"===t.type;return s.getDerivedFromVars({index:e,visibility_percentage:t.action.visibility_percentage,visibility_duration:i?t.action.visibility_duration:t.action.disappear_duration,log_limit:t.action.log_limit,is_enabled:t.action.is_enabled})}));let l;const c=()=>{l&&l.disconnect(),o.forEach((t=>{t.timer&&clearTimeout(t.timer)}))},d=ir(a,(t=>t)).subscribe((e=>{const i=e.filter(Cr),n={};i.forEach((t=>{n[t.index]=t})),c();const a=[...new Set(i.map((t=>{const e="visibility"===o[t.index].type;return wr(e,t.visibility_percentage,e?50:0)/100})))];a.length&&(l=new IntersectionObserver((t=>{t.forEach((t=>{i.forEach((e=>{const i=o[e.index],n="visibility"===i.type,a=wr(n,e.visibility_percentage,n?50:0);let l;l=0===a?t.intersectionRatio>=1e-12:t.intersectionRatio>=a/100;const c=n?!i.visible&&l:i.visible&&!l,d=n?!l:l;c?i.finished||(i.timer=setTimeout((()=>{++i.count;const t=0===e.log_limit?1/0:e.log_limit||1;++i.count>=t&&(i.finished=!0);const o=s.getJsonWithVars(i.action),a=o.url,l=o.typed;if(a){const t=xr(a);t&&!kr(t,r.getBuiltinProtocols())&&("div-action"===t?r.execAction(o):o.log_id&&r.execCustomAction(o))}else l&&r.execAction(o);r.logStat(n?"visible":"disappear",o)}),e.visibility_duration||800)):d&&i.timer&&clearTimeout(i.timer),i.visible=l}))}))}),{threshold:a}),l.observe(t))}));return{destroy(){c(),d()}}}(t,{visibilityActions:n,disappearActions:r,rootCtx:$t,componentContext:ft}));const o=ft.json.id;return o&&Mt.registerChild(o),null===(e=ft.json.tooltips)||void 0===e||e.forEach((e=>{$t.registerTooltip(t,e)})),{destroy(){o&&Mt.unregisterChild(o),s&&s.destroy()}}},function(){ft.json.focus&&(M||i(8,Be=!0),ft.execAnyActions(De))},function(){ft.json.focus&&(i(8,Be=!1),ft.execAnyActions(Te))},wt,gt,yt,vt,bt,_t,xt,kt,Ct,Et,Tt,te,ee,re,se,oe,ae,ce,de,he,At,jt,Lt,pe,ue,fe,me,ye,Ot,Ft,Bt,ve,be,_e,xe,we,Vt,Nt,Ce,Ee,Ut,Ht,qt,Ae,Gt,Zt,Yt,Wt,je,Le,Oe,Fe,Kt,Xt,Jt,S,x,C,w,k,I,D,T,P,A,j,L,O,F,B,V,z,N,R,U,q,G,Z,pt,ut]}const bs=class extends Qn{constructor(t){super(),Xn(this,t,vs,us,xi,{componentContext:0,cls:1,style:43,layoutParams:44,customDescription:45,customPaddings:46,customActions:47,additionalPaddings:48,heightByAspect:49,parentOf:42,parentOfSimpleMode:50,replaceItems:51,hasInnerFocusable:2},null,[-1,-1,-1,-1,-1])}},_s={"text-range":"divkit-b4897","text-range_singleline":"divkit-b9de8","text-range__top-offset":"divkit-dfdba","text-range_decoration_both":"divkit-c3dfb","text-range_decoration_underline":"divkit-ca906","text-range_decoration_strike":"divkit-a8dd7","text-range_decoration_none":"divkit-cbf85"};function xs(t,e){const i=Number(t);return Number.isNaN(i)||i<=0?e:i}function ks(t){let e,i;return{c(){e=Gi("span"),Ji(e,"class",i=_s["text-range__top-offset"]),en(e,"margin-top",t[5])},m(t,i){Ui(t,e,i)},p(t,i){32&i&&en(e,"margin-top",t[5])},d(t){t&&Hi(e)}}}function ws(t){let e;return{c(){e=Yi(t[1])},m(t,i){Ui(t,e,i)},p(t,i){var n,r;2&i&&(n=e,r=""+(r=t[1]),n.data!==r&&(n.data=r))},d(t){t&&Hi(e)}}}function Cs(t){let e,i,n,r=t[5]&&ks(t);return i=new Kr({props:{componentContext:t[0],cls:Sr("text-range",_s,t[4]),actions:t[2],style:lr(t[3]),$$slots:{default:[ws]},$$scope:{ctx:t}}}),{c(){r&&r.c(),e=Ki(),Yn(i.$$.fragment)},m(t,s){r&&r.m(t,s),Ui(t,e,s),Wn(i,t,s),n=!0},p(t,n){let[s]=n;t[5]?r?r.p(t,s):(r=ks(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null);const o={};1&s&&(o.componentContext=t[0]),16&s&&(o.cls=Sr("text-range",_s,t[4])),4&s&&(o.actions=t[2]),8&s&&(o.style=lr(t[3])),8388610&s&&(o.$$scope={dirty:s,ctx:t}),i.$set(o)},i(t){n||(On(i.$$.fragment,t),n=!0)},o(t){Fn(i.$$.fragment,t),n=!1},d(t){t&&Hi(e),r&&r.d(t),Kn(i,t)}}}function Es(t,e,i){let n,r,s,o,a,l;var c,d;let{componentContext:h}=e,{text:p}=e,{rootFontSize:u}=e,{textStyles:f={}}=e,{singleline:m=!1}=e,{actions:g}=e;const y=fn(rr);let v,b="none",_=12,x=1.25,k="",w="",C="",E=null;return t.$$set=t=>{"componentContext"in t&&i(0,h=t.componentContext),"text"in t&&i(1,p=t.text),"rootFontSize"in t&&i(6,u=t.rootFontSize),"textStyles"in t&&i(7,f=t.textStyles),"singleline"in t&&i(8,m=t.singleline),"actions"in t&&i(2,g=t.actions)},t.$$.update=()=>{if(1&t.$$.dirty&&h.json&&(i(11,b="none"),i(12,_=12),i(13,x=1.25),i(14,k=""),i(15,v=void 0),i(16,w=""),i(17,C=""),i(18,E=null)),128&t.$$.dirty){let t="none";(f.underline||f.strike)&&("single"===f.underline&&"single"===f.strike?t="both":"single"===f.underline?t="underline":"single"===f.strike&&(t="strike")),i(11,b=t)}4224&t.$$.dirty&&i(12,_=xs(f.font_size,_)),4224&t.$$.dirty&&Jr(f.line_height)&&i(13,x=Number(f.line_height)/_),128&t.$$.dirty&&Dr(f.letter_spacing)&&i(14,k=cr(f.letter_spacing)),32896&t.$$.dirty&&(i(15,v=function(t,e){return function(t){if("light"===t||"medium"===t||"bold"===t||"regular"===t)return"medium"===t?500:"bold"===t?700:"light"===t?300:400}(t)||e}(f.font_weight,v)),"string"==typeof f.font_family&&f.font_family?i(16,w=y.typefaceProvider(f.font_family,{fontWeight:v||400})):i(16,w="")),131200&t.$$.dirty&&i(17,C=pr(f.text_color,1,C)),128&t.$$.dirty&&i(5,n=f.top_offset?cr(f.top_offset):""),128&t.$$.dirty&&i(20,r=f.background?gr([f.background]):null),640&t.$$.dirty&&((null===i(9,c=f.border)||void 0===c?void 0:c.stroke)&&f.border.stroke.color&&"transparent"!==pr(f.border.stroke.color)&&Jr(f.border.stroke.width)?i(18,E={color:f.border.stroke.color,width:f.border.stroke.width}):i(18,E=null)),1152&t.$$.dirty&&i(19,s=xs(null===i(10,d=f.border)||void 0===d?void 0:d.corner_radius,0)),4224&t.$$.dirty&&i(21,o=f.text_shadow?function(t,e){var i,n,r,s,o,a;return"drop-shadow("+pr(t.color||"#000000",null!==(i=t.alpha)&&void 0!==i?i:.19)+" "+cr(10*((null===(n=t.offset)||void 0===n||null===(r=n.x)||void 0===r?void 0:r.value)||0)/e)+" "+cr(10*((null===(s=t.offset)||void 0===s||null===(o=s.y)||void 0===o?void 0:o.value)||0)/e)+" "+cr(10*(null!==(a=t.blur)&&void 0!==a?a:2)/e)+")"}(f.text_shadow,_):void 0),2304&t.$$.dirty&&i(4,a={singleline:m,decoration:b}),4190272&t.$$.dirty&&i(3,l={"font-size":cr(10*_/u),"line-height":x,"letter-spacing":k,"font-weight":v,"font-family":w,filter:o,color:C,background:(null==r?void 0:r.color)||void 0,"box-shadow":E?"inset 0 0 0 ".concat(cr(E.width)," ").concat(E.color):void 0,"border-radius":s?cr(s):void 0})},[h,p,g,l,a,n,u,f,m,c,d,b,_,x,k,v,w,C,E,s,r,o]}const Ss=class extends Qn{constructor(t){super(),Xn(this,t,Es,Cs,xi,{componentContext:0,text:1,rootFontSize:6,textStyles:7,singleline:8,actions:2})}};function $s(t,e){return"source_in"===t||"source_atop"===t||"darken"===t||"lighten"===t||"multiply"===t||"screen"===t?t:e}function Ms(t,e){let i;return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];null!==i&&clearTimeout(i),i=setTimeout((()=>{t.apply(this,r),i=null}),e)}}function Is(t,e){let i=null;const n=()=>{const i=getComputedStyle(t),n=parseFloat(i.lineHeight);t.style.webkitLineClamp="",t.style.maxHeight="";const r=t.offsetHeight;if(t.scrollHeight<=r+1e-9)return;let s=Math.max(1,Math.floor(r/n));e.maxLines&&e.maxLines<s&&(s=e.maxLines),t.style.webkitLineClamp=String(s),t.style.maxHeight=n*s+"px"},r=Ms(n,50),s=()=>{i&&(i.disconnect(),i=null)},o=()=>{if(s(),e.enabled){if(n(),"undefined"!=typeof ResizeObserver){i=new ResizeObserver(r);const e=t.parentElement;e&&i.observe(e)}}else t.style.webkitLineClamp=String(e.lineClamp||"")};return o(),{update(t){e=t,o()},destroy(){s()}}}const{Boolean:Ds}=Oi;function Ts(t,e,i){const n=t.slice();return n[60]=e[i],n}function Ps(t){let e,i;return e=new Ss({props:{componentContext:t[0],text:t[2],rootFontSize:t[3],textStyles:t[29],singleline:t[6]}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};1&i[0]&&(n.componentContext=t[0]),4&i[0]&&(n.text=t[2]),8&i[0]&&(n.rootFontSize=t[3]),536870912&i[0]&&(n.textStyles=t[29]),64&i[0]&&(n.singleline=t[6]),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function As(t){let e,i,n=zn(t[10]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Fs(Ts(t,n,e));const s=t=>Fn(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=Ki()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);Ui(t,e,n),i=!0},p(t,i){if(1353&i[0]|1&i[1]){let o;for(n=zn(t[10]),o=0;o<n.length;o+=1){const s=Ts(t,n,o);r[o]?(r[o].p(s,i),On(r[o],1)):(r[o]=Fs(s),r[o].c(),On(r[o],1),r[o].m(e.parentNode,e))}for(jn(),o=n.length;o<r.length;o+=1)s(o);Ln()}},i(t){if(!i){for(let t=0;t<n.length;t+=1)On(r[t]);i=!0}},o(t){r=r.filter(Ds);for(let t=0;t<r.length;t+=1)Fn(r[t]);i=!1},d(t){t&&Hi(e),qi(r,t)}}}function js(t){let e,i,n,r,s,o,a,l,c;return{c(){e=Gi("span"),i=Gi("img"),Ji(i,"class",n=or.text__image),_i(i.src,r=t[60].image.url)||Ji(i,"src",r),Ji(i,"loading",s=t[60].image.preloadRequired?"eager":"lazy"),Ji(i,"decoding","async"),Ji(i,"aria-hidden","true"),Ji(i,"alt",""),Ji(i,"style",o=lr({width:t[60].image.width,height:t[60].image.height,"margin-top":t[8]?"-".concat(t[60].image.height):void 0,"margin-bottom":t[8]?"-".concat(t[60].image.height):void 0,filter:t[60].image.svgFilterId?"url(#".concat(t[60].image.svgFilterId,")"):void 0})),Ji(e,"style",a=lr(t[60].image.wrapperStyle))},m(n,r){Ui(n,e,r),zi(e,i),l||(c=Xi(i,"error",t[31]),l=!0)},p(t,n){1024&n[0]&&!_i(i.src,r=t[60].image.url)&&Ji(i,"src",r),1024&n[0]&&s!==(s=t[60].image.preloadRequired?"eager":"lazy")&&Ji(i,"loading",s),1280&n[0]&&o!==(o=lr({width:t[60].image.width,height:t[60].image.height,"margin-top":t[8]?"-".concat(t[60].image.height):void 0,"margin-bottom":t[8]?"-".concat(t[60].image.height):void 0,filter:t[60].image.svgFilterId?"url(#".concat(t[60].image.svgFilterId,")"):void 0}))&&Ji(i,"style",o),1024&n[0]&&a!==(a=lr(t[60].image.wrapperStyle))&&Ji(e,"style",a)},i:pi,o:pi,d(t){t&&Hi(e),l=!1,c()}}}function Ls(t){let e,i,n=t[60].text&&Os(t);return{c(){n&&n.c(),e=Ki()},m(t,r){n&&n.m(t,r),Ui(t,e,r),i=!0},p(t,i){t[60].text?n?(n.p(t,i),1024&i[0]&&On(n,1)):(n=Os(t),n.c(),On(n,1),n.m(e.parentNode,e)):n&&(jn(),Fn(n,1,1,(()=>{n=null})),Ln())},i(t){i||(On(n),i=!0)},o(t){Fn(n),i=!1},d(t){t&&Hi(e),n&&n.d(t)}}}function Os(t){let e,i;return e=new Ss({props:{componentContext:t[0],text:t[60].text,rootFontSize:t[3],textStyles:t[60].textStyles,singleline:t[6],actions:t[60].actions}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};1&i[0]&&(n.componentContext=t[0]),1024&i[0]&&(n.text=t[60].text),8&i[0]&&(n.rootFontSize=t[3]),1024&i[0]&&(n.textStyles=t[60].textStyles),64&i[0]&&(n.singleline=t[6]),1024&i[0]&&(n.actions=t[60].actions),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function Fs(t){let e,i,n,r;const s=[Ls,js],o=[];function a(t,e){return"text"in t[60]?0:t[60].image?1:-1}return~(e=a(t))&&(i=o[e]=s[e](t)),{c(){i&&i.c(),n=Ki()},m(t,i){~e&&o[e].m(t,i),Ui(t,n,i),r=!0},p(t,r){let l=e;e=a(t),e===l?~e&&o[e].p(t,r):(i&&(jn(),Fn(o[l],1,1,(()=>{o[l]=null})),Ln()),~e?(i=o[e],i?i.p(t,r):(i=o[e]=s[e](t),i.c()),On(i,1),i.m(n.parentNode,n)):i=null)},i(t){r||(On(i),r=!0)},o(t){Fn(i),r=!1},d(t){t&&Hi(n),~e&&o[e].d(t)}}}function Bs(t){let e,i,n,r,s,o,a,l,c;const d=[As,Ps],h=[];function p(t,e){return t[10].length?0:1}return i=p(t),n=h[i]=d[i](t),{c(){e=Gi("span"),n.c(),Ji(e,"class",r=Sr("text__inner",or,t[12])),Ji(e,"style",s=lr(t[11]))},m(n,r){Ui(n,e,r),h[i].m(e,null),a=!0,l||(c=Ii(o=Is.call(null,e,{enabled:t[7],lineClamp:"number"==typeof t[4]?t[4]:void 0,maxLines:t[9]})),l=!0)},p(t,l){let c=i;i=p(t),i===c?h[i].p(t,l):(jn(),Fn(h[c],1,1,(()=>{h[c]=null})),Ln(),n=h[i],n?n.p(t,l):(n=h[i]=d[i](t),n.c()),On(n,1),n.m(e,null)),(!a||4096&l[0]&&r!==(r=Sr("text__inner",or,t[12])))&&Ji(e,"class",r),(!a||2048&l[0]&&s!==(s=lr(t[11])))&&Ji(e,"style",s),o&&vi(o.update)&&656&l[0]&&o.update.call(null,{enabled:t[7],lineClamp:"number"==typeof t[4]?t[4]:void 0,maxLines:t[9]})},i(t){a||(On(n),a=!0)},o(t){Fn(n),a=!1},d(t){t&&Hi(e),h[i].d(),l=!1,c()}}}function Vs(t){let e,i;return e=new bs({props:{cls:Sr("text",or,t[13])+" "+(t[5]?"":nr.root__unselectable),componentContext:t[0],layoutParams:t[1],$$slots:{default:[Bs]},$$scope:{ctx:t}}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};8224&i[0]&&(n.cls=Sr("text",or,t[13])+" "+(t[5]?"":nr.root__unselectable)),1&i[0]&&(n.componentContext=t[0]),2&i[0]&&(n.layoutParams=t[1]),536879069&i[0]|2&i[2]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function zs(t,e,i){let n,r,s,o,a,l,c,d,h,p,u,f,m,g,y,v,b,_,x,k,w,C,E,S,$,M,I,D,T,P,A,j,L,O,F,B,V,z,N=pi,R=pi,U=pi,H=pi,q=pi,G=pi,Z=pi,Y=pi,W=pi,K=pi,X=pi,J=pi,Q=pi,tt=pi,et=pi;t.$$.on_destroy.push((()=>N())),t.$$.on_destroy.push((()=>R())),t.$$.on_destroy.push((()=>U())),t.$$.on_destroy.push((()=>H())),t.$$.on_destroy.push((()=>q())),t.$$.on_destroy.push((()=>G())),t.$$.on_destroy.push((()=>Z())),t.$$.on_destroy.push((()=>Y())),t.$$.on_destroy.push((()=>W())),t.$$.on_destroy.push((()=>K())),t.$$.on_destroy.push((()=>X())),t.$$.on_destroy.push((()=>J())),t.$$.on_destroy.push((()=>Q())),t.$$.on_destroy.push((()=>tt())),t.$$.on_destroy.push((()=>et()));let{componentContext:it}=e,{layoutParams:nt}=e;const rt=fn(rr),st=rt.direction;wi(t,st,(t=>i(52,L=t)));let ot,at="",lt=12,ct=1.25,dt=!1,ht="",pt="",ut=!1,ft="start",mt="start",gt="",yt="",vt="",bt=!1,_t=[],xt=[];return pn((()=>{xt.forEach((t=>{let[e,i]=t;rt.removeSvgFilter(e,i)}))})),t.$$set=t=>{"componentContext"in t&&i(0,it=t.componentContext),"layoutParams"in t&&i(1,nt=t.layoutParams)},t.$$.update=()=>{var e,nt;if(1&t.$$.dirty[0]&&it.json&&(i(3,lt=12),i(32,ct=1.25),i(8,dt=!1),i(33,ht=""),i(9,ot=void 0),i(4,pt=""),i(34,ut=!1),i(35,ft="start"),i(36,mt="start"),i(37,gt=""),i(39,vt=""),i(5,bt=!1)),1&t.$$.dirty[0]&&(i(28,n=it.getDerivedFromVars(it.json.text)),et(),et=ki(n,(t=>i(56,z=t)))),1&t.$$.dirty[0]&&(i(27,r=it.getDerivedFromVars(it.json.ranges)),R(),R=ki(r,(t=>i(44,S=t)))),1&t.$$.dirty[0]&&(i(26,s=it.getDerivedFromVars(it.json.images)),N(),N=ki(s,(t=>i(43,E=t)))),1&t.$$.dirty[0]&&(i(25,o=it.getDerivedFromVars({font_size:it.json.font_size,letter_spacing:it.json.letter_spacing,font_weight:it.json.font_weight,font_family:it.json.font_family,text_color:it.json.text_color,underline:it.json.underline,strike:it.json.strike,line_height:it.json.line_height,text_shadow:it.json.text_shadow})),U(),U=ki(o,(t=>i(29,$=t)))),1&t.$$.dirty[0]&&(i(24,a=it.getDerivedFromVars(it.json.font_size)),tt(),tt=ki(a,(t=>i(55,V=t)))),1&t.$$.dirty[0]&&(i(23,l=it.getDerivedFromVars(it.json.line_height)),Q(),Q=ki(l,(t=>i(54,B=t)))),1&t.$$.dirty[0]&&(i(22,c=it.getDerivedFromVars(it.json.max_lines)),W(),W=ki(c,(t=>i(50,A=t)))),1&t.$$.dirty[0]&&(i(21,d=it.getDerivedFromVars(it.json.text_alignment_horizontal)),X(),X=ki(d,(t=>i(53,O=t)))),1&t.$$.dirty[0]&&(i(20,h=it.getDerivedFromVars(it.json.text_alignment_vertical)),K(),K=ki(h,(t=>i(51,j=t)))),1&t.$$.dirty[0]&&(i(19,p=it.getDerivedFromVars(it.json.text_color)),Y(),Y=ki(p,(t=>i(49,P=t)))),1&t.$$.dirty[0]&&(i(18,u=it.getDerivedFromVars(it.json.focused_text_color)),Z(),Z=ki(u,(t=>i(48,T=t)))),1&t.$$.dirty[0]&&(i(17,f=it.getDerivedFromVars(it.json.truncate)),G(),G=ki(f,(t=>i(47,D=t)))),1&t.$$.dirty[0]&&(i(16,m=it.getDerivedFromVars(it.json.text_gradient)),q(),q=ki(m,(t=>i(46,I=t)))),1&t.$$.dirty[0]&&(i(15,g=it.getDerivedFromVars(it.json.selectable)),H(),H=ki(g,(t=>i(45,M=t)))),1&t.$$.dirty[0]&&(i(14,y=it.getDerivedFromVars(it.json.auto_ellipsize)),J(),J=ki(y,(t=>i(7,F=t)))),33554432&t.$$.dirty[1]&&i(2,(e=z,at=String(null!=e?e:""))),8&t.$$.dirty[0]|16777216&t.$$.dirty[1]&&i(3,lt=xs(V,lt)),8&t.$$.dirty[0]|8388608&t.$$.dirty[1]){const t=B;Jr(t)?(i(32,ct=Number(t)/lt),i(8,dt=!0)):i(8,dt=!1)}if(524288&t.$$.dirty[1]&&i(6,v=1===A),128&t.$$.dirty[0]|524290&t.$$.dirty[1]){let t,e="",n="",r=!1;if(A&&A>1){const i=Number(A);e=i*ct+"em",t=i,n=i,r=!0}else F&&1!==A&&(r=!0);i(33,ht=e),i(9,ot=t),i(4,pt=n),i(34,ut=r)}if(6291472&t.$$.dirty[1]&&i(35,ft=function(t,e,i){return"left"===t||"center"===t||"right"===t||"start"===t||"end"===t?"left"===t?"ltr"===e?"start":"end":"right"===t?"ltr"===e?"end":"start":t:i}(O,L,ft)),1048608&t.$$.dirty[1]&&i(36,mt="top"===(nt=j)||"center"===nt||"bottom"===nt||"baseline"===nt?"top"===nt?"start":"bottom"===nt?"end":nt:mt),4&t.$$.dirty[0]|8192&t.$$.dirty[1]&&i(42,b=!S||at&&1===S.length&&S[0]&&0===S[0].start&&"number"==typeof S[0].end&&S[0].end>=at.length),270336&t.$$.dirty[1]&&i(41,_=Boolean(P)!==Boolean(S&&S[0]&&S[0].text_color)),797760&t.$$.dirty[1]){let t="";A&&b&&_&&(t=pr(P||S&&S[0]&&S[0].text_color,1,gt)),i(37,gt=t)}if(131200&t.$$.dirty[1]&&i(38,yt=pr(T,1,yt)),65536&t.$$.dirty[1]&&i(40,x="none"===D?"none":""),32768&t.$$.dirty[1]){let t="";if(I){const e=gr([I]);e.image&&(t=e.image)}i(39,vt=t)}32&t.$$.dirty[0]|16384&t.$$.dirty[1]&&i(5,bt=function(t,e){return 1===t||0===t||!1===t||!0===t?Boolean(t):e}(M,bt)),4&t.$$.dirty[0]|12288&t.$$.dirty[1]&&function(t,e,n){let r=[];if(xt.forEach((t=>{let[e,i]=t;rt.removeSvgFilter(e,i)})),xt=[],!(Array.isArray(e)&&e.length||Array.isArray(n)&&n.length&&t))return void i(10,_t=[]);const s=t;let o=e||[{start:0,end:s.length}],a=n||[],l=0,c=[],d=[];o.forEach((t=>{void 0!==t.start&&void 0!==t.end&&(d.push({index:t.start,range:t,type:"rangeStart",isStart:!0}),d.push({index:t.end,range:t,type:"rangeEnd"}))})),a.forEach(((t,e)=>{void 0!==t.start&&t.url&&t.start<=s.length&&d.push({index:t.start,image:t,type:"image",arrayIndex:e})})),d.sort(((t,e)=>t.index===e.index?t.type!==e.type?"image"===t.type?-1:"image"===e.type?1:t.type<e.type?-1:1:"image"===t.type&&"image"===e.type?e.arrayIndex-t.arrayIndex:"rangeStart"===t.type&&"rangeStart"===e.type?t.range.end-e.range.end:"rangeStart"===t.type?1:"rangeStart"===e.type?-1:"image"!==t.type&&"image"!==e.type?t.range.start-e.range.start:0:t.index-e.index)),d.forEach((t=>{var e,i;let n="image"===t.type?null:t.range,o=t.index;if(o>l){let n=Object.assign(Object.assign({},$),...c);r.push({text:s.substring(l,o),textStyles:n,actions:"rangeEnd"===t.type&&(null===(i=null===(e=t.range)||void 0===e?void 0:e.actions)||void 0===i?void 0:i.filter(zr))||void 0})}if("rangeStart"===t.type&&n)c.push(n);else if("rangeEnd"===t.type)c=c.filter((e=>e!==t.range));else if("image"===t.type){let e=Object.assign(Object.assign({},$),...c),i=cr(10*(t.image.width&&t.image.width.value||20)/(e.font_size||12)),n=cr(10*(t.image.height&&t.image.height.value||20)/(e.font_size||12));const s={"font-size":cr(10*(Number(e.font_size)||12)/lt)};let o="";const a=t.image.tint_color,l=$s(t.image.tint_mode,"source_in");if(a){const e=pr(t.image.tint_color);o=rt.addSvgFilter(e,l),xt.push([e,l])}r.push({image:{url:t.image.url,width:i,height:n,wrapperStyle:s,svgFilterId:o,preloadRequired:Boolean(t.image.preload_required)}})}l=o})),l<s.length&&r.push({text:s.substring(l),textStyles:Object.assign({},$)}),i(10,_t=r)}(at,S,E),64&t.$$.dirty[0]|696&t.$$.dirty[1]&&i(13,k={singleline:v,multiline:ut,halign:ft,valign:mt,truncate:x,"has-focus-color":Boolean(yt)}),256&t.$$.dirty[1]&&i(12,w={gradient:Boolean(vt)}),24&t.$$.dirty[0]|454&t.$$.dirty[1]&&i(11,C={"font-size":cr(lt),"line-height":ct,"max-height":ht,"-webkit-line-clamp":pt,color:gt,"background-image":vt,"--divkit-text-focus-color":yt})},[it,nt,at,lt,pt,bt,v,F,dt,ot,_t,C,w,k,y,g,m,f,u,p,h,d,c,l,a,o,s,r,n,$,st,function(t){t.target&&"classList"in t.target&&t.target.classList.add(or.text__image_hidden)},ct,ht,ut,ft,mt,gt,yt,vt,x,_,b,E,S,M,I,D,T,P,A,j,L,O,B,V,z]}const Ns={container:"divkit-b0274",container_wrap:"divkit-a2585",container_overflow_visible:"divkit-ba401",container_orientation_vertical:"divkit-e569d",container_valign_start:"divkit-a99d6",container_valign_center:"divkit-d784f",container_valign_end:"divkit-d033c","container_valign_space-between":"divkit-e094e","container_valign_space-around":"divkit-a71d9","container_valign_space-evenly":"divkit-c82a7",container_halign_start:"divkit-cd820",container_halign_center:"divkit-d4db9",container_halign_end:"divkit-f7715","container_halign_space-between":"divkit-b36c2","container_halign_space-around":"divkit-a5b18","container_halign_space-evenly":"divkit-e8052",container_orientation_horizontal:"divkit-d29da",container_orientation_overlap:"divkit-e3078"};function Rs(t){return{top:Number(null==t?void 0:t.top)||0,right:Number(null==t?void 0:t.right)||0,bottom:Number(null==t?void 0:t.bottom)||0,left:Number(null==t?void 0:t.left)||0}}function Us(t,e,i){const n=((null==e?void 0:e.margins.left)||0)+((null==e?void 0:e.margins.right)||0),r=((null==e?void 0:e.margins.top)||0)+((null==e?void 0:e.margins.bottom)||0);null!=e&&e.show_at_start&&(i?t.top=e.style.height+r:t.left=e.style.width+n),null!=e&&e.show_at_end&&(i?t.bottom=e.style.height+r:t.right=e.style.width+n)}function Hs(t,e,i){let n;const r=((null==e?void 0:e.margins.left)||0)+((null==e?void 0:e.margins.right)||0),s=((null==e?void 0:e.margins.top)||0)+((null==e?void 0:e.margins.bottom)||0),o=((null==i?void 0:i.margins.left)||0)+((null==i?void 0:i.margins.right)||0),a=((null==i?void 0:i.margins.top)||0)+((null==i?void 0:i.margins.bottom)||0);return n="horizontal"===t?[null!=i&&i.show_between?i.style.height+a:0,null!=e&&e.show_between?e.style.width+r:0]:[null!=e&&e.show_between?e.style.height+s:0,null!=i&&i.show_between?i.style.width+o:0],n.map(cr).join(" ")}function qs(t){var e;const i=null===(e=t.width)||void 0===e?void 0:e.type;return"wrap_content"===i||"fixed"===i}function Gs(t){var e;return"match_parent"!==(null===(e=t.height)||void 0===e?void 0:e.type)}function Zs(t,e,i){if(!(t&&t.shape&&t.shape.type&&e.includes(t.shape.type)&&"shape_drawable"===t.type))return i;let n;if("rounded_rectangle"===t.shape.type)n={width:Pr(null===(s=(r=t.shape).item_width)||void 0===s?void 0:s.value,10),height:Pr(null===(o=r.item_height)||void 0===o?void 0:o.value,10),radius:Pr(null===(a=r.corner_radius)||void 0===a?void 0:a.value,5)};else{if("circle"!==t.shape.type)return i;n=function(t){var e;const i=2*Pr(null===(e=t.radius)||void 0===e?void 0:e.value,10);return{width:i,height:i,radius:i}}(t.shape)}var r,s,o,a;return function(t,e,i){var n;const r={},s=e.stroke||(null==i?void 0:i.stroke),o=null!=s&&s.color?pr(s.color):"",a=null!=s&&s.width?Number(null!==(n=s.width)&&void 0!==n?n:1):"";r.width=t.width,r.height=t.height,r.borderRadius=t.radius;const l=e.background_color||(null==i?void 0:i.color);return r.background=pr(l),o&&a&&(r.boxShadow="inset 0 0 0 ".concat(cr(a)," ").concat(o)),r}(n,t.shape,{color:t.color,stroke:t.stroke})}let Ys;function Ws(){if("undefined"==typeof document&&(Ys=!0),void 0!==Ys)return Ys;const t=document.createElement("div");return t.style.position="absolute",t.style.display="flex",t.style.flexDirection="column",t.style.gap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div")),document.body.appendChild(t),Ys=1===t.scrollHeight,document.body.removeChild(t),Ys}const Ks={"container-separator":"divkit-a9eff","container-separator__item":"divkit-cf175","container-separator__shape":"divkit-c9986"},{window:Xs}=Oi;function Js(t,e,i){const n=t.slice();return n[16]=e[i],n}function Qs(t){let e,i,n,r,s,o="".concat(t[16].style.width,"px"),a="".concat(t[16].style.height,"px"),l="".concat(t[16].style.borderRadius,"px"),c="".concat(t[16].left,"px"),d="".concat(t[16].top,"px"),h="".concat(t[16].width,"px"),p="".concat(t[16].height,"px");return{c(){e=Gi("div"),i=Gi("div"),r=Wi(),Ji(i,"class",n=Ks["container-separator__shape"]),en(i,"width",o),en(i,"height",a),en(i,"border-radius",l),en(i,"background",t[16].style.background),en(i,"box-shadow",t[16].style.boxShadow),Ji(e,"class",s=Ks["container-separator__item"]),en(e,"left",c),en(e,"top",d),en(e,"width",h),en(e,"height",p)},m(t,n){Ui(t,e,n),zi(e,i),zi(e,r)},p(t,n){2&n&&o!==(o="".concat(t[16].style.width,"px"))&&en(i,"width",o),2&n&&a!==(a="".concat(t[16].style.height,"px"))&&en(i,"height",a),2&n&&l!==(l="".concat(t[16].style.borderRadius,"px"))&&en(i,"border-radius",l),2&n&&en(i,"background",t[16].style.background),2&n&&en(i,"box-shadow",t[16].style.boxShadow),2&n&&c!==(c="".concat(t[16].left,"px"))&&en(e,"left",c),2&n&&d!==(d="".concat(t[16].top,"px"))&&en(e,"top",d),2&n&&h!==(h="".concat(t[16].width,"px"))&&en(e,"width",h),2&n&&p!==(p="".concat(t[16].height,"px"))&&en(e,"height",p)},d(t){t&&Hi(e)}}}function to(t){let e,i,n,r,s=zn(t[1]),o=[];for(let e=0;e<s.length;e+=1)o[e]=Qs(Js(t,s,e));return{c(){e=Gi("div");for(let t=0;t<o.length;t+=1)o[t].c();Ji(e,"class",i=Ks["container-separator"])},m(i,s){Ui(i,e,s);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);t[13](e),n||(r=Xi(Xs,"resize",t[2]),n=!0)},p(t,i){let[n]=i;if(2&n){let i;for(s=zn(t[1]),i=0;i<s.length;i+=1){const r=Js(t,s,i);o[i]?o[i].p(r,n):(o[i]=Qs(r),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},i:pi,o:pi,d(i){i&&Hi(e),qi(o,i),t[13](null),n=!1,r()}}}function eo(t,e,i,n,r,s){const o=e.margins.left,a=e.margins.right,l=e.margins.top,c=e.margins.bottom;s?t.push({top:i.bottom+l,left:r.left+o,width:Math.max(0,r.right-r.left-o-a),height:n.top-i.bottom-l-c,style:e.style}):t.push({top:r.top+l,left:i.right+o,width:n.left-i.right-o-a,height:Math.max(0,r.bottom-r.top-l-c),style:e.style})}function io(t,e,i,n,r,s){const o={top:Math.min(...i.map((t=>t.top))),right:Math.max(...i.map((t=>t.right))),bottom:Math.max(...i.map((t=>t.bottom))),left:Math.min(...i.map((t=>t.left)))};if(null==e?void 0:e.show_at_start){let a,l;"space-around"===r||"space-evenly"===r?(a=s.left-e.style.width,l=s.top-e.style.height):(a=i[0].left-e.style.width-e.margins.left-e.margins.right,l=i[0].top-e.style.height-e.margins.top-e.margins.bottom),eo(t,e,{top:0,right:a,bottom:l,left:0},i[0],o,n)}if(null==e?void 0:e.show_between)for(let r=0;r<i.length-1;++r)eo(t,e,i[r],i[r+1],o,n);if(null==e?void 0:e.show_at_end){const a=i[i.length-1];let l,c;"space-around"===r||"space-evenly"===r?(l=s.bottom+e.style.height,c=s.right+e.style.width):(l=a.bottom+e.style.height+e.margins.top+e.margins.bottom,c=a.right+e.style.width+e.margins.left+e.margins.right),eo(t,e,a,{top:l,right:0,bottom:0,left:c},o,n)}}function no(t,e,i){let n,{orientation:r}=e,{separator:s}=e,{lineSeparator:o}=e,{contentHAlign:a}=e,{contentVAlign:l}=e,{direction:c}=e;const d=function(t,e){let i,n=0,r=!1;return function(){const e=Date.now();return!n||Math.abs(e-n)>10?(n=e,i=t.apply(this,arguments)):(r||(r=!0,setTimeout((()=>{r=!1,i=t.apply(this,arguments)}),10)),i)}}((function(){if(!n)return;const t=n.getBoundingClientRect(),e=window.getComputedStyle(n),d={top:t.top+parseFloat(e.paddingTop),right:t.right-parseFloat(e.paddingRight),bottom:t.bottom-parseFloat(e.paddingBottom),left:t.left+parseFloat(e.paddingLeft)};i(1,p=[]);let u=[...n.children].filter((t=>t!==h&&!t.classList.contains(ar.outer__border))),f=[];for(;u.length;){const t=[],e=u.shift();t.push(e);let i=e.getBoundingClientRect(),n=i.left,s=i.right,o=i.bottom;for(;u.length;){let e=u[0],i=e.getBoundingClientRect();if("vertical"===r){if(i.top<o)break}else if("ltr"===c?i.left<s:i.right>n)break;s=Math.max(s,i.right),n=Math.min(n,i.left),o=Math.max(o,i.bottom),t.push(e),u.shift()}f.push(t)}const m=[];f.forEach((t=>{const e=t.map((t=>function(t){const e=t.getBoundingClientRect(),i=getComputedStyle(t);return{top:e.top-parseFloat(i.marginTop),right:e.right+parseFloat(i.marginRight),bottom:e.bottom+parseFloat(i.marginBottom),left:e.left-parseFloat(i.marginLeft)}}(t)));"rtl"===c&&"horizontal"===r&&e.reverse(),s&&io(p,s,e,"vertical"===r,"vertical"===r?l:a,d);const i={top:Math.min(...e.map((t=>t.top))),right:Math.max(...e.map((t=>t.right))),bottom:Math.max(...e.map((t=>t.bottom))),left:Math.min(...e.map((t=>t.left)))};m.push(i)})),"rtl"===c&&"vertical"===r&&m.reverse(),o&&io(p,o,m,"horizontal"===r,"vertical"===r?a:l,d),p.forEach((e=>{e.top-=t.top,e.left-=t.left}))}));let h,p=[],u=!1,f=null,m=null;function g(t){t.some((t=>{var e;const i=null===(e=t.target)||void 0===e?void 0:e.classList;return!(null==i?void 0:i.contains(Ks["container-separator__shape"]))&&!(null==i?void 0:i.contains(Ks["container-separator"]))}))&&d()}return hn((()=>{i(9,u=!0)})),pn((()=>{i(9,u=!1)})),t.$$set=t=>{"orientation"in t&&i(3,r=t.orientation),"separator"in t&&i(4,s=t.separator),"lineSeparator"in t&&i(5,o=t.lineSeparator),"contentHAlign"in t&&i(6,a=t.contentHAlign),"contentVAlign"in t&&i(7,l=t.contentVAlign),"direction"in t&&i(8,c=t.direction)},t.$$.update=()=>{1&t.$$.dirty&&i(12,n=(null==h?void 0:h.parentElement)||null),7680&t.$$.dirty&&(u&&n||f||m)&&(f&&(f.disconnect(),i(10,f=null)),m&&(m.disconnect(),i(11,m=null)),u&&n&&("undefined"!=typeof MutationObserver&&(i(10,f=new MutationObserver(g)),f.observe(n,{childList:!0,attributes:!0,characterData:!0,subtree:!0})),"undefined"!=typeof ResizeObserver&&(i(11,m=new ResizeObserver(d)),m.observe(n)))),4608&t.$$.dirty&&u&&n&&d()},[h,p,d,r,s,o,a,l,c,u,f,m,n,function(t){yn[t?"unshift":"push"]((()=>{h=t,i(0,h)}))}]}const ro=class extends Qn{constructor(t){super(),Xn(this,t,no,to,xi,{orientation:3,separator:4,lineSeparator:5,contentHAlign:6,contentVAlign:7,direction:8})}},{Boolean:so}=Oi;function oo(t,e,i){const n=t.slice();return n[52]=e[i],n}function ao(t){let e,i;return e=new Ua({props:{componentContext:t[52],layoutParams:t[8]}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};512&i[0]&&(n.componentContext=t[52]),256&i[0]&&(n.layoutParams=t[8]),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function lo(t){let e,i;return e=new ro({props:{direction:t[11],separator:t[5],lineSeparator:t[6],orientation:t[2],contentHAlign:t[4],contentVAlign:t[3]}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};2048&i[0]&&(n.direction=t[11]),32&i[0]&&(n.separator=t[5]),64&i[0]&&(n.lineSeparator=t[6]),4&i[0]&&(n.orientation=t[2]),16&i[0]&&(n.contentHAlign=t[4]),8&i[0]&&(n.contentVAlign=t[3]),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function co(t){let e,i,n,r=zn(t[9]),s=[];for(let e=0;e<r.length;e+=1)s[e]=ao(oo(t,r,e));const o=t=>Fn(s[t],1,1,(()=>{s[t]=null}));let a=(t[5]||t[6])&&lo(t);return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=Wi(),a&&a.c(),i=Ki()},m(t,r){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,r);Ui(t,e,r),a&&a.m(t,r),Ui(t,i,r),n=!0},p(t,n){if(768&n[0]){let i;for(r=zn(t[9]),i=0;i<r.length;i+=1){const o=oo(t,r,i);s[i]?(s[i].p(o,n),On(s[i],1)):(s[i]=ao(o),s[i].c(),On(s[i],1),s[i].m(e.parentNode,e))}for(jn(),i=r.length;i<s.length;i+=1)o(i);Ln()}t[5]||t[6]?a?(a.p(t,n),96&n[0]&&On(a,1)):(a=lo(t),a.c(),On(a,1),a.m(i.parentNode,i)):a&&(jn(),Fn(a,1,1,(()=>{a=null})),Ln())},i(t){if(!n){for(let t=0;t<r.length;t+=1)On(s[t]);On(a),n=!0}},o(t){s=s.filter(so);for(let t=0;t<s.length;t+=1)Fn(s[t]);Fn(a),n=!1},d(t){t&&(Hi(e),Hi(i)),qi(s,t),a&&a.d(t)}}}function ho(t){let e,i;return e=new bs({props:{cls:Sr("container",Ns,t[13]),componentContext:t[0],layoutParams:t[1],style:t[10],additionalPaddings:t[14],heightByAspect:Boolean(t[7]),parentOf:t[9].map(mo),replaceItems:t[27],$$slots:{default:[co]},$$scope:{ctx:t}}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};8192&i[0]&&(n.cls=Sr("container",Ns,t[13])),1&i[0]&&(n.componentContext=t[0]),2&i[0]&&(n.layoutParams=t[1]),1024&i[0]&&(n.style=t[10]),16384&i[0]&&(n.additionalPaddings=t[14]),128&i[0]&&(n.heightByAspect=Boolean(t[7])),512&i[0]&&(n.parentOf=t[9].map(mo)),2940&i[0]|16777216&i[1]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}const po={start:"start",center:"center",end:"end","space-between":"start","space-around":"start","space-evenly":"start"},uo={start:"start",center:"center",end:"end",baseline:"baseline","space-between":"start","space-around":"start","space-evenly":"start"},fo=["rounded_rectangle","circle"],mo=t=>t.json;function go(t,e,i){let n,r,s,o,a,l,c,d,h,p,u,f,m,g,y,v,b,_,x,k,w,C,E,S,$,M,I,D,T,P,A,j=pi,L=pi,O=pi,F=pi,B=pi,V=pi,z=pi,N=pi,R=pi,U=pi,H=pi,q=pi;var G,Z,Y,W,K,X,J;t.$$.on_destroy.push((()=>j())),t.$$.on_destroy.push((()=>L())),t.$$.on_destroy.push((()=>O())),t.$$.on_destroy.push((()=>F())),t.$$.on_destroy.push((()=>B())),t.$$.on_destroy.push((()=>V())),t.$$.on_destroy.push((()=>z())),t.$$.on_destroy.push((()=>N())),t.$$.on_destroy.push((()=>R())),t.$$.on_destroy.push((()=>U())),t.$$.on_destroy.push((()=>H())),t.$$.on_destroy.push((()=>q()));let{componentContext:Q}=e,{layoutParams:tt}=e;const et=fn(rr),it=et.direction;let nt;wi(t,it,(t=>i(11,$=t)));let rt,st="vertical",ot="start",at="start",lt=null,ct=null,dt={},ht=[];return t.$$set=t=>{"componentContext"in t&&i(0,Q=t.componentContext),"layoutParams"in t&&i(1,tt=t.layoutParams)},t.$$.update=()=>{if(1&t.$$.dirty[0]&&Q.json&&(i(2,st="vertical"),i(3,ot="start"),i(4,at="start"),i(7,rt=void 0)),1&t.$$.dirty[0]&&i(38,n=Q.json.items),268435457&t.$$.dirty[0]&&(i(25,r=Q.getDerivedFromVars(null===i(28,G=Q.json.item_builder)||void 0===G?void 0:G.data,void 0,!0)),q(),q=ki(r,(t=>i(50,A=t)))),1&t.$$.dirty[0]&&(i(24,s=Q.getDerivedFromVars(Q.json.orientation)),H(),H=ki(s,(t=>i(49,P=t)))),1&t.$$.dirty[0]&&(i(23,o=Q.getDerivedFromVars(Q.json.layout_mode)),U(),U=ki(o,(t=>i(48,T=t)))),1&t.$$.dirty[0]&&(i(22,a=Q.getDerivedFromVars(Q.json.content_alignment_vertical)),N(),N=ki(a,(t=>i(46,I=t)))),1&t.$$.dirty[0]&&(i(21,l=Q.getDerivedFromVars(Q.json.content_alignment_horizontal)),z(),z=ki(l,(t=>i(45,M=t)))),1&t.$$.dirty[0]&&(i(20,c=Q.getDerivedFromVars(Q.json.separator)),V(),V=ki(c,(t=>i(44,S=t)))),1&t.$$.dirty[0]&&(i(19,d=Q.getDerivedFromVars(Q.json.line_separator)),B(),B=ki(d,(t=>i(43,E=t)))),1&t.$$.dirty[0]&&(i(18,h=Q.getDerivedFromVars(Q.json.aspect)),F(),F=ki(h,(t=>i(42,C=t)))),1&t.$$.dirty[0]&&(i(17,p=Q.getDerivedFromVars(Q.json.width)),L(),L=ki(p,(t=>i(40,k=t)))),1&t.$$.dirty[0]&&(i(16,u=Q.getDerivedFromVars(Q.json.height)),O(),O=ki(u,(t=>i(41,w=t)))),1&t.$$.dirty[0]&&(i(15,f=Q.getDerivedFromVars(Q.json.clip_to_bounds)),j(),j=ki(f,(t=>i(39,x=t)))),1&t.$$.dirty[0]|524416&t.$$.dirty[1]){let t=[];if(Q.json.item_builder&&Array.isArray(A)&&Array.isArray(Q.json.item_builder.prototypes)){const e=Q.json.item_builder;t=[],A.forEach((i=>{if(null===i||"object"!=typeof i)return;const n=et.preparePrototypeVariables(e.data_element_name||"it",i);let r;for(let t=0;t<e.prototypes.length;++t){const i=e.prototypes[t];if(i.div){if(void 0===i.selector){r=i.div;break}if(Q.getJsonWithVars(i.selector,n)){r=i.div;break}}}r&&t.push({div:r,vars:n})}))}else t=(n||[]).map((t=>({div:t})));i(9,ht=t.map(((t,e)=>Q.produceChildContext(t.div,{path:e,variables:t.vars}))))}if(513&t.$$.dirty[0]){let t=[];ht.forEach((e=>{t.push(Q.getDerivedFromVars({width:e.json.width,height:e.json.height}))})),i(12,nt=ir(t,(t=>[...t]))),R(),R=ki(nt,(t=>i(47,D=t)))}if(4&t.$$.dirty[0]|262144&t.$$.dirty[1]&&i(2,st=function(t,e){return"vertical"===t||"horizontal"===t||"overlap"===t?t:e}(P,st)),131072&t.$$.dirty[1]&&i(35,m="wrap"===T),4&t.$$.dirty[0]|65552&t.$$.dirty[1]&&i(36,g="horizontal"!==st&&!m&&D.some(qs)),4&t.$$.dirty[0]|65552&t.$$.dirty[1]&&i(37,y="vertical"!==st&&!m&&D.some(Gs)),8&t.$$.dirty[0]|32768&t.$$.dirty[1]&&i(3,ot=function(t,e){return"top"===t||"center"===t||"bottom"===t||"baseline"===t||"space-between"===t||"space-around"===t||"space-evenly"===t?"top"===t?"start":"bottom"===t?"end":t:e}(I,ot)),2064&t.$$.dirty[0]|16384&t.$$.dirty[1]&&i(4,at=function(t,e,i){return"left"===t||"center"===t||"right"===t||"space-between"===t||"space-around"===t||"space-evenly"===t||"start"===t||"end"===t?"left"===t?"ltr"===e?"start":"end":"right"===t?"ltr"===e?"end":"start":t:i}(M,$,at)),1610612772&t.$$.dirty[0]|8193&t.$$.dirty[1])if((null==S?void 0:S.style)&&"overlap"!==st&&Ws()){const t=Zs(S.style,fo,(null==lt?void 0:lt.style)||null);i(5,lt=t?{show_at_start:Boolean(null!==i(29,Z=S.show_at_start)&&void 0!==Z&&Z),show_at_end:Boolean(null!==i(30,Y=S.show_at_end)&&void 0!==Y&&Y),show_between:Boolean(null===i(31,W=S.show_between)||void 0===W||W),style:t,margins:Rs(S.margins)}:null)}else i(5,lt=null);if(68&t.$$.dirty[0]|4110&t.$$.dirty[1])if((null==E?void 0:E.style)&&"overlap"!==st&&Ws()){const t=Zs(E.style,fo,(null==ct?void 0:ct.style)||null);i(6,ct=t?{show_at_start:Boolean(null!==i(32,K=E.show_at_start)&&void 0!==K&&K),show_at_end:Boolean(null!==i(33,X=E.show_at_end)&&void 0!==X&&X),show_between:Boolean(null===i(34,J=E.show_between)||void 0===J||J),style:t,margins:Rs(E.margins)}:null)}else i(6,ct=null);if(100&t.$$.dirty[0]&&i(14,v=lt||ct?function(t,e,i){const n={};return Us(n,e,"vertical"===t),Us(n,i,"horizontal"===t),n}(st,lt,ct):null),2048&t.$$.dirty[1]){const t=null==C?void 0:C.ratio;t&&Jr(t)?i(7,rt=t):i(7,rt=void 0)}if(414&t.$$.dirty[0]|1648&t.$$.dirty[1]){let t={};"overlap"===st&&(t.overlapParent=!0),"horizontal"!==st&&(t.parentHAlign=m?"start":po[at]),"vertical"!==st&&(t.parentVAlign=m?"start":uo[ot]),rt||y||w&&"wrap_content"!==w.type&&("match_parent"!==w.type||!(null==tt?void 0:tt.parentVerticalWrapContent))||(t.parentVerticalWrapContent=!0),!g&&("wrap_content"===(null==k?void 0:k.type)||"match_parent"===(null==k?void 0:k.type)&&(null==tt?void 0:tt.parentHorizontalWrapContent))&&(t.parentHorizontalWrapContent=!0),"horizontal"===st&&(t.parentContainerOrientation="horizontal"),"vertical"===st&&(t.parentContainerOrientation="vertical"),m&&(t.parentContainerWrap=!0),i(8,dt=Lr(t,dt))}28&t.$$.dirty[0]|272&t.$$.dirty[1]&&i(13,b={orientation:st,valign:ot,halign:at,wrap:m,overflow:!1===x||0===x?"visible":void 0}),228&t.$$.dirty[0]&&i(10,_={gap:lt||ct?Hs(st,lt,ct):void 0,"aspect-ratio":rt})},[Q,tt,st,ot,at,lt,ct,rt,dt,ht,_,$,nt,b,v,f,u,p,h,d,c,l,a,o,s,r,it,function(t){i(0,Q=Object.assign(Object.assign({},Q),{json:Object.assign(Object.assign({},Q.json),{items:t.filter(mr)})}))},G,Z,Y,W,K,X,J,m,g,y,n,x,k,w,C,E,S,M,I,D,T,P,A]}const yo={separator:"divkit-ab686",separator_orientation_horizontal:"divkit-f467e",separator_orientation_vertical:"divkit-bc7ad",separator__inner:"divkit-f101c"};function vo(t,e){return"vertical"===t||"horizontal"===t?t:e}function bo(t){let e,i,n;return{c(){e=Gi("span"),Ji(e,"class",i=yo.separator__inner),Ji(e,"style",n=lr(t[3]))},m(t,i){Ui(t,e,i)},p(t,i){8&i&&n!==(n=lr(t[3]))&&Ji(e,"style",n)},d(t){t&&Hi(e)}}}function _o(t){let e,i=t[4]&&bo(t);return{c(){i&&i.c(),e=Ki()},m(t,n){i&&i.m(t,n),Ui(t,e,n)},p(t,n){t[4]?i?i.p(t,n):(i=bo(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){t&&Hi(e),i&&i.d(t)}}}function xo(t){let e,i;return e=new bs({props:{cls:Sr("separator",yo,t[2]),componentContext:t[0],layoutParams:t[1],$$slots:{default:[_o]},$$scope:{ctx:t}}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){let[n]=i;const r={};4&n&&(r.cls=Sr("separator",yo,t[2])),1&n&&(r.componentContext=t[0]),2&n&&(r.layoutParams=t[1]),2072&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function ko(t,e,i){let n,r,s,o,a,l,c,d=pi;t.$$.on_destroy.push((()=>d()));let{componentContext:h}=e,{layoutParams:p}=e,u="horizontal",f="rgba(0,0,0,0.08)";return t.$$set=t=>{"componentContext"in t&&i(0,h=t.componentContext),"layoutParams"in t&&i(1,p=t.layoutParams)},t.$$.update=()=>{1&t.$$.dirty&&h.json&&(i(6,u="horizontal"),i(7,f="rgba(0,0,0,0.08)")),1&t.$$.dirty&&(i(5,n=h.getDerivedFromVars(h.json.delimiter_style)),d(),d=ki(n,(t=>i(10,c=t)))),1088&t.$$.dirty&&i(6,u=vo(null==c?void 0:c.orientation,u)),1024&t.$$.dirty&&i(4,r=!((null==c?void 0:c.color)&&("transparent"===c.color||9===c.color.length&&0===c.color.indexOf("#00")))),1152&t.$$.dirty&&i(7,f=pr(null==c?void 0:c.color,1,f)),64&t.$$.dirty&&i(9,s="horizontal"===u?"100%":cr(1)),64&t.$$.dirty&&i(8,o="horizontal"===u?cr(1):"100%"),896&t.$$.dirty&&i(3,a={background:f,width:s,height:o}),64&t.$$.dirty&&i(2,l={orientation:u})},[h,p,l,a,r,n,u,f,o,s,c]}const wo={image:"divkit-dd314","image_is-width-content":"divkit-c3744","image_is-height-content":"divkit-fb6db",image__image:"divkit-d4c95",image_error:"divkit-b441d","image_is-rtl-mirror":"divkit-c46b3","image__aspect-wrapper":"divkit-c7ac5",image_aspect:"divkit-dfe61",image_loaded:"divkit-a5a8e","divkit-image-appearance":"divkit-c3905","image_before-appearance":"divkit-beb15"};function Co(t){let e,i;return e=new bs({props:{cls:Sr("image",wo,t[9]),componentContext:t[0],layoutParams:t[1],customDescription:!0,$$slots:{default:[Mo]},$$scope:{ctx:t}}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};512&i[0]&&(n.cls=Sr("image",wo,t[9])),1&i[0]&&(n.componentContext=t[0]),2&i[0]&&(n.layoutParams=t[1]),67110780&i[0]|16&i[2]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function Eo(t){let e,i,n,r,s,o,a,l;return{c(){e=Gi("img"),Ji(e,"class",i=wo.image__image),_i(e.src,n=t[3]===To?Do:t[4])||Ji(e,"src",n),Ji(e,"loading",r=t[26]?"eager":"lazy"),Ji(e,"decoding","async"),Ji(e,"style",s=lr(t[8])),Ji(e,"alt",t[10]),Ji(e,"aria-hidden",o=t[10]?null:"true")},m(i,n){Ui(i,e,n),t[62](e),a||(l=[Xi(e,"load",t[28]),Xi(e,"error",t[29])],a=!0)},p(t,i){24&i[0]&&!_i(e.src,n=t[3]===To?Do:t[4])&&Ji(e,"src",n),67108864&i[0]&&r!==(r=t[26]?"eager":"lazy")&&Ji(e,"loading",r),256&i[0]&&s!==(s=lr(t[8]))&&Ji(e,"style",s),1024&i[0]&&Ji(e,"alt",t[10]),1024&i[0]&&o!==(o=t[10]?null:"true")&&Ji(e,"aria-hidden",o)},d(i){i&&Hi(e),t[62](null),a=!1,yi(l)}}}function So(t){let e,i,n,r,s,o,a,l,c,d,h="".concat(t[5],"%");return{c(){e=Gi("span"),i=Gi("img"),Ji(i,"class",n=wo.image__image),_i(i.src,r=t[3]===To?Do:t[4])||Ji(i,"src",r),Ji(i,"loading",s=t[26]?"eager":"lazy"),Ji(i,"decoding","async"),Ji(i,"style",o=lr(t[8])),Ji(i,"alt",t[10]),Ji(i,"aria-hidden",a=t[10]?null:"true"),Ji(e,"class",l=wo["image__aspect-wrapper"]),en(e,"padding-bottom",h)},m(n,r){Ui(n,e,r),zi(e,i),t[61](i),c||(d=[Xi(i,"load",t[28]),Xi(i,"error",t[29])],c=!0)},p(t,n){24&n[0]&&!_i(i.src,r=t[3]===To?Do:t[4])&&Ji(i,"src",r),67108864&n[0]&&s!==(s=t[26]?"eager":"lazy")&&Ji(i,"loading",s),256&n[0]&&o!==(o=lr(t[8]))&&Ji(i,"style",o),1024&n[0]&&Ji(i,"alt",t[10]),1024&n[0]&&a!==(a=t[10]?null:"true")&&Ji(i,"aria-hidden",a),32&n[0]&&h!==(h="".concat(t[5],"%"))&&en(e,"padding-bottom",h)},d(i){i&&Hi(e),t[61](null),c=!1,yi(d)}}}function $o(t){let e;function i(t,e){return t[9].aspect?So:Eo}let n=i(t),r=n(t);return{c(){r.c(),e=Ki()},m(t,i){r.m(t,i),Ui(t,e,i)},p(t,s){n===(n=i(t))&&r?r.p(t,s):(r.d(1),r=n(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){t&&Hi(e),r.d(t)}}}function Mo(t){let e,i=t[6],n=$o(t);return{c(){n.c(),e=Ki()},m(t,i){n.m(t,i),Ui(t,e,i)},p(t,r){64&r[0]&&xi(i,i=t[6])?(n.d(1),n=$o(t),n.c(),n.m(e.parentNode,e)):n.p(t,r)},d(t){t&&Hi(e),n.d(t)}}}function Io(t){let e,i,n=!t[7]&&Co(t);return{c(){n&&n.c(),e=Ki()},m(t,r){n&&n.m(t,r),Ui(t,e,r),i=!0},p(t,i){t[7]?n&&(jn(),Fn(n,1,1,(()=>{n=null})),Ln()):n?(n.p(t,i),128&i[0]&&On(n,1)):(n=Co(t),n.c(),On(n,1),n.m(e.parentNode,e))},i(t){i||(On(n),i=!0)},o(t){Fn(n),i=!1},d(t){t&&Hi(e),n&&n.d(t)}}}const Do="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",To=2;function Po(t,e,i){let n,r,s,o,a,l,c,d,h,p,u,f,m,g,y,v,b,_,x,k,w,C,E,S,$,M,I,D,T,P,A,j,L,O,F,B,V=pi,z=pi,N=pi,R=pi,U=pi,H=pi,q=pi,G=pi,Z=pi,Y=pi,W=pi,K=pi,X=pi,J=pi,Q=pi;t.$$.on_destroy.push((()=>V())),t.$$.on_destroy.push((()=>z())),t.$$.on_destroy.push((()=>N())),t.$$.on_destroy.push((()=>R())),t.$$.on_destroy.push((()=>U())),t.$$.on_destroy.push((()=>H())),t.$$.on_destroy.push((()=>q())),t.$$.on_destroy.push((()=>G())),t.$$.on_destroy.push((()=>Z())),t.$$.on_destroy.push((()=>Y())),t.$$.on_destroy.push((()=>W())),t.$$.on_destroy.push((()=>K())),t.$$.on_destroy.push((()=>X())),t.$$.on_destroy.push((()=>J())),t.$$.on_destroy.push((()=>Q()));let{componentContext:tt}=e,{layoutParams:et}=e;const it=fn(rr),nt=it.direction;let rt;wi(t,nt,(t=>i(47,C=t)));let st,ot,at=0,lt=!1,ct="rgba(0,0,0,0.08)",dt=!1,ht="",pt="none",ut="50% 50%",ft="0",mt="source_in",gt="",yt="",vt=0,bt=0,_t=0,xt="",kt="",wt=!1;return pn((()=>{it.removeSvgFilter(ot,mt)})),t.$$set=t=>{"componentContext"in t&&i(0,tt=t.componentContext),"layoutParams"in t&&i(1,et=t.layoutParams)},t.$$.update=()=>{if(1&t.$$.dirty[0]&&tt.json&&(i(33,pt="none"),i(34,ut="50% 50%"),i(36,mt="source_in")),1&t.$$.dirty[0]&&(i(25,n=tt.getDerivedFromVars(tt.json.image_url)),X(),X=ki(n,(t=>i(59,O=t)))),1&t.$$.dirty[0]&&(i(24,r=tt.getDerivedFromVars(tt.json.gif_url)),J(),J=ki(r,(t=>i(60,F=t)))),1&t.$$.dirty[0]&&(i(23,s=tt.getDerivedFromVars(tt.json.width)),K(),K=ki(s,(t=>i(58,L=t)))),1&t.$$.dirty[0]&&(i(22,o=tt.getDerivedFromVars(tt.json.height)),W(),W=ki(o,(t=>i(57,j=t)))),1&t.$$.dirty[0]&&(i(21,a=tt.getDerivedFromVars(tt.json.preview)),Y(),Y=ki(a,(t=>i(56,A=t)))),1&t.$$.dirty[0]&&(i(20,l=tt.getDerivedFromVars(tt.json.placeholder_color)),Z(),Z=ki(l,(t=>i(55,P=t)))),1&t.$$.dirty[0]&&(i(19,c=tt.getDerivedFromVars(tt.json.scale)),G(),G=ki(c,(t=>i(54,T=t)))),1&t.$$.dirty[0]&&(i(18,d=tt.getDerivedFromVars({content_alignment_horizontal:tt.json.content_alignment_horizontal,content_alignment_vertical:tt.json.content_alignment_vertical})),q(),q=ki(d,(t=>i(53,D=t)))),1&t.$$.dirty[0]&&(i(17,h=tt.getDerivedFromVars(tt.json.accessibility)),H(),H=ki(h,(t=>i(52,I=t)))),1&t.$$.dirty[0]&&(i(16,p=tt.getDerivedFromVars(tt.json.aspect)),U(),U=ki(p,(t=>i(51,M=t)))),1&t.$$.dirty[0]&&(i(15,u=tt.getDerivedFromVars(tt.json.tint_color)),R(),R=ki(u,(t=>i(50,$=t)))),1&t.$$.dirty[0]&&(i(14,f=tt.getDerivedFromVars(tt.json.tint_mode)),N(),N=ki(f,(t=>i(49,S=t)))),1&t.$$.dirty[0]&&(i(13,m=tt.getDerivedFromVars(tt.json.appearance_animation)),z(),z=ki(m,(t=>i(48,E=t)))),1&t.$$.dirty[0]&&(i(12,g=tt.getDerivedFromVars(tt.json.filters)),V(),V=ki(g,(t=>i(46,w=t)))),1&t.$$.dirty[0]&&(i(11,y=tt.getDerivedFromVars(tt.json.preload_required)),Q(),Q=ki(y,(t=>i(26,B=t)))),1073741825&t.$$.dirty[0]|805306368&t.$$.dirty[1]){let t="gif"===tt.json.type?F:O;i(30,lt="empty://"===t),lt&&(t=Do),i(4,st=t)}var e;if(16&t.$$.dirty[0]&&i(3,at=0),17&t.$$.dirty[0]&&(st?i(7,dt=!1):(i(7,dt=!0),tt.logError(sr(new Error('Missing "'.concat("gif"===tt.json.type?"gif_url":"image_url",'" for "').concat(tt.json.type,'"')))))),134217728&t.$$.dirty[1]&&i(45,v="wrap_content"===(null==L?void 0:L.type)),67108864&t.$$.dirty[1]&&i(44,b="wrap_content"===(null==j?void 0:j.type)),1073741832&t.$$.dirty[0]|33554432&t.$$.dirty[1]&&i(32,ht=(0===at||at===To||lt)&&A?'url("'.concat((e=A).startsWith("data:")?fr(e):"data:image/jpg;base64,".concat(fr(e)),'")'):""),1073741832&t.$$.dirty[0]|16777217&t.$$.dirty[1]&&i(31,ct=0===at||at===To||lt?pr(P,1,ct):""),8388612&t.$$.dirty[1]&&i(33,pt=br(T)||pt),4194304&t.$$.dirty[1]&&i(34,ut=function(t,e,i){let n=t.content_alignment_horizontal;const r=t.content_alignment_vertical;return"start"===n?n="ltr"===e?"left":"right":"end"===n&&(n="ltr"===e?"right":"left"),n&&"left"!==n&&"center"!==n&&"right"!==n||r&&"top"!==r&&"center"!==r&&"bottom"!==r?i:_r({content_alignment_horizontal:n,content_alignment_vertical:r})}(D,C,ut)),2097152&t.$$.dirty[1]&&i(10,_=(null==I?void 0:I.description)||""),1048576&t.$$.dirty[1]){const t=null==M?void 0:M.ratio;t&&Jr(t)?i(5,ft=(100/Number(t)).toFixed(2)):i(5,ft="0")}if(786480&t.$$.dirty[1]){const t=$?pr($):void 0,e=$s(S,mt);t===ot&&e===mt||(it.removeSvgFilter(ot,mt),i(6,gt=t?it.addSvgFilter(t,e):""),i(35,ot=t),i(36,mt=e))}if(131072&t.$$.dirty[1]&&E&&"fade"===E.type){const t=E;i(37,yt=Or(t.interpolator,"ease_in_out").replace(/_/g,"-")),i(40,_t=Pr(t.duration,300)),i(39,bt=Pr(t.start_delay,0)),i(38,vt=Pr(t.alpha,0))}if(1&t.$$.dirty[0]|98304&t.$$.dirty[1]){let t="",e="";Array.isArray(w)&&w.length&&(t=Qr(w,tt.logError)),t&&(e="polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"),i(41,xt=t),i(42,kt=e),i(43,wt="rtl"===C&&Array.isArray(w)&&w.some((t=>"rtl_mirror"===t.type)))}40&t.$$.dirty[0]|28736&t.$$.dirty[1]&&i(9,x={aspect:"0"!==ft,"is-width-content":v,"is-height-content":b,loaded:1===at,"before-appearance":Boolean(yt)&&0===at,"is-rtl-mirror":wt}),72&t.$$.dirty[0]|4047&t.$$.dirty[1]&&i(8,k={"background-image":ht,"background-color":ht?void 0:ct,"background-size":pt,"clip-path":kt||void 0,"object-fit":pt,"object-position":ut,filter:[1===at&&gt?"url(#".concat(gt,")"):"",xt].filter(Boolean).join(" "),"--divkit-appearance-interpolator":yt||void 0,"--divkit-appearance-fade-start":yt?vt:void 0,"--divkit-appearance-delay":yt?"".concat(bt,"ms"):void 0,"--divkit-appearance-duration":yt?"".concat(_t,"ms"):void 0})},[tt,et,rt,at,st,ft,gt,dt,k,x,_,y,g,m,f,u,p,h,d,c,l,a,o,s,r,n,B,nt,function(){0===at&&i(3,at=1)},function(){0===at&&i(3,at=To)},lt,ct,ht,pt,ut,ot,mt,yt,vt,bt,_t,xt,kt,wt,b,v,w,C,E,S,$,M,I,D,T,P,A,j,L,O,F,function(t){yn[t?"unshift":"push"]((()=>{rt=t,i(2,rt),i(0,tt),i(60,F),i(59,O),i(30,lt)}))},function(t){yn[t?"unshift":"push"]((()=>{rt=t,i(2,rt),i(0,tt),i(60,F),i(59,O),i(30,lt)}))}]}const Ao=class extends Qn{constructor(t){super(),Xn(this,t,Po,Io,xi,{componentContext:0,layoutParams:1},null,[-1,-1,-1])}},jo={gallery:"divkit-e89ba",gallery__scroller:"divkit-c4b6b",gallery_scrollbar_none:"divkit-cada8",gallery_orientation_horizontal:"divkit-db3e3",gallery_orientation_vertical:"divkit-b4695","gallery_scroll-snap":"divkit-a472d","gallery__items-grid":"divkit-a805e",gallery__items:"divkit-d789e",gallery__arrow:"divkit-afe51","gallery__arrow-icon-path":"divkit-dd66d"},Lo={arrow:"divkit-b7608",arrow__icon:"divkit-ccc86",arrow_left:"divkit-f25e0",arrow_right:"divkit-c5954"};function Oo(t){const e=[];let i=t[0],n=1;for(let r=1;r<=t.length;r++)t[r]!==i?(e.push(n>1?"repeat(".concat(n,", ").concat(i,")"):i),i=t[r],n=1):n++;return e.join(" ")}const{Boolean:Fo}=Oi;function Bo(t,e,i){const n=t.slice();return n[75]=e[i],n[76]=e,n[77]=i,n}function Vo(t,e,i){const n=t.slice();return n[78]=e[i],n}function zo(t){let e,i;return e=new Ua({props:{componentContext:t[78],layoutParams:t[6]}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};65536&i[0]&&(n.componentContext=t[78]),64&i[0]&&(n.layoutParams=t[6]),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function No(t){let e,i,n,r,s,o=t[77],a=zn(t[75]),l=[];for(let e=0;e<a.length;e+=1)l[e]=zo(Vo(t,a,e));const c=t=>Fn(l[t],1,1,(()=>{l[t]=null})),d=()=>t[63](e,o),h=()=>t[63](null,o);return{c(){e=Gi("div");for(let t=0;t<l.length;t+=1)l[t].c();i=Wi(),Ji(e,"class",n=jo.gallery__items),Ji(e,"style",r=lr(t[14]))},m(t,n){Ui(t,e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null);zi(e,i),d(),s=!0},p(n,p){if(t=n,65600&p[0]){let n;for(a=zn(t[75]),n=0;n<a.length;n+=1){const r=Vo(t,a,n);l[n]?(l[n].p(r,p),On(l[n],1)):(l[n]=zo(r),l[n].c(),On(l[n],1),l[n].m(e,i))}for(jn(),n=a.length;n<l.length;n+=1)c(n);Ln()}(!s||16384&p[0]&&r!==(r=lr(t[14])))&&Ji(e,"style",r),o!==t[77]&&(h(),o=t[77],d())},i(t){if(!s){for(let t=0;t<a.length;t+=1)On(l[t]);s=!0}},o(t){l=l.filter(Fo);for(let t=0;t<l.length;t+=1)Fn(l[t]);s=!1},d(t){t&&Hi(e),qi(l,t),h()}}}function Ro(t){let e,i,n=t[10]&&t[7]&&Uo(t),r=t[11]&&t[7]&&Ho(t);return{c(){n&&n.c(),e=Wi(),r&&r.c(),i=Ki()},m(t,s){n&&n.m(t,s),Ui(t,e,s),r&&r.m(t,s),Ui(t,i,s)},p(t,s){t[10]&&t[7]?n?n.p(t,s):(n=Uo(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),t[11]&&t[7]?r?r.p(t,s):(r=Ho(t),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(t){t&&(Hi(e),Hi(i)),n&&n.d(t),r&&r.d(t)}}}function Uo(t){let e,i,n,r,s=!t[29]&&function(t){let e,i,n,r;return{c(){e=Zi("svg"),i=Zi("path"),Ji(i,"class",n=jo["gallery__arrow-icon-path"]),Ji(i,"d","m10 16 8.3 8 1.03-1-4-6-.7-1 .7-1 4-6-1.03-1z"),Ji(e,"class",r=Lo.arrow__icon),Ji(e,"xmlns","http://www.w3.org/2000/svg"),Ji(e,"width","32"),Ji(e,"height","32"),Ji(e,"viewBox","0 0 32 32"),Ji(e,"fill","none")},m(t,n){Ui(t,e,n),zi(e,i)},d(t){t&&Hi(e)}}}();return{c(){e=Gi("div"),s&&s.c(),Ji(e,"class",i=t[29]||"".concat(jo.gallery__arrow," ").concat(Lo.arrow," ").concat(Lo.arrow_left))},m(i,o){Ui(i,e,o),s&&s.m(e,null),n||(r=Xi(e,"click",t[66]),n=!0)},p:pi,d(t){t&&Hi(e),s&&s.d(),n=!1,r()}}}function Ho(t){let e,i,n,r,s=!t[30]&&function(t){let e,i,n,r;return{c(){e=Zi("svg"),i=Zi("path"),Ji(i,"class",n=jo["gallery__arrow-icon-path"]),Ji(i,"d","M22 16l-8.3 8-1.03-1 4-6 .7-1-.7-1-4-6 1.03-1 8.3 8z"),Ji(e,"class",r=Lo.arrow__icon),Ji(e,"xmlns","http://www.w3.org/2000/svg"),Ji(e,"width","32"),Ji(e,"height","32"),Ji(e,"viewBox","0 0 32 32"),Ji(e,"fill","none")},m(t,n){Ui(t,e,n),zi(e,i)},d(t){t&&Hi(e)}}}();return{c(){e=Gi("div"),s&&s.c(),Ji(e,"class",i=t[30]||"".concat(jo.gallery__arrow," ").concat(Lo.arrow," ").concat(Lo.arrow_right))},m(i,o){Ui(i,e,o),s&&s.m(e,null),n||(r=Xi(e,"click",t[67]),n=!0)},p:pi,d(t){t&&Hi(e),s&&s.d(),n=!1,r()}}}function qo(t){let e,i,n,r,s,o,a,l,c,d,h,p=zn(t[16]),u=[];for(let e=0;e<p.length;e+=1)u[e]=No(Bo(t,p,e));const f=t=>Fn(u[t],1,1,(()=>{u[t]=null}));let m="horizontal"===t[4]&&Ro(t);return{c(){e=Gi("div"),i=Gi("div");for(let t=0;t<u.length;t+=1)u[t].c();a=Wi(),m&&m.c(),l=Ki(),Ji(i,"class",n=jo["gallery__items-grid"]),Ji(i,"style",r=lr(t[15])),Ji(e,"class",s=jo.gallery__scroller+" "+(t[27]?nr["root_restrict-scroll"]:"")),Ji(e,"style",o=lr(t[5]))},m(n,r){Ui(n,e,r),zi(e,i);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(i,null);t[64](i),t[65](e),Ui(n,a,r),m&&m.m(n,r),Ui(n,l,r),c=!0,d||(h=Xi(e,"scroll",(function(){vi(t[7]?t[33]:null)&&(t[7]?t[33]:null).apply(this,arguments)})),d=!0)},p(n,a){if(t=n,82496&a[0]){let e;for(p=zn(t[16]),e=0;e<p.length;e+=1){const n=Bo(t,p,e);u[e]?(u[e].p(n,a),On(u[e],1)):(u[e]=No(n),u[e].c(),On(u[e],1),u[e].m(i,null))}for(jn(),e=p.length;e<u.length;e+=1)f(e);Ln()}(!c||32768&a[0]&&r!==(r=lr(t[15])))&&Ji(i,"style",r),(!c||134217728&a[0]&&s!==(s=jo.gallery__scroller+" "+(t[27]?nr["root_restrict-scroll"]:"")))&&Ji(e,"class",s),(!c||32&a[0]&&o!==(o=lr(t[5])))&&Ji(e,"style",o),"horizontal"===t[4]?m?m.p(t,a):(m=Ro(t),m.c(),m.m(l.parentNode,l)):m&&(m.d(1),m=null)},i(t){if(!c){for(let t=0;t<p.length;t+=1)On(u[t]);c=!0}},o(t){u=u.filter(Fo);for(let t=0;t<u.length;t+=1)Fn(u[t]);c=!1},d(i){i&&(Hi(e),Hi(a),Hi(l)),qi(u,i),t[64](null),t[65](null),m&&m.d(i),d=!1,h()}}}function Go(t){let e,i,n,r;return e=new bs({props:{cls:Sr("gallery",jo,t[13]),componentContext:t[0],layoutParams:t[1],customPaddings:!0,customActions:"gallery",parentOf:t[8],replaceItems:t[31],$$slots:{default:[qo]},$$scope:{ctx:t}}}),{c(){Yn(e.$$.fragment)},m(s,o){Wn(e,s,o),i=!0,n||(r=Xi(window,"resize",(function(){vi(t[7]?t[34]:null)&&(t[7]?t[34]:null).apply(this,arguments)})),n=!0)},p(i,n){t=i;const r={};8192&n[0]&&(r.cls=Sr("gallery",jo,t[13])),1&n[0]&&(r.componentContext=t[0]),2&n[0]&&(r.layoutParams=t[1]),256&n[0]&&(r.parentOf=t[8]),134336252&n[0]|524288&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t),n=!1,r()}}}function Zo(t,e,i){let n,r,s,o,a,l,c,d,h,p,u,f,m,g,y,v,b,_,x,k,w,C,E,S,$,M,I,D,T,P,A,j=pi,L=pi,O=pi,F=pi,B=pi,V=pi,z=pi,N=pi,R=pi,U=pi,H=pi;t.$$.on_destroy.push((()=>j())),t.$$.on_destroy.push((()=>L())),t.$$.on_destroy.push((()=>O())),t.$$.on_destroy.push((()=>F())),t.$$.on_destroy.push((()=>B())),t.$$.on_destroy.push((()=>V())),t.$$.on_destroy.push((()=>z())),t.$$.on_destroy.push((()=>N())),t.$$.on_destroy.push((()=>R())),t.$$.on_destroy.push((()=>U())),t.$$.on_destroy.push((()=>H()));let{componentContext:q}=e,{layoutParams:G}=e;const Z=fn(rr),Y=Z.direction;let W;wi(t,Y,(t=>i(51,x=t)));let K,X=[],J=!1,Q=!1,tt=null,et=!1;const it=Z.getCustomization("galleryLeftClass"),nt=Z.getCustomization("galleryRightClass");let rt,st,ot,at,lt,ct=1,dt="horizontal",ht="start",pt=8,ut="",ft=[],mt={},gt=!1,yt={},vt=0;const bt=Z.isDesktop;function _t(){if(!W)return;let t=W.scrollLeft;"rtl"===x&&(t*=-1);const e=W.scrollWidth,n=W.offsetWidth;"ltr"===x?(i(10,J=t>2),i(11,Q=t+n<e-2)):(i(11,Q=t>2),i(10,J=t+n<e-2))}wi(t,bt,(t=>i(62,P=t)));const xt=Ms(_t,50);function kt(t){W.scroll({left:W.scrollLeft+.75*W.offsetWidth*("right"===t?1:-1),behavior:"smooth"})}function wt(){let t=[],e=X[0].children.length;for(let i=0;i<e;++i)for(let e=0;e<ct;++e){const n=X[e].children[i];n&&t.push(n)}return t}function Ct(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"smooth";const n="horizontal"===dt,r=n?"offsetLeft":"offsetTop",s=n?"left":"top",o=t[e];o&&W.scroll({[s]:Math.max(0,o[r]+.01-pt/2),behavior:i})}function Et(t){const e=wt(),i=W.getBoundingClientRect(),n=e.findIndex((t=>function(t,e){return"horizontal"===dt?e.left>=t.left&&e.right<=t.right:e.top>=t.top&&e.bottom<=t.bottom}(i,t.getBoundingClientRect())));if(-1!==n)return n;const r=e.map((t=>function(t,e){return"horizontal"===dt?e.right>t.left&&t.right>e.left:e.bottom>t.top&&t.bottom>e.top}(i,t.getBoundingClientRect()))),s=r.findIndex(Boolean);return-1!==s?"prev"===t&&2===r.filter(Boolean).length?s+1:s:"prev"===t?1:e.length-2}return hn((()=>{i(37,et=!0),_t(),vt&&Ct(wt(),vt,"auto")})),pn((()=>{i(37,et=!1),rt&&!q.fakeElement&&(Z.unregisterInstance(rt),i(38,rt=void 0))})),t.$$set=t=>{"componentContext"in t&&i(0,q=t.componentContext),"layoutParams"in t&&i(1,G=t.layoutParams)},t.$$.update=()=>{if(1&t.$$.dirty[0]&&q.json&&(i(39,ct=1),i(4,dt="horizontal"),i(40,ht="start"),i(42,pt=8),i(45,ut="")),1&t.$$.dirty[0]&&i(8,n=Array.isArray(q.json.items)&&q.json.items||[]),1&t.$$.dirty[0]&&(i(26,r=q.getDerivedFromVars(q.json.column_count)),U(),U=ki(r,(t=>i(61,T=t)))),1&t.$$.dirty[0]&&(i(25,s=q.getDerivedFromVars(q.json.orientation)),R(),R=ki(s,(t=>i(60,D=t)))),1&t.$$.dirty[0]&&(i(24,o=q.getDerivedFromVars(q.json.cross_content_alignment)),N(),N=ki(o,(t=>i(59,I=t)))),1&t.$$.dirty[0]&&(i(23,a=q.getDerivedFromVars(q.json.item_spacing)),z(),z=ki(a,(t=>i(58,M=t)))),1&t.$$.dirty[0]&&(i(22,l=q.getDerivedFromVars(q.json.cross_spacing)),V(),V=ki(l,(t=>i(57,$=t)))),1&t.$$.dirty[0]&&(i(21,c=q.getDerivedFromVars(q.json.paddings)),B(),B=ki(c,(t=>i(56,S=t)))),1&t.$$.dirty[0]&&(i(20,d=q.getDerivedFromVars(q.json.scroll_mode)),O(),O=ki(d,(t=>i(54,C=t)))),1&t.$$.dirty[0]&&(i(19,h=q.getDerivedFromVars(q.json.restrict_parent_scroll)),H(),H=ki(h,(t=>i(27,A=t)))),1&t.$$.dirty[0]&&(i(18,p=q.getDerivedFromVars(q.json.scrollbar)),L(),L=ki(p,(t=>i(53,w=t)))),1&t.$$.dirty[0]&&(i(17,u=q.getDerivedFromVars(q.json.default_item)),j(),j=ki(u,(t=>i(52,k=t)))),257&t.$$.dirty[0]&&i(50,f=n.map(((t,e)=>q.produceChildContext(t,{path:e})))),64&t.$$.dirty[1]|1&t.$$.dirty[2]&&i(7,m=P&&et),136&t.$$.dirty[0]|32&t.$$.dirty[1]&&(m?"undefined"!=typeof ResizeObserver&&(i(36,tt=new ResizeObserver((()=>{xt()}))),tt.observe(K)):tt&&(tt.disconnect(),i(36,tt=null))),1073742080&t.$$.dirty[1]&&i(39,ct=xs(T,ct)),524544&t.$$.dirty[1]&&i(16,g=function(t,e){let i=0,n=[];for(let r=0;r<t.length;++r)n[i]||(n[i]=[]),n[i].push(t[r]),++i>=e&&(i=0);return n}(f,ct)),16&t.$$.dirty[0]|536870912&t.$$.dirty[1]&&i(4,dt=vo(D,dt)),268435968&t.$$.dirty[1]&&i(40,ht=function(t,e){return"start"===t||"center"===t||"end"===t?t:e}(I,ht)),134219776&t.$$.dirty[1]&&(i(42,pt=Pr(M,pt)),i(41,st=cr(pt))),67119104&t.$$.dirty[1]&&(i(44,at=Pr($,pt)),i(43,ot=cr(at))),34619392&t.$$.dirty[1]&&i(45,ut=Tr(S,x,ut)),16&t.$$.dirty[0]&&i(49,y="horizontal"===dt?"grid-template-columns":"grid-template-rows"),17&t.$$.dirty[0]|524288&t.$$.dirty[1]){let t=[];f.forEach((e=>{const i="horizontal"===dt?"width":"height";t.push(q.getDerivedFromVars(e.json[i]))})),i(12,lt=ir(t,(t=>t))),F(),F=ki(lt,(t=>i(55,E=t)))}if(16&t.$$.dirty[0]|16810240&t.$$.dirty[1]&&(i(46,ft=[]),ct>1?ft.push("auto"):E.forEach((t=>{!t&&"horizontal"===dt||"match_parent"===(null==t?void 0:t.type)?ft.push("100%"):ft.push("max-content")}))),112&t.$$.dirty[0]|8391424&t.$$.dirty[1]){const t={};let e={};i(47,gt=!1),"horizontal"===dt?e.parentVAlign=ht:e.parentHAlign=ht,"paging"===C&&(i(47,gt=!0),e.scrollSnap="start",t["horizontal"===dt?"scroll-padding-left":"scroll-padding-top"]=cr(pt/2)),1===ct&&(e.parentLayoutOrientation=dt),i(5,mt=Lr(t,mt)),i(6,yt=Lr(e,yt))}20480&t.$$.dirty[1]&&i(15,v={padding:ut,"grid-gap":ot}),295936&t.$$.dirty[1]&&i(14,b={"grid-gap":st,[y]:Oo(ft)}),16&t.$$.dirty[0]|4259840&t.$$.dirty[1]&&i(13,_={orientation:dt,"scroll-snap":gt,scrollbar:"auto"===w?"auto":"none"}),2228224&t.$$.dirty[1]&&i(48,vt=Pr(k,vt)),1&t.$$.dirty[0]&&q.json&&xt(),21&t.$$.dirty[0]|128&t.$$.dirty[1]&&q.json&&(rt&&(Z.unregisterInstance(rt),i(38,rt=void 0)),q.json.id&&!q.fakeElement&&(i(38,rt=q.json.id),Z.registerInstance(rt,{setCurrentItem(t){const e=wt();if(t<0||t>e.length-1)throw new Error('Item is out of range in "set-current-item" action');Ct(e,t)},setPreviousItem(t){const e=Et("prev"),i=wt();let n=e-1;n<0&&(n="ring"===t?i.length-1:e),Ct(i,n)},setNextItem(t){const e="horizontal"===dt?W.scrollLeft+W.offsetWidth===W.scrollWidth:W.scrollTop+W.offsetHeight===W.scrollHeight,i=wt();if(e&&"ring"===t)return void Ct(i,0);const n=Et("next");let r=n+1;r>i.length-1&&(r="ring"===t?0:n),Ct(i,r)}})))},[q,G,W,K,dt,mt,yt,m,n,X,J,Q,lt,_,b,v,g,u,p,h,d,c,l,a,o,s,r,A,Y,it,nt,function(t){i(0,q=Object.assign(Object.assign({},q),{json:Object.assign(Object.assign({},q.json),{items:t.filter(mr)})}))},bt,_t,xt,kt,tt,et,rt,ct,ht,st,pt,ot,at,ut,ft,gt,vt,y,f,x,k,w,C,E,S,$,M,I,D,T,P,function(t,e){yn[t?"unshift":"push"]((()=>{X[e]=t,i(9,X)}))},function(t){yn[t?"unshift":"push"]((()=>{K=t,i(3,K)}))},function(t){yn[t?"unshift":"push"]((()=>{W=t,i(2,W)}))},()=>kt("left"),()=>kt("right")]}const Yo={state:"divkit-a0314",state__animations:"divkit-a56a1","state__animation-child":"divkit-ab450","state__animation-child-inner":"divkit-c53cb"};function Wo(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Ko(t){return t*t*t}function Xo(t){const e=t-1;return e*e*e+1}function Jo(t){return e=>{if(e<=0)return 0;if(e>=1)return 1;const i=e*t.length,n=Math.floor(i),r=i-n;return t[n]*r+t[n+1]*(1-r)}}const Qo=Jo([.0021,.0045,.0071,.01,.0131,.0165,.0202,.0242,.0284,.033,.0378,.0429,.0483,.054,.0601,.0664,.0731,.08,.0872,.0948,.1026,.1108,.1192,.1279,.1369,.1461,.1556,.1653,.1753,.1855,.1958,.2064,.2171,.2279,.2389,.25,.2612,.2725,.2839,.2952,.3067,.3181,.3295,.341,.3524,.3637,.375,.3863,.3974,.4085,.4195,.4304,.4412,.4519,.4624,.4729,.4832,.4934,.5034,.5133,.5231,.5327,.5422,.5516,.5608,.5699,.5788,.5876,.5963,.6048,.6132,.6214,.6295,.6375,.6453,.653,.6606,.668,.6754,.6825,.6896,.6965,.7034,.7101,.7166,.7231,.7295,.7357,.7418,.7479,.7538,.7596,.7653,.7709,.7764,.7818,.7871,.7923,.7974,.8024,.8073,.8122,.8169,.8216,.8261,.8306,.835,.8394,.8436,.8478,.8518,.8558,.8598,.8636,.8674,.8711,.8747,.8783,.8818,.8852,.8886,.8919,.8951,.8983,.9014,.9044,.9074,.9103,.9131,.9159,.9187,.9213,.924,.9265,.929,.9315,.9339,.9362,.9385,.9408,.943,.9451,.9472,.9492,.9512,.9532,.9551,.9569,.9587,.9605,.9622,.9638,.9655,.967,.9686,.9701,.9715,.9729,.9743,.9756,.9769,.9782,.9794,.9805,.9817,.9828,.9838,.9848,.9858,.9868,.9877,.9886,.9894,.9902,.991,.9917,.9924,.9931,.9937,.9943,.9949,.9954,.9959,.9964,.9969,.9973,.9977,.998,.9983,.9986,.9989,.9991,.9993,.9995,.9997,.9998,.9999,.9999,1,1]),ta=Jo([5e-4,.002,.0045,.0078,.0119,.0168,.0224,.0286,.0355,.0429,.0508,.0592,.0681,.0774,.087,.0969,.1072,.1177,.1285,.1395,.1507,.1621,.1736,.1853,.197,.2089,.2208,.2328,.2448,.2569,.2689,.281,.293,.305,.317,.3289,.3408,.3526,.3644,.376,.3876,.3991,.4105,.4218,.433,.444,.455,.4658,.4765,.4871,.4975,.5078,.518,.528,.5379,.5477,.5573,.5668,.5761,.5853,.5944,.6033,.612,.6206,.6291,.6374,.6456,.6537,.6616,.6693,.677,.6845,.6918,.699,.7061,.713,.7199,.7265,.7331,.7395,.7458,.752,.758,.764,.7698,.7755,.781,.7865,.7918,.7971,.8022,.8072,.8121,.8169,.8216,.8262,.8307,.8351,.8394,.8436,.8477,.8517,.8557,.8595,.8633,.8669,.8705,.874,.8775,.8808,.8841,.8873,.8904,.8934,.8964,.8993,.9022,.9049,.9076,.9103,.9129,.9154,.9178,.9202,.9226,.9249,.9271,.9293,.9314,.9335,.9355,.9375,.9394,.9413,.9431,.9449,.9466,.9483,.95,.9516,.9532,.9547,.9562,.9576,.9591,.9605,.9618,.9631,.9644,.9657,.9669,.9681,.9692,.9703,.9714,.9725,.9736,.9746,.9756,.9765,.9775,.9784,.9793,.9802,.981,.9818,.9826,.9834,.9842,.9849,.9856,.9863,.987,.9877,.9883,.989,.9896,.9902,.9908,.9913,.9919,.9924,.993,.9935,.994,.9944,.9949,.9954,.9958,.9963,.9967,.9971,.9975,.9979,.9983,.9986,.999,.9993,.9997,1]),ea={linear:ui,ease:Qo,ease_in:Ko,ease_out:Xo,ease_in_out:Wo,spring:ta},ia=200,na=0,ra=0,sa=0;function oa(t){return Math.max(...t.map((t=>(Number(t.duration)||ia)+(Number(t.start_delay)||na))))}function aa(t,e){let{transitions:i,elementBbox:n,rootBbox:r,direction:s,maxDuration:o,alpha:a}=e;const l=null!=a?a:1;return{duration:Rr()?0:o,css:t=>{const e=t*o,a=i.map((t=>{const i=Number(t.start_delay)||na,o=Number(t.duration)||ia,a=Math.max(0,Math.min(1,(e-i)/o)),c="in"===s?1-a:a,d=(ea[t.interpolator||"ease_in_out"]||Wo)(c);if("fade"===t.type)return d>=1?{active:!1,opacity:0}:{active:d>0&&d<1,opacity:(1-d)*l+d*(t.alpha||ra)};if("slide"===t.type){var h;const e="top"===t.edge||"left"===t.edge?-1:1,i="top"!==t.edge&&"bottom"!==t.edge&&t.edge?"translateX":"translateY";let s=null===(h=t.distance)||void 0===h?void 0:h.value;void 0===s&&(s="top"!==t.edge&&"bottom"!==t.edge&&t.edge?Math.abs(r["left"===t.edge?"left":"right"]-n["left"===t.edge?"right":"left"]):Math.abs(r["bottom"===t.edge?"bottom":"top"]-n["bottom"===t.edge?"top":"bottom"]));const o=s*d;return{active:d>0&&d<1,translate:"".concat(i,"(").concat(o*e,"px)")}}if("scale"===t.type){var p,u;const e=1-d+d*(t.scale||sa),i=null!==(p=t.pivot_x)&&void 0!==p?p:.5,r=null!==(u=t.pivot_y)&&void 0!==u?u:.5,s=(1-e)*n.width*i,o=(1-e)*n.height*r;return{active:d>0&&d<1,scale:"translate(".concat(s,"px, ").concat(o,"px) scale(").concat(e,")")}}return{}})),c=a.map((t=>t.opacity)).filter((t=>void 0!==t)).reduce(((t,e)=>t*e),1),d=a.map((t=>t.translate)).filter((t=>void 0!==t)).join(" "),h=a.map((t=>t.scale)).filter((t=>void 0!==t)).join(" "),p=a.filter((t=>t.active)).map((t=>t.scale)).filter((t=>void 0!==t)),u=[d,p.length?p[p.length-1]:h].filter(Boolean).join(" ");return"transform:".concat(u||"none",";opacity:").concat(c)}}}function la(t,e,i){return t*(1-i)+e*i}const ca={linear:ui,ease:Qo,ease_in:Ko,ease_out:Xo,ease_in_out:Wo,spring:ta},da=200,ha=0;function pa(t,e){var i,n;let{rootBbox:r,beforeBbox:s,afterBbox:o,transition:a}=e;return{delay:null!==(i=a.start_delay)&&void 0!==i?i:ha,duration:Rr()?0:null!==(n=a.duration)&&void 0!==n?n:da,easing:a.interpolator&&a.interpolator in ca?ca[a.interpolator]:Wo,css:t=>["top:".concat(la(s.top,o.top,t)-r.top,"px"),"left:".concat(la(s.left,o.left,t)-r.left,"px"),"width:".concat(la(s.width,o.width,t),"px"),"height:".concat(la(s.height,o.height,t),"px")].join(";")}}function ua(t){const e=[];return"set"===t.type?(t.items||[]).forEach((t=>{e.push(...ua(t))})):e.push(t),e}const fa={tooltip:"divkit-cfde6",tooltip_visible:"divkit-ea2ab"},ma={linear:ui,ease:Qo,ease_in:Ko,ease_out:Xo,ease_in_out:Wo,spring:ta},ga=300,ya=0;function va(t,e){let{animations:i,direction:n}=e;if(!i)return{};const r=Br(i),s=(o=r,Math.max(...o.map((t=>(Number(t.duration)||ga)+(Number(t.start_delay)||ya)))));var o;return r.some((t=>"no_animation"===t.name))?{}:{duration:Rr()?0:s,css:t=>{const e=t*s,i=r.map((t=>{const i=Number(t.start_delay)||ya,r=Number(t.duration)||ga,s=Math.max(0,Math.min(1,(e-i)/r)),o=(ma[t.interpolator||"ease_in_out"]||Wo)(s);var a,l;if("fade"===t.name)return{active:o>0&&o<1,opacity:(1-o)*("in"===n&&null!==(a=t.start_value)&&void 0!==a?a:0)+o*("in"===n?1:null!==(l=t.end_value)&&void 0!==l?l:1)};if("translate"===t.name){var c,d;const e=-("in"===n&&null!==(c=t.start_value)&&void 0!==c?c:10),i=-("in"===n?0:null!==(d=t.end_value)&&void 0!==d?d:0);return{active:o>0&&o<1,translate:"translateY(".concat((1-o)*e+o*i).concat("in"===n&&void 0!==t.start_value||"out"===n&&void 0!==t.end_value?"%":"px",")")}}if("scale"===t.name){var h,p;const e="in"===n&&null!==(h=t.start_value)&&void 0!==h?h:0,i="in"===n?1:null!==(p=t.end_value)&&void 0!==p?p:1;return{active:o>0&&o<1,scale:"scale(".concat((1-o)*e+o*i,")")}}return{}})),o=i.map((t=>t.opacity)).filter((t=>void 0!==t)).reduce(((t,e)=>t*e),1),a=i.map((t=>t.translate)).filter((t=>void 0!==t)).join(" "),l=i.map((t=>t.scale)).filter((t=>void 0!==t)).join(" "),c=i.filter((t=>t.active)).map((t=>t.scale)).filter((t=>void 0!==t)),d=[a,c.length?c[c.length-1]:l].filter(Boolean).join(" ");return"transform:".concat(d||"none",";opacity:").concat(o)}}}const{window:ba}=Oi;function _a(t){let e,i,n,r,s,o,a,l;return i=new Ua({props:{componentContext:t[11]}}),{c(){e=Gi("div"),Yn(i.$$.fragment),Ji(e,"class",n=Sr("tooltip",fa,t[5])+" "+(t[12]?nr.root_platform_desktop:"")),en(e,"top",t[2]),en(e,"left",t[1]),en(e,"width",t[3]),en(e,"height",t[4])},m(n,r){Ui(n,e,r),Wn(i,e,null),t[27](e),o=!0,a||(l=[Xi(ba,"click",t[16]),Xi(ba,"resize",t[17])],a=!0)},p(r,s){t=r;const a={};2048&s[0]&&(a.componentContext=t[11]),i.$set(a),(!o||4128&s[0]&&n!==(n=Sr("tooltip",fa,t[5])+" "+(t[12]?nr.root_platform_desktop:"")))&&Ji(e,"class",n),4&s[0]&&en(e,"top",t[2]),2&s[0]&&en(e,"left",t[1]),8&s[0]&&en(e,"width",t[3]),16&s[0]&&en(e,"height",t[4])},i(n){o||(On(i.$$.fragment,n),n&&Cn((()=>{o&&(s&&s.end(1),r=Vn(e,va,{animations:t[13]||xa,direction:"in"}),r.start())})),o=!0)},o(n){Fn(i.$$.fragment,n),r&&r.invalidate(),n&&(s=function(t,e,i){const n={direction:"out"};let r,s=e(t,i,n),o=!0;const a=An;let l;function c(){const{delay:e=0,duration:i=300,easing:n=ui,tick:c=pi,css:d}=s||Bn;d&&(r=an(t,1,0,i,e,n,d));const h=Ti()+e,p=h+i;Cn((()=>Tn(t,!1,"start"))),"inert"in t&&(l=t.inert,t.inert=!0),Li((e=>{if(o){if(e>=p)return c(0,1),Tn(t,!1,"end"),--a.r||yi(a.c),!1;if(e>=h){const t=n((e-h)/i);c(1-t,t)}}return o}))}return a.r+=1,vi(s)?Dn().then((()=>{s=s(n),c()})):c(),{end(e){e&&"inert"in t&&(t.inert=l),e&&s.tick&&s.tick(1,0),o&&(r&&ln(t,r),o=!1)}}}(e,va,{animations:t[14]||xa,direction:"out"})),o=!1},d(n){n&&Hi(e),Kn(i),t[27](null),n&&s&&s.end(),a=!1,yi(l)}}}const xa={name:"set",items:[{name:"translate"},{name:"fade"}]};function ka(t,e,i){let n,r,s,o,a,l,c,d,h,p,u,f,m,g=pi,y=pi,v=pi,b=pi,_=pi;var x,k,w,C;t.$$.on_destroy.push((()=>g())),t.$$.on_destroy.push((()=>y())),t.$$.on_destroy.push((()=>v())),t.$$.on_destroy.push((()=>b())),t.$$.on_destroy.push((()=>_()));let{ownerNode:E}=e,{data:S}=e,{internalId:$}=e,{parentComponentContext:M}=e;const I=fn(rr),D=I.isDesktop;wi(t,D,(t=>i(12,u=t)));const T=Date.now();let P,A=!1,j="",L="",O="",F="",B=null;function V(){var t,e;if(!P||!E)return;const n=P.parentElement;if(!n)return;const r=P.style.cssText;i(0,P.style.cssText+=";transform: none !important",P);const s=E.getBoundingClientRect(),o=P.getBoundingClientRect(),a=n.getBoundingClientRect();i(0,P.style.cssText=r,P);let l=0,c=0,u=null,f=null,m=0,g=0;const y=M.getJsonWithVars(null===(t=S.div)||void 0===t?void 0:t.width),v=M.getJsonWithVars(null===(e=S.div)||void 0===e?void 0:e.width);if(m=y&&"match_parent"!==y.type?"fixed"===y.type&&y.value?u=y.value:o.width:u=s.width,g="match_parent"===(null==v?void 0:v.type)?f=s.height:"fixed"===(null==v?void 0:v.type)&&v.value?f=v.value:o.height,"left"===p||"bottom-left"===p||"top-left"===p)l=s.left-m;else if("top"===p||"bottom"===p||"center"===p)l=(s.left+s.right)/2-m/2;else{if("right"!==p&&"bottom-right"!==p&&"top-right"!==p)return;l=s.right}if("top"===p||"top-left"===p||"top-right"===p)c=s.top-g;else if("left"===p||"right"===p||"center"===p)c=(s.top+s.bottom)/2-g/2;else{if("bottom-left"!==p&&"bottom"!==p&&"bottom-right"!==p)return;c=s.bottom}l-=a.left,c-=a.top,l+=h||0,c+=d||0,i(1,j="".concat(l,"px")),i(2,L="".concat(c,"px")),i(3,O=null!==u?"".concat(u,"px"):""),i(4,F=null!==f?"".concat(f,"px"):""),i(26,A=!0),null===u||null===f?"undefined"==typeof ResizeObserver||B||(B=new ResizeObserver((()=>{requestAnimationFrame(V)})),B.observe(P)):null==B||B.disconnect()}var z;return hn((()=>{if(I.tooltipRoot){const t=window.getComputedStyle(P);i(0,P.style.fontSize=t.fontSize,P),i(0,P.style.fontFamily=t.fontFamily,P),i(0,P.style.lineHeight=t.lineHeight,P),I.tooltipRoot.appendChild(P)}})),z=()=>{A||V()},dn().$$.after_update.push(z),pn((()=>{null==B||B.disconnect()})),t.$$set=t=>{"ownerNode"in t&&i(18,E=t.ownerNode),"data"in t&&i(19,S=t.data),"internalId"in t&&i(20,$=t.internalId),"parentComponentContext"in t&&i(21,M=t.parentComponentContext)},t.$$.update=()=>{2621440&t.$$.dirty[0]&&i(11,n=M.produceChildContext(S.div)),2621440&t.$$.dirty[0]&&(i(10,r=M.getDerivedFromVars(S.position)),v(),v=ki(r,(t=>i(31,p=t)))),15204352&t.$$.dirty[0]&&(i(9,s=M.getDerivedFromVars(null===i(23,k=null===i(22,x=S.offset)||void 0===x?void 0:x.x)||void 0===k?void 0:k.value)),y(),y=ki(s,(t=>i(30,h=t)))),52953088&t.$$.dirty[0]&&(i(8,o=M.getDerivedFromVars(null===i(25,C=null===i(24,w=S.offset)||void 0===w?void 0:w.y)||void 0===C?void 0:C.value)),g(),g=ki(o,(t=>i(29,d=t)))),2621440&t.$$.dirty[0]&&(i(7,a=M.getDerivedFromVars(S.animation_in)),b(),b=ki(a,(t=>i(13,f=t)))),2621440&t.$$.dirty[0]&&(i(6,l=M.getDerivedFromVars(S.animation_out)),_(),_=ki(l,(t=>i(14,m=t)))),67108864&t.$$.dirty[0]&&i(5,c={visible:A})},[P,j,L,O,F,c,l,a,o,s,r,n,u,f,m,D,function(t){Date.now()-T<100||t.composedPath().includes(P)||I.onTooltipClose($)},function(){V()},E,S,$,M,x,k,w,C,A,function(t){yn[t?"unshift":"push"]((()=>{P=t,i(0,P)}))}]}const wa=class extends Qn{constructor(t){super(),Xn(this,t,ka,_a,xi,{ownerNode:18,data:19,internalId:20,parentComponentContext:21},null,[-1,-1])}},{Map:Ca}=Oi;function Ea(t,e,i){const n=t.slice();return n[33]=e[i],n}function Sa(t,e,i){const n=t.slice();return n[33]=e[i],n}function $a(t){var e;let i,n,r,s;i=new bs({props:{cls:Yo.state,componentContext:t[0],layoutParams:t[1],parentOf:t[7],parentOfSimpleMode:!0,replaceItems:t[8],$$slots:{default:[Aa]},$$scope:{ctx:t}}});let o=(null===(e=t[0])||void 0===e?void 0:e.tooltips)&&ja(t);return{c(){Yn(i.$$.fragment),n=Wi(),o&&o.c(),r=Ki()},m(t,e){Wn(i,t,e),Ui(t,n,e),o&&o.m(t,e),Ui(t,r,e),s=!0},p(t,e){var n;const s={};1&e[0]&&(s.componentContext=t[0]),2&e[0]&&(s.layoutParams=t[1]),128&e[0]&&(s.parentOf=t[7]),120&e[0]|128&e[1]&&(s.$$scope={dirty:e,ctx:t}),i.$set(s),null!==(n=t[0])&&void 0!==n&&n.tooltips?o?(o.p(t,e),1&e[0]&&On(o,1)):(o=ja(t),o.c(),On(o,1),o.m(r.parentNode,r)):o&&(jn(),Fn(o,1,1,(()=>{o=null})),Ln())},i(t){s||(On(i.$$.fragment,t),On(o),s=!0)},o(t){Fn(i.$$.fragment,t),Fn(o),s=!1},d(t){t&&(Hi(n),Hi(r)),Kn(i,t),o&&o.d(t)}}}function Ma(t){let e,i,n=t[5],r=Ia(t);return{c(){r.c(),e=Ki()},m(t,n){r.m(t,n),Ui(t,e,n),i=!0},p(t,i){32&i[0]&&xi(n,n=t[5])?(jn(),Fn(r,1,1,pi),Ln(),r=Ia(t),r.c(),On(r,1),r.m(e.parentNode,e)):r.p(t,i)},i(t){i||(On(r),i=!0)},o(t){Fn(r),i=!1},d(t){t&&Hi(e),r.d(t)}}}function Ia(t){let e,i;return e=new Ua({props:{componentContext:t[6]}}),{c(){Yn(e.$$.fragment)},m(t,n){Wn(e,t,n),i=!0},p(t,i){const n={};64&i[0]&&(n.componentContext=t[6]),e.$set(n)},i(t){i||(On(e.$$.fragment,t),i=!0)},o(t){Fn(e.$$.fragment,t),i=!1},d(t){Kn(e,t)}}}function Da(t){let e,i,n,r,s,o,a,l,c,d;function h(){return t[16](t[33])}return n=new Ua({props:{componentContext:t[33].componentContextCopy}}),{c(){e=Gi("div"),i=Gi("div"),Yn(n.$$.fragment),s=Wi(),Ji(i,"class",r=Yo["state__animation-child-inner"]),Ji(e,"class",o=Yo["state__animation-child"])},m(t,r){Ui(t,e,r),zi(e,i),Wn(n,i,null),zi(e,s),l=!0,c||(d=Xi(e,"introend",h),c=!0)},p(e,i){t=e;const r={};16&i[0]&&(r.componentContext=t[33].componentContextCopy),n.$set(r)},i(i){l||(On(n.$$.fragment,i),a||Cn((()=>{a=Vn(e,pa,t[33]),a.start()})),l=!0)},o(t){Fn(n.$$.fragment,t),l=!1},d(t){t&&Hi(e),Kn(n),c=!1,d()}}}function Ta(t){let e,i,n,r,s,o,a,l,c,d,h="".concat(t[33].offsetLeft,"px"),p="".concat(t[33].offsetTop,"px"),u="".concat(t[33].width,"px"),f="".concat(t[33].height,"px");function m(){return t[15](t[33])}return n=new Ua({props:{componentContext:t[33].componentContextCopy}}),{c(){e=Gi("div"),i=Gi("div"),Yn(n.$$.fragment),s=Wi(),Ji(i,"class",r=Yo["state__animation-child-inner"]),Ji(e,"class",o=Yo["state__animation-child"]),en(e,"left",h),en(e,"top",p),en(e,"width",u),en(e,"height",f)},m(t,r){Ui(t,e,r),zi(e,i),Wn(n,i,null),zi(e,s),l=!0,c||(d=Xi(e,"introend",m),c=!0)},p(i,r){t=i;const s={};16&r[0]&&(s.componentContext=t[33].componentContextCopy),n.$set(s),16&r[0]&&h!==(h="".concat(t[33].offsetLeft,"px"))&&en(e,"left",h),16&r[0]&&p!==(p="".concat(t[33].offsetTop,"px"))&&en(e,"top",p),16&r[0]&&u!==(u="".concat(t[33].width,"px"))&&en(e,"width",u),16&r[0]&&f!==(f="".concat(t[33].height,"px"))&&en(e,"height",f)},i(i){l||(On(n.$$.fragment,i),a||Cn((()=>{a=Vn(e,aa,t[33]),a.start()})),l=!0)},o(t){Fn(n.$$.fragment,t),l=!1},d(t){t&&Hi(e),Kn(n),c=!1,d()}}}function Pa(t,e){let i,n,r,s,o;const a=[Ta,Da],l=[];function c(t,e){return"direction"in t[33]?0:1}return n=c(e),r=l[n]=a[n](e),{key:t,first:null,c(){i=Ki(),r.c(),s=Ki(),this.first=i},m(t,e){Ui(t,i,e),l[n].m(t,e),Ui(t,s,e),o=!0},p(t,i){let o=n;n=c(e=t),n===o?l[n].p(e,i):(jn(),Fn(l[o],1,1,(()=>{l[o]=null})),Ln(),r=l[n],r?r.p(e,i):(r=l[n]=a[n](e),r.c()),On(r,1),r.m(s.parentNode,s))},i(t){o||(On(r),o=!0)},o(t){Fn(r),o=!1},d(t){t&&(Hi(i),Hi(s)),l[n].d(t)}}}function Aa(t){let e,i,n,r,s=[],o=new Ca,a=t[6]&&Ma(t),l=zn(t[4]);const c=t=>t[33];for(let e=0;e<l.length;e+=1){let i=Sa(t,l,e),n=c(i);o.set(n,s[e]=Pa(n,i))}return{c(){a&&a.c(),e=Wi(),i=Gi("div");for(let t=0;t<s.length;t+=1)s[t].c();Ji(i,"class",n=Yo.state__animations),Ji(i,"aria-hidden","true")},m(n,o){a&&a.m(n,o),Ui(n,e,o),Ui(n,i,o);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(i,null);t[17](i),r=!0},p(t,n){t[6]?a?(a.p(t,n),64&n[0]&&On(a,1)):(a=Ma(t),a.c(),On(a,1),a.m(e.parentNode,e)):a&&(jn(),Fn(a,1,1,(()=>{a=null})),Ln()),528&n[0]&&(l=zn(t[4]),jn(),s=Rn(s,n,c,1,t,l,o,i,Nn,Pa,null,Sa),Ln())},i(t){if(!r){On(a);for(let t=0;t<l.length;t+=1)On(s[t]);r=!0}},o(t){Fn(a);for(let t=0;t<s.length;t+=1)Fn(s[t]);r=!1},d(n){n&&(Hi(e),Hi(i)),a&&a.d(n);for(let t=0;t<s.length;t+=1)s[t].d();t[17](null)}}}function ja(t){let e,i,n=[],r=new Ca,s=zn(t[0].tooltips);const o=t=>t[33].internalId;for(let e=0;e<s.length;e+=1){let i=Ea(t,s,e),a=o(i);r.set(a,n[e]=La(a,i))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=Ki()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);Ui(t,e,r),i=!0},p(t,i){1&i[0]&&(s=zn(t[0].tooltips),jn(),n=Rn(n,i,o,1,t,s,r,e.parentNode,Nn,La,e,Ea),Ln())},i(t){if(!i){for(let t=0;t<s.length;t+=1)On(n[t]);i=!0}},o(t){for(let t=0;t<n.length;t+=1)Fn(n[t]);i=!1},d(t){t&&Hi(e);for(let e=0;e<n.length;e+=1)n[e].d(t)}}}function La(t,e){let i,n,r;return n=new wa({props:{ownerNode:e[33].ownerNode,data:e[33].desc,internalId:e[33].internalId,parentComponentContext:e[0]}}),{key:t,first:null,c(){i=Ki(),Yn(n.$$.fragment),this.first=i},m(t,e){Ui(t,i,e),Wn(n,t,e),r=!0},p(t,i){e=t;const r={};1&i[0]&&(r.ownerNode=e[33].ownerNode),1&i[0]&&(r.data=e[33].desc),1&i[0]&&(r.internalId=e[33].internalId),1&i[0]&&(r.parentComponentContext=e[0]),n.$set(r)},i(t){r||(On(n.$$.fragment,t),r=!0)},o(t){Fn(n.$$.fragment,t),r=!1},d(t){t&&Hi(i),Kn(n,t)}}}function Oa(t){let e,i,n=!t[2]&&$a(t);return{c(){n&&n.c(),e=Ki()},m(t,r){n&&n.m(t,r),Ui(t,e,r),i=!0},p(t,i){t[2]?n&&(jn(),Fn(n,1,1,(()=>{n=null})),Ln()):n?(n.p(t,i),4&i[0]&&On(n,1)):(n=$a(t),n.c(),On(n,1),n.m(e.parentNode,e))},i(t){i||(On(n),i=!0)},o(t){Fn(n),i=!1},d(t){t&&Hi(e),n&&n.d(t)}}}function Fa(t){return"change_bounds"===t.type?t:"set"===t.type?Fa(t.items[0]):null}function Ba(t,e,i){let n,r,s,o,a,l,{componentContext:c}=e,{layoutParams:d}=e;const h=fn(rr),p=fn($r);let u,f,m,g,y=!1,v=new Map,b=new Set,_=null,x=[],k=[],w=[],C=[],E=!1;function S(t){i(6,g=(null==t?void 0:t.div)?c.produceChildContext(t.div,{path:t.state_id||"<unknown>"}):void 0)}function $(t,e,i){let{json:n,parentComponentContext:r,transitions:s,node:o}=e;n=c.getJsonWithVars(n),s=c.getJsonWithVars(s);const a=ua(s),l=o.getBoundingClientRect(),d=Object.assign(Object.assign({},n),{margins:void 0,alpha:(h=a,h.some((t=>"fade"===t.type))?void 0:n.alpha)});var h;return{json:d,componentContextCopy:r.produceChildContext(d,{fake:!0}),elementBbox:l,rootBbox:t,transitions:a,alpha:n.alpha,width:l.width,height:l.height,offsetTop:l.top-t.top,offsetLeft:l.left-t.left,direction:i,resolvePromise:e.resolvePromise,node:e.node}}async function M(t){if(m===t)return;h.setRunning("stateChange",!0);const e=new Set(b);x.forEach((t=>{t.resolvePromise&&t.resolvePromise()})),i(4,x=[]);let n=[];if(u){const t=u.getBoundingClientRect();n=w.map((e=>$(t,e,"out")))}C.forEach((t=>{v.set(t.id,t.node.getBoundingClientRect())})),k=[],w=[],C=[];const r=a.find((e=>e.state_id===t))||null;if(r?(i(5,m=t),null==o||o.setValue(m),S(r)):c.logError(sr(new Error("Cannot find state with id"),{additional:{stateId:t}})),await wn(),!u)return;const s=u.getBoundingClientRect();let l=k.filter((t=>{var i;return!(!t.json.id||e.has(t.json.id))||(null===(i=t.resolvePromise)||void 0===i||i.call(t),!1)})).map((t=>$(s,t,"in")));n=n.filter((t=>{var e;return!(!t.json.id||b.has(t.json.id))||(null===(e=t.resolvePromise)||void 0===e||e.call(t),!1)}));const d=n.concat(l),p=d.reduce(((t,e)=>Math.max(t,oa(e.transitions))),0),f=C.filter((t=>v.has(t.id))).map((t=>{const e=Object.assign(Object.assign({},t.json),{margins:void 0,width:{type:"match_parent"},height:{type:"match_parent"}});return{json:e,componentContextCopy:t.parentComponentContext.produceChildContext(e,{fake:!0}),rootBbox:s,beforeBbox:v.get(t.id),afterBbox:t.node.getBoundingClientRect(),node:t.node,transition:c.getJsonWithVars(Fa(t.transitions)),resolvePromise:t.resolvePromise}}));i(4,x=[...d.map((t=>Object.assign(Object.assign({},t),{maxDuration:p}))),...f]),v.clear(),h.setRunning("stateChange",!1)}function I(t){if(_&&_.has(t))return _.get(t);c.logError(sr(new Error("Missing state block with id"),{additional:{id:t}}))}function D(t){i(4,x=x.filter((e=>e!==t))),t.resolvePromise&&t.resolvePromise()}return un($r,{registerInstance(t,e){_||(_=new Map),_.has(t)?c.logError(sr(new Error("Duplicate state with id"),{additional:{id:t}})):_.set(t,e)},unregisterInstance(t){null==_||_.delete(t)},runVisibilityTransition(t,e,n,r,s){if(!u)return Promise.resolve();const o=$(u.getBoundingClientRect(),{json:t,parentComponentContext:e,transitions:n,node:r},s),a=oa(o.transitions),l=Object.assign(Object.assign({},o),{maxDuration:a});return i(4,x=[...x.filter((t=>t.node!==o.node)),l]),new Promise((t=>{l.resolvePromise=t}))},registerChildWithTransitionIn(t,e,i,n){const r={json:t,parentComponentContext:e,transitions:i,node:n};return k.push(r),new Promise((t=>{r.resolvePromise=t}))},registerChildWithTransitionOut(t,e,i,n){const r={json:t,parentComponentContext:e,transitions:i,node:n};return w.push(r),new Promise((t=>{r.resolvePromise=t}))},registerChildWithTransitionChange(t,e,i,n){const r=t.id;if(!r)return Promise.resolve();const s={id:r,json:t,parentComponentContext:e,transitions:i,node:n};return C.push(s),new Promise((t=>{s.resolvePromise=t}))},hasTransitionChange:t=>!!t&&v.has(t),registerChild(t){b.add(t)},unregisterChild(t){b.delete(t)}}),pn((()=>{f&&p.unregisterInstance(f)})),t.$$set=t=>{"componentContext"in t&&i(0,c=t.componentContext),"layoutParams"in t&&i(1,d=t.layoutParams)},t.$$.update=()=>{1&t.$$.dirty[0]&&i(13,n=c.json.div_id||c.json.id),1&t.$$.dirty[0]&&(r=c.getJsonWithVars(c.json.default_state_id)),1&t.$$.dirty[0]&&i(14,s=c.json.state_id_variable),16385&t.$$.dirty[0]&&(o=s?c.getVariable(s,"string"):null),1&t.$$.dirty[0]&&c.json&&i(11,E=!1),8193&t.$$.dirty[0]&&(n?i(2,y=!1):(i(2,y=!0),c.logError(sr(new Error('Missing "id" prop for div "state"'))))),1&t.$$.dirty[0]&&c.json&&(b=new Set),1&t.$$.dirty[0]&&i(12,a=c.json.states||[]),4096&t.$$.dirty[0]&&i(7,l=a.map((t=>t.div))),4097&t.$$.dirty[0]&&((null==a?void 0:a.length)?i(2,y=!1):(i(2,y=!0),c.logError(sr(new Error('Empty "states" prop for div "state"'))))),9217&t.$$.dirty[0]&&c.json&&(f&&(p.unregisterInstance(f),i(10,f=void 0)),n&&!(null==c?void 0:c.fakeElement)&&(i(10,f=n),p.registerInstance(n,{setState:M,getChild:I}))),6144&t.$$.dirty[0]&&!E&&function(t){if(!E&&(i(11,E=!0),t.length)){const e=(null==o?void 0:o.getValue())||r;if(e){i(5,m=e);const n=t.find((t=>t.state_id===m))||null;S(n),n||c.logError(sr(new Error("Cannot find state for default_state_id"),{additional:{selectedId:m}}))}else{const e=t[0];i(5,m=e.state_id),S(e)}o&&(o.setValue(m),o.subscribe((t=>{M(t)})))}}(a)},[c,d,y,u,x,m,g,l,function(t){const e=c.json.states;e&&(i(12,a=e.map(((e,i)=>Object.assign(Object.assign({},e),{div:t[i]})))),i(0,c.json=Object.assign(Object.assign({},c.json),{states:a}),c),m&&S(a.find((t=>t.state_id===m))||null))},D,f,E,a,n,s,t=>D(t),t=>D(t),function(t){yn[t?"unshift":"push"]((()=>{u=t,i(3,u)}))}]}const Va={};function za(t){let e,i,n;var r=t[2];function s(t,e){return{props:{componentContext:t[0],layoutParams:t[1]}}}return r&&(e=nn(r,s(t))),{c(){e&&Yn(e.$$.fragment),i=Ki()},m(t,r){e&&Wn(e,t,r),Ui(t,i,r),n=!0},p(t,n){if(4&n&&r!==(r=t[2])){if(e){jn();const t=e;Fn(t.$$.fragment,1,0,(()=>{Kn(t,1)})),Ln()}r?(e=nn(r,s(t)),Yn(e.$$.fragment),On(e.$$.fragment,1),Wn(e,i.parentNode,i)):e=null}else if(r){const i={};1&n&&(i.componentContext=t[0]),2&n&&(i.layoutParams=t[1]),e.$set(i)}},i(t){n||(e&&On(e.$$.fragment,t),n=!0)},o(t){e&&Fn(e.$$.fragment,t),n=!1},d(t){t&&Hi(i),e&&Kn(e,t)}}}function Na(t){let e,i,n=t[2]&&za(t);return{c(){n&&n.c(),e=Ki()},m(t,r){n&&n.m(t,r),Ui(t,e,r),i=!0},p(t,i){let[r]=i;t[2]?n?(n.p(t,r),4&r&&On(n,1)):(n=za(t),n.c(),On(n,1),n.m(e.parentNode,e)):n&&(jn(),Fn(n,1,1,(()=>{n=null})),Ln())},i(t){i||(On(n),i=!0)},o(t){Fn(n),i=!1},d(t){t&&Hi(e),n&&n.d(t)}}}function Ra(t,e,i){let{componentContext:n}=e,{layoutParams:r}=e;const s=fn(rr);let o;return t.$$set=t=>{"componentContext"in t&&i(0,n=t.componentContext),"layoutParams"in t&&i(1,r=t.layoutParams)},t.$$.update=()=>{if(5&t.$$.dirty){const t=n.json;if(i(2,o=(null==t?void 0:t.type)&&Va[t.type]||void 0),!o){let e;e=(null==t?void 0:t.type)&&s.hasTemplate(t.type)?"Recursive template":"Unknown component",n.logError(sr(new Error(e),{additional:{component:(null==t?void 0:t.type)||"<missing>"}}))}}},[n,r,o]}Va.text=class extends Qn{constructor(t){super(),Xn(this,t,zs,Vs,xi,{componentContext:0,layoutParams:1},null,[-1,-1,-1])}},Va.container=class extends Qn{constructor(t){super(),Xn(this,t,go,ho,xi,{componentContext:0,layoutParams:1},null,[-1,-1])}},Va.separator=class extends Qn{constructor(t){super(),Xn(this,t,ko,xo,xi,{componentContext:0,layoutParams:1})}},Va.image=Ao,Va.gif=Ao,Va.gallery=class extends Qn{constructor(t){super(),Xn(this,t,Zo,Go,xi,{componentContext:0,layoutParams:1},null,[-1,-1,-1])}},Va.state=class extends Qn{constructor(t){super(),Xn(this,t,Ba,Oa,xi,{componentContext:0,layoutParams:1},null,[-1,-1])}};const Ua=class extends Qn{constructor(t){super(),Xn(this,t,Ra,Na,xi,{componentContext:0,layoutParams:1})}},Ha={"root-svg-filters":"divkit-b5eca"};function qa(t,e,i){const n=t.slice();n[1]=e[i];const r=n[1].split(":");return n[2]=r[0],n[3]=r[1],n}function Ga(t){let e,i,n,r=zn([...Object.keys(t[0])]),s=[];for(let e=0;e<r.length;e+=1)s[e]=Ka(qa(t,r,e));return{c(){e=Zi("svg"),i=Zi("defs");for(let t=0;t<s.length;t+=1)s[t].c();Ji(e,"class",n=Ha["root-svg-filters"]),Ji(e,"aria-hidden","true")},m(t,n){Ui(t,e,n),zi(e,i);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(i,null)},p(t,e){if(1&e){let n;for(r=zn([...Object.keys(t[0])]),n=0;n<r.length;n+=1){const o=qa(t,r,n);s[n]?s[n].p(o,e):(s[n]=Ka(o),s[n].c(),s[n].m(i,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=r.length}},d(t){t&&Hi(e),qi(s,t)}}}function Za(t){let e,i;return{c(){e=Zi("feBlend"),Ji(e,"in2","SourceGraphic"),Ji(e,"mode",i=t[3])},m(t,i){Ui(t,e,i)},p(t,n){1&n&&i!==(i=t[3])&&Ji(e,"mode",i)},d(t){t&&Hi(e)}}}function Ya(t){let e;return{c(){e=Zi("feComposite"),Ji(e,"in2","SourceGraphic"),Ji(e,"operator","arithmetic"),Ji(e,"k1","1"),Ji(e,"k2","0"),Ji(e,"k3","0"),Ji(e,"k4","0")},m(t,i){Ui(t,e,i)},p:pi,d(t){t&&Hi(e)}}}function Wa(t){let e,i;return{c(){e=Zi("feComposite"),Ji(e,"in2","SourceGraphic"),Ji(e,"operator",i=t[3].split("_")[1])},m(t,i){Ui(t,e,i)},p(t,n){1&n&&i!==(i=t[3].split("_")[1])&&Ji(e,"operator",i)},d(t){t&&Hi(e)}}}function Ka(t){let e,i,n,r;function s(t,e){return"source_in"===t[3]||"source_atop"===t[3]?Wa:"multiply"===t[3]?Ya:Za}let o=s(t),a=o(t);return{c(){e=Zi("filter"),i=Zi("feFlood"),a.c(),Ji(i,"flood-color",n=t[2]),Ji(e,"id",r=t[0][t[1]])},m(t,n){Ui(t,e,n),zi(e,i),a.m(e,null)},p(t,l){1&l&&n!==(n=t[2])&&Ji(i,"flood-color",n),o===(o=s(t))&&a?a.p(t,l):(a.d(1),a=o(t),a&&(a.c(),a.m(e,null))),1&l&&r!==(r=t[0][t[1]])&&Ji(e,"id",r)},d(t){t&&Hi(e),a.d()}}}function Xa(t){let e,i=Object.keys(t[0]).length,n=i&&Ga(t);return{c(){n&&n.c(),e=Ki()},m(t,i){n&&n.m(t,i),Ui(t,e,i)},p(t,r){let[s]=r;1&s&&(i=Object.keys(t[0]).length),i?n?n.p(t,s):(n=Ga(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:pi,o:pi,d(t){t&&Hi(e),n&&n.d(t)}}}function Ja(t,e,i){let{svgFiltersMap:n}=e;return t.$$set=t=>{"svgFiltersMap"in t&&i(0,n=t.svgFiltersMap)},[n]}const Qa=class extends Qn{constructor(t){super(),Xn(this,t,Ja,Xa,xi,{svgFiltersMap:0})}};function tl(t,e,i,n){const r=i[t.type];if(!r)return n(sr(new Error("No such template"),{additional:{template:t.type}})),{json:t,templateContext:e};let s;const o={};for(s in e)e.hasOwnProperty(s)&&(o[s]=e[s]);for(s in t)"type"!==s&&"__proto__"!==s&&t.hasOwnProperty(s)&&(o[s]=t[s]);const a=function t(e,i){const n=Object.keys(i).filter((t=>"__proto__"!==t)),r=n.filter((t=>"$"!==t.charAt(0))),s=n.filter((t=>"$"===t.charAt(0)));return r.forEach((n=>{const r=i[n];"object"==typeof r&&null!==r?(e[n]=Array.isArray(r)?[]:{},t(e[n],r)):e[n]=r})),s.forEach((t=>{const n=i[t],r=o[n];if(void 0!==r){const i=t.substring(1);e[i]=r}})),e}({},r);for(s in t)"type"!==s&&"__proto__"!==s&&t.hasOwnProperty(s)&&(a[s]=t[s]);return{json:a,templateContext:o}}function el(){}function il(t){return{subscribe:e=>(e(t),el)}}il(void 0);const nl="function"==typeof BigInt;function rl(t){return nl?BigInt(t):Number(t)}const sl=rl("9223372036854775807"),ol=rl("-9223372036854775808");function al(t){const e=rl(t);if(e>sl||e<ol)throw new Error("Integer overflow.");if("number"==typeof e&&(Number.isNaN(e)||e!==Math.round(e)))throw new Error("Incorrect integer value.");return e}const ll=al(0);function cl(t){let e=t;return e<0&&(e=-e),e}function dl(t){let e=0;return t>0?e=1:t<0&&(e=-1),al(e)}function hl(t,e){return e.reduce(((t,e)=>({type:"BinaryExpression",operator:e[1],left:t,right:e[3]})),t)}function pl(t,e){return e.reduce(((t,e)=>({type:"LogicalExpression",operator:e[1],left:t,right:e[3]})),t)}function ul(t){if(t.every((t=>"string"==typeof t)))return{type:"StringLiteral",value:t.join("")};let e=t.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]).reduce(((t,e)=>("string"==typeof e?t.quasis.push({type:"StringLiteral",value:e}):(t.quasis.length===t.expressions.length&&t.quasis.push({type:"StringLiteral",value:""}),t.expressions.push(e)),t)),{type:"TemplateLiteral",quasis:[],expressions:[]});return e.quasis.length===e.expressions.length&&e.quasis.push({type:"StringLiteral",value:""}),e}function fl(t){try{return al(t)}catch(e){throw new Error("Value ".concat(t," can't be converted to Integer type."))}}function ml(t){if("'"===t||"\\"===t)return t;throw new Error("Incorrect string escape")}function gl(t,e,i,n){var r=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(r,gl.prototype),r.expected=e,r.found=i,r.location=n,r.name="SyntaxError",r}function yl(t,e,i){return i=i||" ",t.length>e?t:(e-=t.length,t+(i+=i.repeat(e)).slice(0,e))}function vl(t,e){var i,n={},r=(e=void 0!==e?e:{}).grammarSource,s={start:De,JsonStringContents:function(){var t,e,i;for(t=ye,e=[],i=Te();i!==n;)e.push(i),i=Te();return ve=t,At(e)}},o=De,a="@{",l="}",c="@{}",d="\\",h="?",p=":",u="!:",f="||",m="&&",g="==",y="!=",v=">=",b=">",_="<=",x="<",k="+",w="-",C="/",E="*",S="%",$="!",M="(",I=")",D=",",T="'",P=".",A="e",j="E",L="true",O="false",F=/^[^}]/,B=/^[^'}]/,V=/^[0-9]/,z=/^[a-zA-Z_0-9.]/,N=/^[a-zA-Z_]/,R=/^[ \t\r\n]/,U=Ce("@{",!1),H=Ce("}",!1),q=Ce("@{}",!1),G=Ce("\\",!1),Z={type:"any"},Y=Ee(["}"],!0,!1),W=Ce("?",!1),K=Ce(":",!1),X=Ce("!:",!1),J=Ce("||",!1),Q=Ce("&&",!1),tt=Ce("==",!1),et=Ce("!=",!1),it=Ce(">=",!1),nt=Ce(">",!1),rt=Ce("<=",!1),st=Ce("<",!1),ot=Ce("+",!1),at=Ce("-",!1),lt=Ce("/",!1),ct=Ce("*",!1),dt=Ce("%",!1),ht=Ce("!",!1),pt=Ce("(",!1),ut=Ce(")",!1),ft=Ce(",",!1),mt=Se("string"),gt=Ce("'",!1),yt=Ee(["'","}"],!0,!1),vt=Se("integer"),bt=Ee([["0","9"]],!1,!1),_t=Se("number"),xt=Ce(".",!1),kt=Ce("e",!1),wt=Ce("E",!1),Ct=Se("boolean"),Et=Ce("true",!1),St=Ce("false",!1),$t=Ee([["a","z"],["A","Z"],"_",["0","9"],"."],!1,!1),Mt=Se("identifier"),It=Ee([["a","z"],["A","Z"],"_"],!1,!1),Dt=Se("whitespace"),Tt=Ee([" ","\t","\r","\n"],!1,!1),Pt=function(t){return t},At=function(t){return ul(t)},jt=function(t){return t},Lt=function(){return""},Ot=function(){return we()},Ft=function(){throw new Error("Error tokenizing '"+t+"'.")},Bt=function(){throw new Error("Error tokenizing '"+t+"'.")},Vt=function(t){return t},zt=function(t){return ml(t)},Nt=function(){throw new Error("Error tokenizing '"+t+"'.")},Rt=function(t,e,i){return{type:"ConditionalExpression",test:t,consequent:e,alternate:i}},Ut=function(t,e){return{type:"TryExpression",test:t,alternate:e}},Ht=function(t,e){return pl(t,e)},qt=function(t,e){return pl(t,e)},Gt=function(t,e){return hl(t,e)},Zt=function(t,e){return hl(t,e)},Yt=function(t,e){return hl(t,e)},Wt=function(t,e){return hl(t,e)},Kt=function(t,e){return{type:"UnaryExpression",operator:t,argument:e}},Xt=function(t,e){return{type:"CallExpression",callee:t,arguments:e}},Jt=function(t){return{type:"Variable",id:t}},Qt=function(t,e){return[t,...e]},te=function(t){return t},ee=function(t){return t},ie=function(t){return ul(t)},ne=function(t){return t},re=function(){return""},se=function(){return we()},oe=function(){throw new Error("Error tokenizing '"+t+"'.")},ae=function(){throw new Error("Error tokenizing '"+t+"'.")},le=function(t){return t},ce=function(t){return ml(t)},de=function(){throw new Error("Error tokenizing '"+t+"'.")},he=function(){return{type:"IntegerLiteral",value:fl(we())}},pe=function(){return{type:"NumberLiteral",value:parseFloat(we())}},ue=function(){return{type:"NumberLiteral",value:parseFloat(we())}},fe=function(){return{type:"BooleanLiteral",value:!0}},me=function(){return{type:"BooleanLiteral",value:!1}},ge=function(){return{type:"Identifier",name:we()}},ye=0,ve=0,be=[{line:1,column:1}],_e=0,xe=[],ke=0;if("startRule"in e){if(!(e.startRule in s))throw new Error("Can't start parsing from rule \""+e.startRule+'".');o=s[e.startRule]}function we(){return t.substring(ve,ye)}function Ce(t,e){return{type:"literal",text:t,ignoreCase:e}}function Ee(t,e,i){return{type:"class",parts:t,inverted:e,ignoreCase:i}}function Se(t){return{type:"other",description:t}}function $e(e){var i,n=be[e];if(n)return n;for(i=e-1;!be[i];)i--;for(n={line:(n=be[i]).line,column:n.column};i<e;)10===t.charCodeAt(i)?(n.line++,n.column=1):n.column++,i++;return be[e]=n,n}function Me(t,e,i){var n=$e(t),s=$e(e),o={source:r,start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:s.line,column:s.column}};return i&&r&&"function"==typeof r.offset&&(o.start=r.offset(o.start),o.end=r.offset(o.end)),o}function Ie(t){ye<_e||(ye>_e&&(_e=ye,xe=[]),xe.push(t))}function De(){var t,e;return t=ye,qe(),(e=Pe())!==n?(qe(),ve=t,t=Pt(e)):(ye=t,t=n),t}function Te(){var e,i,r,s,o;if(e=ye,t.substr(ye,2)===a?(i=a,ye+=2):(i=n,0===ke&&Ie(U)),i!==n?(r=qe(),(s=Pe())!==n?(qe(),125===t.charCodeAt(ye)?(o=l,ye++):(o=n,0===ke&&Ie(H)),o!==n?(ve=e,e=jt(s)):(ye=e,e=n)):(ye=e,e=n)):(ye=e,e=n),e===n&&(e=ye,t.substr(ye,3)===c?(i=c,ye+=3):(i=n,0===ke&&Ie(q)),i!==n&&(ve=e,i=Lt()),(e=i)===n&&(e=ye,i=ye,ke++,92===t.charCodeAt(ye)?(r=d,ye++):(r=n,0===ke&&Ie(G)),r===n&&(t.substr(ye,2)===a?(r=a,ye+=2):(r=n,0===ke&&Ie(U))),ke--,r===n?i=void 0:(ye=i,i=n),i!==n?(t.length>ye?(r=t.charAt(ye),ye++):(r=n,0===ke&&Ie(Z)),r!==n?(ve=e,e=Ot()):(ye=e,e=n)):(ye=e,e=n),e===n))){if(e=ye,t.substr(ye,2)===a?(i=a,ye+=2):(i=n,0===ke&&Ie(U)),i!==n){if(r=[],F.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie(Y)),s!==n)for(;s!==n;)r.push(s),F.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie(Y));else r=n;r!==n?(125===t.charCodeAt(ye)?(s=l,ye++):(s=n,0===ke&&Ie(H)),s!==n?(ve=e,e=Ft()):(ye=e,e=n)):(ye=e,e=n)}else ye=e,e=n;e===n&&(e=ye,t.substr(ye,2)===a?(i=a,ye+=2):(i=n,0===ke&&Ie(U)),i!==n&&(ve=e,i=Bt()),(e=i)===n&&(e=ye,92===t.charCodeAt(ye)?(i=d,ye++):(i=n,0===ke&&Ie(G)),i!==n?(t.substr(ye,2)===a?(r=a,ye+=2):(r=n,0===ke&&Ie(U)),r!==n?(ve=e,e=Vt(r)):(ye=e,e=n)):(ye=e,e=n),e===n&&(e=ye,92===t.charCodeAt(ye)?(i=d,ye++):(i=n,0===ke&&Ie(G)),i!==n?(t.length>ye?(r=t.charAt(ye),ye++):(r=n,0===ke&&Ie(Z)),r!==n?(ve=e,e=zt(r)):(ye=e,e=n)):(ye=e,e=n),e===n&&(e=ye,92===t.charCodeAt(ye)?(i=d,ye++):(i=n,0===ke&&Ie(G)),i!==n&&(ve=e,i=Nt()),e=i))))}return e}function Pe(){var e,i,r,s,o,a;return e=ye,(i=Ae())!==n?(qe(),63===t.charCodeAt(ye)?(r=h,ye++):(r=n,0===ke&&Ie(W)),r!==n?(qe(),(s=Pe())!==n?(qe(),58===t.charCodeAt(ye)?(o=p,ye++):(o=n,0===ke&&Ie(K)),o!==n?(qe(),(a=Pe())!==n?(ve=e,e=Rt(i,s,a)):(ye=e,e=n)):(ye=e,e=n)):(ye=e,e=n)):(ye=e,e=n)):(ye=e,e=n),e===n&&(e=Ae()),e}function Ae(){var e,i,r,s;return e=ye,(i=je())!==n?(qe(),t.substr(ye,2)===u?(r=u,ye+=2):(r=n,0===ke&&Ie(X)),r!==n?(qe(),(s=Pe())!==n?(ve=e,e=Ut(i,s)):(ye=e,e=n)):(ye=e,e=n)):(ye=e,e=n),e===n&&(e=je()),e}function je(){var e,i,r,s,o,a,l,c;if(e=ye,(i=Le())!==n){for(r=[],s=ye,o=qe(),t.substr(ye,2)===f?(a=f,ye+=2):(a=n,0===ke&&Ie(J)),a!==n?(l=qe(),(c=Le())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);s!==n;)r.push(s),s=ye,o=qe(),t.substr(ye,2)===f?(a=f,ye+=2):(a=n,0===ke&&Ie(J)),a!==n?(l=qe(),(c=Le())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);ve=e,e=Ht(i,r)}else ye=e,e=n;return e}function Le(){var e,i,r,s,o,a,l,c;if(e=ye,(i=Oe())!==n){for(r=[],s=ye,o=qe(),t.substr(ye,2)===m?(a=m,ye+=2):(a=n,0===ke&&Ie(Q)),a!==n?(l=qe(),(c=Oe())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);s!==n;)r.push(s),s=ye,o=qe(),t.substr(ye,2)===m?(a=m,ye+=2):(a=n,0===ke&&Ie(Q)),a!==n?(l=qe(),(c=Oe())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);ve=e,e=qt(i,r)}else ye=e,e=n;return e}function Oe(){var e,i,r,s,o,a,l,c;if(e=ye,(i=Fe())!==n){for(r=[],s=ye,o=qe(),t.substr(ye,2)===g?(a=g,ye+=2):(a=n,0===ke&&Ie(tt)),a===n&&(t.substr(ye,2)===y?(a=y,ye+=2):(a=n,0===ke&&Ie(et))),a!==n?(l=qe(),(c=Fe())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);s!==n;)r.push(s),s=ye,o=qe(),t.substr(ye,2)===g?(a=g,ye+=2):(a=n,0===ke&&Ie(tt)),a===n&&(t.substr(ye,2)===y?(a=y,ye+=2):(a=n,0===ke&&Ie(et))),a!==n?(l=qe(),(c=Fe())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);ve=e,e=Gt(i,r)}else ye=e,e=n;return e}function Fe(){var e,i,r,s,o,a,l,c;if(e=ye,(i=Be())!==n){for(r=[],s=ye,o=qe(),t.substr(ye,2)===v?(a=v,ye+=2):(a=n,0===ke&&Ie(it)),a===n&&(62===t.charCodeAt(ye)?(a=b,ye++):(a=n,0===ke&&Ie(nt)),a===n&&(t.substr(ye,2)===_?(a=_,ye+=2):(a=n,0===ke&&Ie(rt)),a===n&&(60===t.charCodeAt(ye)?(a=x,ye++):(a=n,0===ke&&Ie(st))))),a!==n?(l=qe(),(c=Be())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);s!==n;)r.push(s),s=ye,o=qe(),t.substr(ye,2)===v?(a=v,ye+=2):(a=n,0===ke&&Ie(it)),a===n&&(62===t.charCodeAt(ye)?(a=b,ye++):(a=n,0===ke&&Ie(nt)),a===n&&(t.substr(ye,2)===_?(a=_,ye+=2):(a=n,0===ke&&Ie(rt)),a===n&&(60===t.charCodeAt(ye)?(a=x,ye++):(a=n,0===ke&&Ie(st))))),a!==n?(l=qe(),(c=Be())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);ve=e,e=Zt(i,r)}else ye=e,e=n;return e}function Be(){var e,i,r,s,o,a,l,c;if(e=ye,(i=Ve())!==n){for(r=[],s=ye,o=qe(),43===t.charCodeAt(ye)?(a=k,ye++):(a=n,0===ke&&Ie(ot)),a===n&&(45===t.charCodeAt(ye)?(a=w,ye++):(a=n,0===ke&&Ie(at))),a!==n?(l=qe(),(c=Ve())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);s!==n;)r.push(s),s=ye,o=qe(),43===t.charCodeAt(ye)?(a=k,ye++):(a=n,0===ke&&Ie(ot)),a===n&&(45===t.charCodeAt(ye)?(a=w,ye++):(a=n,0===ke&&Ie(at))),a!==n?(l=qe(),(c=Ve())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);ve=e,e=Yt(i,r)}else ye=e,e=n;return e}function Ve(){var e,i,r,s,o,a,l,c;if(e=ye,(i=ze())!==n){for(r=[],s=ye,o=qe(),47===t.charCodeAt(ye)?(a=C,ye++):(a=n,0===ke&&Ie(lt)),a===n&&(42===t.charCodeAt(ye)?(a=E,ye++):(a=n,0===ke&&Ie(ct)),a===n&&(37===t.charCodeAt(ye)?(a=S,ye++):(a=n,0===ke&&Ie(dt)))),a!==n?(l=qe(),(c=ze())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);s!==n;)r.push(s),s=ye,o=qe(),47===t.charCodeAt(ye)?(a=C,ye++):(a=n,0===ke&&Ie(lt)),a===n&&(42===t.charCodeAt(ye)?(a=E,ye++):(a=n,0===ke&&Ie(ct)),a===n&&(37===t.charCodeAt(ye)?(a=S,ye++):(a=n,0===ke&&Ie(dt)))),a!==n?(l=qe(),(c=ze())!==n?s=o=[o,a,l,c]:(ye=s,s=n)):(ye=s,s=n);ve=e,e=Wt(i,r)}else ye=e,e=n;return e}function ze(){var e,i,r;return(e=Ue())===n&&(e=Re())===n&&(e=ye,33===t.charCodeAt(ye)?(i=$,ye++):(i=n,0===ke&&Ie(ht)),i===n&&(43===t.charCodeAt(ye)?(i=k,ye++):(i=n,0===ke&&Ie(ot)),i===n&&(45===t.charCodeAt(ye)?(i=w,ye++):(i=n,0===ke&&Ie(at)))),i!==n?(qe(),(r=ze())!==n?(ve=e,e=Kt(i,r)):(ye=e,e=n)):(ye=e,e=n),e===n&&(e=function(){var e,i,r,s,o;return e=ye,(i=He())!==n?(qe(),40===t.charCodeAt(ye)?(r=M,ye++):(r=n,0===ke&&Ie(pt)),r!==n?(qe(),s=function(){var e,i,r,s,o,a;if(e=ye,(i=Pe())!==n){for(r=[],s=ye,qe(),44===t.charCodeAt(ye)?(o=D,ye++):(o=n,0===ke&&Ie(ft)),o!==n?(qe(),(a=Pe())!==n?s=a:(ye=s,s=n)):(ye=s,s=n);s!==n;)r.push(s),s=ye,qe(),44===t.charCodeAt(ye)?(o=D,ye++):(o=n,0===ke&&Ie(ft)),o!==n?(qe(),(a=Pe())!==n?s=a:(ye=s,s=n)):(ye=s,s=n);ve=e,e=Qt(i,r)}else ye=e,e=n;return e===n&&(e=qe()),e}(),s!==n?(qe(),41===t.charCodeAt(ye)?(o=I,ye++):(o=n,0===ke&&Ie(ut)),o!==n?(ve=e,e=Xt(i,s)):(ye=e,e=n)):(ye=e,e=n)):(ye=e,e=n)):(ye=e,e=n),e===n&&(e=ye,(i=He())!==n&&(ve=e,i=Jt(i)),(e=i)===n&&(e=function(){var e,i,r,s;return e=function(){var e,i,r,s;return ke++,e=ye,39===t.charCodeAt(ye)?(i=T,ye++):(i=n,0===ke&&Ie(gt)),i!==n?(r=function(){var t,e,i;for(t=ye,e=[],i=Ne();i!==n;)e.push(i),i=Ne();return ve=t,ie(e)}(),39===t.charCodeAt(ye)?(s=T,ye++):(s=n,0===ke&&Ie(gt)),s!==n?(ve=e,e=ee(r)):(ye=e,e=n)):(ye=e,e=n),ke--,e===n&&(i=n,0===ke&&Ie(mt)),e}(),e===n&&(e=Ue())===n&&(e=Re())===n&&(e=function(){var e,i;return ke++,e=ye,t.substr(ye,4)===L?(i=L,ye+=4):(i=n,0===ke&&Ie(Et)),i!==n&&(ve=e,i=fe()),(e=i)===n&&(e=ye,t.substr(ye,5)===O?(i=O,ye+=5):(i=n,0===ke&&Ie(St)),i!==n&&(ve=e,i=me()),e=i),ke--,e===n&&(i=n,0===ke&&Ie(Ct)),e}(),e===n&&(e=ye,40===t.charCodeAt(ye)?(i=M,ye++):(i=n,0===ke&&Ie(pt)),i!==n?(qe(),(r=Pe())!==n?(qe(),41===t.charCodeAt(ye)?(s=I,ye++):(s=n,0===ke&&Ie(ut)),s!==n?(ve=e,e=te(r)):(ye=e,e=n)):(ye=e,e=n)):(ye=e,e=n))),e}())),e}())),e}function Ne(){var e,i,r,s,o;if(e=ye,t.substr(ye,2)===a?(i=a,ye+=2):(i=n,0===ke&&Ie(U)),i!==n?(r=qe(),(s=Pe())!==n?(qe(),125===t.charCodeAt(ye)?(o=l,ye++):(o=n,0===ke&&Ie(H)),o!==n?(ve=e,e=ne(s)):(ye=e,e=n)):(ye=e,e=n)):(ye=e,e=n),e===n&&(e=ye,t.substr(ye,3)===c?(i=c,ye+=3):(i=n,0===ke&&Ie(q)),i!==n&&(ve=e,i=re()),(e=i)===n&&(e=ye,i=ye,ke++,92===t.charCodeAt(ye)?(r=d,ye++):(r=n,0===ke&&Ie(G)),r===n&&(39===t.charCodeAt(ye)?(r=T,ye++):(r=n,0===ke&&Ie(gt)),r===n&&(t.substr(ye,2)===a?(r=a,ye+=2):(r=n,0===ke&&Ie(U)))),ke--,r===n?i=void 0:(ye=i,i=n),i!==n?(t.length>ye?(r=t.charAt(ye),ye++):(r=n,0===ke&&Ie(Z)),r!==n?(ve=e,e=se()):(ye=e,e=n)):(ye=e,e=n),e===n))){if(e=ye,t.substr(ye,2)===a?(i=a,ye+=2):(i=n,0===ke&&Ie(U)),i!==n){if(r=[],B.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie(yt)),s!==n)for(;s!==n;)r.push(s),B.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie(yt));else r=n;r!==n?(125===t.charCodeAt(ye)?(s=l,ye++):(s=n,0===ke&&Ie(H)),s!==n?(ve=e,e=oe()):(ye=e,e=n)):(ye=e,e=n)}else ye=e,e=n;e===n&&(e=ye,t.substr(ye,2)===a?(i=a,ye+=2):(i=n,0===ke&&Ie(U)),i!==n&&(ve=e,i=ae()),(e=i)===n&&(e=ye,92===t.charCodeAt(ye)?(i=d,ye++):(i=n,0===ke&&Ie(G)),i!==n?(t.substr(ye,2)===a?(r=a,ye+=2):(r=n,0===ke&&Ie(U)),r!==n?(ve=e,e=le(r)):(ye=e,e=n)):(ye=e,e=n),e===n&&(e=ye,92===t.charCodeAt(ye)?(i=d,ye++):(i=n,0===ke&&Ie(G)),i!==n?(t.length>ye?(r=t.charAt(ye),ye++):(r=n,0===ke&&Ie(Z)),r!==n?(ve=e,e=ce(r)):(ye=e,e=n)):(ye=e,e=n),e===n&&(e=ye,92===t.charCodeAt(ye)?(i=d,ye++):(i=n,0===ke&&Ie(G)),i!==n&&(ve=e,i=de()),e=i))))}return e}function Re(){var e,i,r,s;if(ke++,e=ye,45===t.charCodeAt(ye)?(i=w,ye++):(i=n,0===ke&&Ie(at)),i===n&&(i=null),r=[],V.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie(bt)),s!==n)for(;s!==n;)r.push(s),V.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie(bt));else r=n;return r!==n?(ve=e,e=he()):(ye=e,e=n),ke--,e===n&&(i=n,0===ke&&Ie(vt)),e}function Ue(){var e,i,r,s,o,a,l,c,d,h;for(ke++,e=ye,45===t.charCodeAt(ye)?(i=w,ye++):(i=n,0===ke&&Ie(at)),i===n&&(i=null),r=[],V.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie(bt));s!==n;)r.push(s),V.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie(bt));if(46===t.charCodeAt(ye)?(s=P,ye++):(s=n,0===ke&&Ie(xt)),s!==n){if(o=[],V.test(t.charAt(ye))?(a=t.charAt(ye),ye++):(a=n,0===ke&&Ie(bt)),a!==n)for(;a!==n;)o.push(a),V.test(t.charAt(ye))?(a=t.charAt(ye),ye++):(a=n,0===ke&&Ie(bt));else o=n;if(o!==n){if(a=ye,101===t.charCodeAt(ye)?(l=A,ye++):(l=n,0===ke&&Ie(kt)),l===n&&(69===t.charCodeAt(ye)?(l=j,ye++):(l=n,0===ke&&Ie(wt))),l!==n){if(43===t.charCodeAt(ye)?(c=k,ye++):(c=n,0===ke&&Ie(ot)),c===n&&(45===t.charCodeAt(ye)?(c=w,ye++):(c=n,0===ke&&Ie(at))),c===n&&(c=null),d=[],V.test(t.charAt(ye))?(h=t.charAt(ye),ye++):(h=n,0===ke&&Ie(bt)),h!==n)for(;h!==n;)d.push(h),V.test(t.charAt(ye))?(h=t.charAt(ye),ye++):(h=n,0===ke&&Ie(bt));else d=n;d!==n?a=l=[l,c,d]:(ye=a,a=n)}else ye=a,a=n;a===n&&(a=null),ve=e,e=pe()}else ye=e,e=n}else ye=e,e=n;if(e===n){if(e=ye,45===t.charCodeAt(ye)?(i=w,ye++):(i=n,0===ke&&Ie(at)),i===n&&(i=null),r=[],V.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie(bt)),s!==n)for(;s!==n;)r.push(s),V.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie(bt));else r=n;if(r!==n)if(101===t.charCodeAt(ye)?(s=A,ye++):(s=n,0===ke&&Ie(kt)),s===n&&(69===t.charCodeAt(ye)?(s=j,ye++):(s=n,0===ke&&Ie(wt))),s!==n){if(43===t.charCodeAt(ye)?(o=k,ye++):(o=n,0===ke&&Ie(ot)),o===n&&(45===t.charCodeAt(ye)?(o=w,ye++):(o=n,0===ke&&Ie(at))),o===n&&(o=null),a=[],V.test(t.charAt(ye))?(l=t.charAt(ye),ye++):(l=n,0===ke&&Ie(bt)),l!==n)for(;l!==n;)a.push(l),V.test(t.charAt(ye))?(l=t.charAt(ye),ye++):(l=n,0===ke&&Ie(bt));else a=n;a!==n?(ve=e,e=ue()):(ye=e,e=n)}else ye=e,e=n;else ye=e,e=n}return ke--,e===n&&(i=n,0===ke&&Ie(_t)),e}function He(){var e,i,r,s,o;if(ke++,e=ye,i=ye,ke++,r=function(){var e,i,r,s;return e=ye,t.substr(ye,4)===L?(i=L,ye+=4):(i=n,0===ke&&Ie(Et)),i===n&&(t.substr(ye,5)===O?(i=O,ye+=5):(i=n,0===ke&&Ie(St))),i!==n?(r=ye,ke++,z.test(t.charAt(ye))?(s=t.charAt(ye),ye++):(s=n,0===ke&&Ie($t)),ke--,s===n?r=void 0:(ye=r,r=n),r!==n?e=i=[i,r]:(ye=e,e=n)):(ye=e,e=n),e}(),ke--,r===n?i=void 0:(ye=i,i=n),i!==n)if(N.test(t.charAt(ye))?(r=t.charAt(ye),ye++):(r=n,0===ke&&Ie(It)),r!==n){for(s=[],z.test(t.charAt(ye))?(o=t.charAt(ye),ye++):(o=n,0===ke&&Ie($t));o!==n;)s.push(o),z.test(t.charAt(ye))?(o=t.charAt(ye),ye++):(o=n,0===ke&&Ie($t));ve=e,e=ge()}else ye=e,e=n;else ye=e,e=n;return ke--,e===n&&(i=n,0===ke&&Ie(Mt)),e}function qe(){var e,i;for(ke++,e=[],R.test(t.charAt(ye))?(i=t.charAt(ye),ye++):(i=n,0===ke&&Ie(Tt));i!==n;)e.push(i),R.test(t.charAt(ye))?(i=t.charAt(ye),ye++):(i=n,0===ke&&Ie(Tt));return ke--,i=n,0===ke&&Ie(Dt),e}if((i=o())!==n&&ye===t.length)return i;throw i!==n&&ye<t.length&&Ie({type:"end"}),function(t,e,i){return new gl(gl.buildMessage(t,e),t,e,i)}(xe,_e<t.length?t.charAt(_e):null,_e<t.length?Me(_e,_e+1):Me(_e,_e))}!function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}(gl,Error),gl.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var i,n=null;for(i=0;i<t.length;i++)if(t[i].source===this.location.source){n=t[i].text.split(/\r\n|\n|\r/g);break}var r=this.location.start,s=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(r):r,o=this.location.source+":"+s.line+":"+s.column;if(n){var a=this.location.end,l=yl("",s.line.toString().length," "),c=n[r.line-1],d=(r.line===a.line?a.column:c.length+1)-r.column||1;e+="\n --\x3e "+o+"\n"+l+" |\n"+s.line+" | "+c+"\n"+l+" | "+yl("",r.column-1," ")+yl("",d,"^")}else e+="\n at "+o}return e},gl.buildMessage=function(t,e){var i={literal:function(t){return'"'+r(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?s(t[0])+"-"+s(t[1]):s(t)}));return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function r(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function s(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function o(t){return i[t.type](t)}return"Expected "+function(t){var e,i,n=t.map(o);if(n.sort(),n.length>0){for(e=1,i=1;e<n.length;e++)n[e-1]!==n[e]&&(n[i]=n[e],i++);n.length=i}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+r(t)+'"':"end of input"}(e)+" found."};const bl=new Map,_l=new Map;function xl(t,e,i){const n={args:e,cb:i},r=bl.get(t)||[];bl.has(t)||bl.set(t,r),r.push(n);const s=t+":"+e.map((t=>"object"==typeof t?t.type:t)).join("#");_l.set(s,n)}function kl(t,e){let i=t.args.length,n=t.args.length;const r=t.args[t.args.length-1];if("object"==typeof r&&r.isVararg&&(--i,n=1/0),e.length<i)return{type:"few",expected:i,found:e.length};if(e.length>n)return{type:"many",expected:n,found:e.length};for(let i=0;i<e.length;++i){let n=i>=t.args.length?t.args[t.args.length-1]:t.args[i];if("object"!=typeof n&&(n={type:n}),n.type!==e[i].type)return{type:"mismatch",expected:n.type,found:e[i].type}}return{type:"match"}}function wl(t,e){var i;switch(null===(i=e[t.type])||void 0===i||i.call(e,t),t.type){case"TemplateLiteral":t.expressions.forEach((t=>{wl(t,e)}));break;case"BinaryExpression":case"LogicalExpression":wl(t.left,e),wl(t.right,e);break;case"UnaryExpression":wl(t.argument,e);break;case"ConditionalExpression":wl(t.test,e),wl(t.consequent,e),wl(t.alternate,e);break;case"TryExpression":wl(t.test,e),wl(t.alternate,e);break;case"CallExpression":t.arguments.forEach((t=>{wl(t,e)}))}}function Cl(t){return"url"===t.type||"color"===t.type?{type:"string",value:t.value}:t}function El(t){return t.toISOString().replace("T"," ").replace(/\.\d{3}Z$/,"")}function Sl(t){if("string"===t.type)return t.value;if("integer"===t.type)return String(t.value);if("number"===t.type){let e=String(t.value);return e.includes(".")||(e.includes("e")?e=e.replace("e",".0e"):e+=".0"),e=e.replace(/e\+?/i,"E"),e}if("boolean"===t.type)return t.value?"true":"false";if("datetime"===t.type)return El(t.value);if("color"===t.type)return jl(Al(t.value));if("url"===t.type)return t.value;if("dict"===t.type)return"<dict>";if("array"===t.type)return"<array>";throw new Error("Unexpected type ".concat(t.type))}function $l(t){let e=Sl(t);return"string"===t.type&&(e="'"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"),e}function Ml(t){return"datetime"===t?"DateTime":t.charAt(0).toUpperCase()+t.substring(1)}function Il(t,e){if(nl)return al(e);if(e<0){const t=-Math.floor(-e);return 0===t?0:t}return Math.floor(e)}function Dl(t,e){if(e<ol||e>sl)throw new Error("Integer overflow.");!nl&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(t.safeIntegerOverflow=!0)}function Tl(t){const e=[];return wl(t,{Variable(t){e.push(t.id.name)}}),e}function Pl(t,e){throw new Error("Failed to evaluate [".concat(t,"]. ").concat(e))}function Al(t){const e=ur(t);if(e)return e;throw new Error("Unable to convert value to Color, expected format #AARRGGBB.")}function jl(t){return"#".concat([t.a,t.r,t.g,t.b].map((t=>{if(t<0||t>255)throw new Error("Value out of range 0..1.");return hr(Math.round(t).toString(16),2)})).join("").toUpperCase())}function Ll(t){return jl(Al(t))}const Ol=Number.MAX_VALUE,Fl=Number.MIN_VALUE,Bl="string",Vl="integer",zl="number",Nl="boolean",Rl="color",Ul="url",Hl="datetime",ql="dict",Gl="array";function Zl(t,e){return{type:Bl,value:Sl(e)}}function Yl(t,e){const i=Number(e.value);if(Number.isNaN(i)||!Number.isFinite(i))throw new Error("Unable to convert value to Number.");return{type:zl,value:i}}function Wl(t,e,i,n){const r=t.variables.get(e.value);let s;return s=r&&r.getType()===n?r.getValue():i.value,"color"===n&&(s=Ll(s)),{type:n,value:s}}function Kl(t,e,i){return Wl(t,e,i,i.type)}function Xl(t,e,i){return Wl(t,e,i,"color")}function Jl(t,e,i){return Wl(t,e,i,"url")}const Ql=t=>(e,i)=>{let n=new Date(i.value.getTime())[t]();return"getUTCMonth"===t?++n:"getUTCDay"===t&&0===n&&(n=7),{type:Vl,value:al(n)}},tc=Ql("getUTCFullYear"),ec=Ql("getUTCMonth"),ic=Ql("getUTCDate"),nc=Ql("getUTCDay"),rc=Ql("getUTCHours"),sc=Ql("getUTCMinutes"),oc=Ql("getUTCSeconds"),ac=Ql("getUTCMilliseconds");function lc(t,e,i,n){if(!n.value.length)return t.warnings.push(sr(new Error("String for padding is empty."),{level:"warn"})),"";let r="";const s=e.type===Bl?e.value:Sl(e);for(;r.length+s.length<i.value;)r+=n.value;return r.length>0&&r.length+s.length>i.value&&(r=r.substring(0,Number(i.value)-Number(s.length))),r}function cc(t,e,i,n){const r=lc(t,e,i,n);return{type:Bl,value:r+Sl(e)}}function dc(t,e,i,n){const r=lc(t,e,i,n);return{type:Bl,value:Sl(e)+r}}function hc(t){return(e,i)=>{const n=Al(i.value);return{type:zl,value:n[t]/255}}}function pc(t){return(e,i,n)=>{const r=Al(i.value);return r[t]=255*n.value,{type:Rl,value:jl(r)}}}const uc=hc("a"),fc=hc("r"),mc=hc("g"),gc=hc("b"),yc=pc("a"),vc=pc("r"),bc=pc("g"),_c=pc("b");function xc(t,e,i,n){if(e.value<0)throw new Error("Expecting non-negative number of milliseconds.");let r=al(e.value)/al(i);return Dl(t,r),"number"==typeof r&&(r=Math.floor(r)),n&&(r=al(r)%al(n)),{type:Vl,value:r}}const kc=36e5;function wc(t,e){return function(i,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];let a=function(t,e){let i=t;for(let t=0;t<e.length;++t){if(!i)throw new Error('Missing property "'.concat(e[t],'" in the dict.'));const n=i[e[t]];if(void 0===n)throw new Error('Missing property "'.concat(e[t],'" in the dict.'));i=n}return i}(n.value,s.map((t=>t.value))),l=typeof a;if("array"===t&&!Array.isArray(a)||"array"!==t&&l!==t||"object"===l&&null===a)throw"object"===l&&(l=Array.isArray(a)?"array":null===a?"null":"dict"),new Error('Incorrect value type: expected "'.concat(e,'", got "').concat(l,'".'));if("number"===t&&"integer"===e){Dl(i,a);try{a=al(a)}catch(t){throw new Error("Cannot convert value to integer.")}}return"string"===t&&"color"===e&&(a=Ll(a)),{type:e,value:a}}}function Cc(t,e){return function(i,n,r){try{for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return t(i,r,...o)}catch(t){let i=n.value;return"color"===e&&(i=Ll(i)),{type:e,value:i}}}}const Ec=wc("string","string"),Sc=wc("number","number"),$c=wc("number","integer"),Mc=wc("boolean","boolean"),Ic=wc("string","color"),Dc=wc("string","url"),Tc=wc("array","array"),Pc=wc("object","dict"),Ac=Cc(Ec,"string"),jc=Cc(Sc,"number"),Lc=Cc($c,"integer"),Oc=Cc(Mc,"boolean"),Fc=Cc(Ic,"color"),Bc=Cc(Dc,"url");function Vc(t,e){return(i,n,r)=>{if(r.value<0||r.value>=n.value.length)throw new Error("Requested index (".concat(r.value,") out of bounds array size (").concat(n.value.length,")."));let s=n.value[Number(r.value)],o=typeof s;if("array"===t&&!Array.isArray(s)||"array"!==t&&o!==t||"object"===o&&null===s)throw"object"===o&&(o=Array.isArray(s)?"array":null===s?"null":"dict"),new Error('Incorrect value type: expected "'.concat(e,'", got "').concat(o,'".'));if("number"===t&&"integer"===e){Dl(i,s);try{s=al(s)}catch(t){throw new Error("Cannot convert value to integer.")}}return"string"===t&&"color"===e&&(s=Ll(s)),{type:e,value:s}}}function zc(t,e){return(i,n,r,s)=>{try{return t(i,n,r)}catch(t){let i=s.value;return"color"===e&&(i=Ll(i)),{type:e,value:i}}}}const Nc=Vc("string","string"),Rc=Vc("number","number"),Uc=Vc("number","integer"),Hc=Vc("boolean","boolean"),qc=Vc("string","color"),Gc=Vc("string","url"),Zc=Vc("array","array"),Yc=Vc("object","dict"),Wc=zc(Nc,"string"),Kc=zc(Rc,"number"),Xc=zc(Uc,"integer"),Jc=zc(Hc,"boolean"),Qc=zc(qc,"color"),td=zc(Gc,"url");class ed{constructor(t,e){const i=this.convertValue(e);this.name=t,this.value=i}getName(){return this.name}subscribe(t){return this.store||(this.store=er(this.value)),this.store.subscribe(t)}set(t){const e=this.fromString(t);this.setValue(e)}setValue(t){const e=this.convertValue(t);this.value=e,this.store&&this.store.set(e)}getValue(){return this.value}}class id extends ed{convertValue(t){if("string"!=typeof t)throw new Error("Incorrect variable value");return t}fromString(t){return t}getType(){return"string"}}class nd extends ed{convertValue(t){if("bigint"!=typeof t&&"number"!=typeof t)throw new Error("Incorrect variable value");try{return al(t)}catch(t){throw new Error("Incorrect variable value")}}fromString(t){try{return al(t)}catch(t){throw new Error("Incorrect variable value")}}getType(){return"integer"}}class rd extends ed{convertValue(t){if("number"!=typeof t||Number.isNaN(t)||!isFinite(t))throw new Error("Incorrect variable value");return t}fromString(t){const e=Number(t);return this.convertValue(e)}getType(){return"number"}}class sd extends ed{convertValue(t){if(1!==t&&0!==t&&!0!==t&&!1!==t)throw new Error("Incorrect variable value");return Number(t)}fromString(t){if("1"===t||"true"===t)return 1;if("0"===t||"false"===t)return 0;throw new Error("Incorrect variable value")}getType(){return"boolean"}}class od extends ed{convertValue(t){if("string"!=typeof t||!ur(t))throw new Error("Incorrect variable value");return t}fromString(t){return this.convertValue(t)}getType(){return"color"}}class ad extends ed{convertValue(t){if("string"!=typeof t)throw new Error("Incorrect variable value");return t}fromString(t){return t}getType(){return"url"}}class ld extends ed{convertValue(t){if("object"!=typeof t||!t)throw new Error("Incorrect variable value");return t}fromString(t){throw new Error("Dict variable does not support setter from string")}getType(){return"dict"}}class cd extends ed{convertValue(t){if(!Array.isArray(t))throw new Error("Incorrect variable value");return t}fromString(t){throw new Error("Array variable does not support setter from string")}getType(){return"array"}}const dd={string:id,number:rd,integer:nd,boolean:sd,color:od,url:ad,dict:ld,array:cd};function hd(t,e,i){if(!(e in dd))throw new Error("Unsupported variable type");return new dd[e](t,i)}function pd(){}function ud(t){return t(this.value),pd}function fd(){throw new Error("Cannot change the value of this type of variable")}const md={string:class extends id{},number:class extends rd{},integer:class extends nd{},boolean:class extends sd{},color:class extends od{},url:class extends ad{},dict:class extends ld{},array:class extends cd{}};for(const t in md){const e=md[t];e.prototype.subscribe=ud,e.prototype.set=fd,e.prototype.setValue=fd}function gd(t){return t.map($l).join(", ")}xl("toString",[Vl],Zl),xl("toString",[zl],Zl),xl("toString",[Nl],Zl),xl("toString",[Rl],Zl),xl("toString",[Ul],Zl),xl("toNumber",[Vl],Yl),xl("toNumber",[Bl],Yl),xl("toInteger",[zl],(function(t,e){if(e.value>sl||e.value<ol)throw new Error("Unable to convert value to Integer.");const i=e.value-e.value%1;return{type:Vl,value:al(i)}})),xl("toInteger",[Bl],(function(t,e){let i;try{i=al(e.value)}catch(t){throw new Error("Unable to convert value to Integer.")}return{type:Vl,value:i}})),xl("toInteger",[Nl],(function(t,e){return{type:Vl,value:al(e.value?1:0)}})),xl("toBoolean",[Vl],(function(t,e){const i=Number(e.value);if(1!==i&&0!==i)throw new Error("Unable to convert value to Boolean.");return{type:Nl,value:i}})),xl("toBoolean",[Bl],(function(t,e){if("true"!==e.value&&"false"!==e.value)throw new Error("Unable to convert value to Boolean.");return{type:Nl,value:"true"===e.value?1:0}})),xl("toColor",[Bl],(function(t,e){return{type:Rl,value:Ll(e.value)}})),xl("toUrl",[Bl],(function(t,e){return{type:Ul,value:e.value}})),xl("encodeUri",[Bl],(function(t,e){try{return{type:Bl,value:encodeURIComponent(e.value)}}catch(t){throw new Error("Unable to encodeUri string.")}})),xl("decodeUri",[Bl],(function(t,e){try{return{type:Bl,value:decodeURIComponent(e.value)}}catch(t){throw new Error("Unable to decodeUri string.")}})),xl("getIntegerValue",[Bl,Vl],Kl),xl("getNumberValue",[Bl,zl],Kl),xl("getBooleanValue",[Bl,Nl],Kl),xl("getStringValue",[Bl,Bl],Kl),xl("getColorValue",[Bl,Rl],Xl),xl("getColorValue",[Bl,Bl],Xl),xl("getUrlValue",[Bl,Ul],Jl),xl("getUrlValue",[Bl,Bl],Jl),xl("parseUnixTime",[Vl],(function(t,e){return{type:Hl,value:new Date(1e3*Number(e.value))}})),xl("nowLocal",[],(function(){return{type:Hl,value:new Date}})),xl("addMillis",[Hl,Vl],(function(t,e,i){return{type:Hl,value:new Date(e.value.getTime()+Number(i.value))}})),xl("setYear",[Hl,Vl],(function(t,e,i){const n=new Date(e.value);return n.setUTCFullYear(Number(i.value)),{type:Hl,value:n}})),xl("setMonth",[Hl,Vl],(function(t,e,i){const n=Number(i.value);if(n<1||n>12)throw new Error("Expecting month in [1..12], instead got ".concat(n,"."));const r=new Date(e.value);return r.setUTCMonth(n-1),{type:Hl,value:r}})),xl("setDay",[Hl,Vl],(function(t,e,i){const n=new Date(e.value),r=Number(i.value);if(r<=0&&-1!==r||r>function(t){const e=new Date(t);return e.setUTCMonth(e.getUTCMonth()+1),e.setUTCDate(0),e.getUTCDate()}(n))throw new Error("Unable to set day ".concat(r," for date ").concat(Sl(e),"."));return n.setUTCDate(-1===r?0:r),{type:Hl,value:n}})),xl("setHours",[Hl,Vl],(function(t,e,i){const n=Number(i.value);if(n<0||n>23)throw new Error("Expecting hours in [0..23], instead got ".concat(n,"."));const r=new Date(e.value);return r.setUTCHours(n),{type:Hl,value:r}})),xl("setMinutes",[Hl,Vl],(function(t,e,i){const n=Number(i.value);if(n<0||n>59)throw new Error("Expecting minutes in [0..59], instead got ".concat(n,"."));const r=new Date(e.value);return r.setUTCMinutes(n),{type:Hl,value:r}})),xl("setSeconds",[Hl,Vl],(function(t,e,i){const n=Number(i.value);if(n<0||n>59)throw new Error("Expecting seconds in [0..59], instead got ".concat(n,"."));const r=new Date(e.value);return r.setUTCSeconds(n),{type:Hl,value:r}})),xl("setMillis",[Hl,Vl],(function(t,e,i){const n=Number(i.value);if(n<0||n>999)throw new Error("Expecting millis in [0..999], instead got ".concat(n,"."));const r=new Date(e.value);return r.setUTCMilliseconds(n),{type:Hl,value:r}})),xl("getYear",[Hl],tc),xl("getMonth",[Hl],ec),xl("getDay",[Hl],ic),xl("getDayOfWeek",[Hl],nc),xl("getHours",[Hl],rc),xl("getMinutes",[Hl],sc),xl("getSeconds",[Hl],oc),xl("getMillis",[Hl],ac),xl("getIntervalSeconds",[Vl],(function(t,e){return xc(t,e,1e3,60)})),xl("getIntervalTotalSeconds",[Vl],(function(t,e){return xc(t,e,1e3)})),xl("getIntervalMinutes",[Vl],(function(t,e){return xc(t,e,6e4,60)})),xl("getIntervalTotalMinutes",[Vl],(function(t,e){return xc(t,e,6e4)})),xl("getIntervalHours",[Vl],(function(t,e){return xc(t,e,kc,24)})),xl("getIntervalTotalHours",[Vl],(function(t,e){return xc(t,e,kc)})),xl("getIntervalTotalDays",[Vl],(function(t,e){return xc(t,e,864e5)})),xl("getIntervalTotalWeeks",[Vl],(function(t,e){return xc(t,e,6048e5)})),xl("len",[Bl],(function(t,e){return{type:Vl,value:al(e.value.length)}})),xl("contains",[Bl,Bl],(function(t,e,i){return{type:Nl,value:e.value.includes(i.value)?1:0}})),xl("substring",[Bl,Vl,Vl],(function(t,e,i,n){if(n.value<i.value)throw new Error("Indexes should be in ascending order.");if(i.value<0||i.value>e.value.length||n.value<0||n.value>e.value.length)throw new Error("Indexes are out of bounds.");return{type:Bl,value:e.value.substring(Number(i.value),Number(n.value))}})),xl("replaceAll",[Bl,Bl,Bl],(function(t,e,i,n){let r;return r=i.value?e.value.replace(new RegExp(function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(i.value),"g"),n.value):e.value,{type:Bl,value:r}})),xl("index",[Bl,Bl],(function(t,e,i){return{type:Vl,value:al(e.value.indexOf(i.value))}})),xl("lastIndex",[Bl,Bl],(function(t,e,i){return{type:Vl,value:al(e.value.lastIndexOf(i.value))}})),xl("trim",[Bl],(function(t,e){return{type:Bl,value:e.value.trim()}})),xl("trimLeft",[Bl],(function(t,e){return{type:Bl,value:e.value.replace(/^\s+/,"")}})),xl("trimRight",[Bl],(function(t,e){return{type:Bl,value:e.value.replace(/\s+$/,"")}})),xl("toUpperCase",[Bl],(function(t,e){return{type:Bl,value:e.value.toUpperCase()}})),xl("toLowerCase",[Bl],(function(t,e){return{type:Bl,value:e.value.toLowerCase()}})),xl("padStart",[Bl,Vl,Bl],cc),xl("padStart",[Vl,Vl,Bl],cc),xl("padEnd",[Bl,Vl,Bl],dc),xl("padEnd",[Vl,Vl,Bl],dc),xl("testRegex",[Bl,Bl],(function(t,e,i){let n;try{n=new RegExp(i.value)}catch(t){throw new Error("Invalid regular expression.")}return{type:Nl,value:n.test(e.value)?1:0}})),xl("div",[Vl,Vl],(function(t,e,i){if(i.value===ll)throw new Error("Division by zero is not supported.");let n=e.value/i.value;return n=Il(0,n),Dl(t,n),{type:Vl,value:n}})),xl("div",[zl,zl],(function(t,e,i){if(0===i.value)throw new Error("Division by zero is not supported.");const n=e.value/i.value;return{type:zl,value:n}})),xl("mod",[Vl,Vl],(function(t,e,i){if(i.value===ll)throw new Error("Division by zero is not supported.");let n=e.value%i.value;return n=Il(0,n),Dl(t,n),{type:Vl,value:n}})),xl("mod",[zl,zl],(function(t,e,i){if(0===i.value)throw new Error("Division by zero is not supported.");const n=e.value%i.value;return{type:zl,value:n}})),xl("mul",[{type:Vl,isVararg:!0}],(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=i.length?i[0].value:ll;for(let e=1;e<i.length;++e)r*=i[e].value,r=Il(0,r),Dl(t,r);return{type:Vl,value:r}})),xl("mul",[{type:zl,isVararg:!0}],(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=i.length?i[0].value:0;for(let t=1;t<i.length;++t)r*=i[t].value;return{type:zl,value:r}})),xl("sub",[{type:Vl,isVararg:!0}],(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=i.length?i[0].value:ll;for(let e=1;e<i.length;++e)r-=i[e].value,r=Il(0,r),Dl(t,r);return{type:Vl,value:r}})),xl("sub",[{type:zl,isVararg:!0}],(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];let r=i.length?i[0].value:0;for(let t=1;t<i.length;++t)r-=i[t].value;return{type:zl,value:r}})),xl("sum",[{type:Vl,isVararg:!0}],(function(t){let e=ll;for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(let i=0;i<n.length;++i)e+=n[i].value,e=Il(0,e),Dl(t,e);return{type:Vl,value:e}})),xl("sum",[{type:zl,isVararg:!0}],(function(t){let e=0;for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(let t=0;t<n.length;++t)e+=n[t].value;return{type:zl,value:e}})),xl("abs",[Vl],(function(t,e){const i=cl(e.value);return Dl(t,i),{type:e.type,value:i}})),xl("abs",[zl],(function(t,e){const i=Math.abs(e.value);return{type:zl,value:i}})),xl("max",[{type:Vl,isVararg:!0}],(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!i.length)throw new Error("Non empty argument list is required for function 'max'.");let r=i[0].value;for(let t=1;t<i.length;++t)i[t].value>r&&(r=i[t].value);return{type:Vl,value:r}})),xl("max",[{type:zl,isVararg:!0}],(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!i.length)throw new Error("Non empty argument list is required for function 'max'.");return{type:zl,value:Math.max(...i.map((t=>t.value)))}})),xl("min",[{type:Vl,isVararg:!0}],(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!i.length)throw new Error("Non empty argument list is required for function 'min'.");let r=i[0].value;for(let t=1;t<i.length;++t)i[t].value<r&&(r=i[t].value);return{type:Vl,value:r}})),xl("min",[{type:zl,isVararg:!0}],(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!i.length)throw new Error("Non empty argument list is required for function 'min'.");return{type:zl,value:Math.min(...i.map((t=>t.value)))}})),xl("maxNumber",[],(function(){return{type:zl,value:Ol}})),xl("minNumber",[],(function(){return{type:zl,value:Fl}})),xl("maxInteger",[],(function(t){return Dl(t,sl),{type:Vl,value:sl}})),xl("minInteger",[],(function(t){return Dl(t,ol),{type:Vl,value:ol}})),xl("round",[zl],(function(t,e){const i=Math.sign(e.value);return{type:zl,value:i*Math.round(Math.abs(e.value))}})),xl("floor",[zl],(function(t,e){return{type:zl,value:Math.floor(e.value)}})),xl("ceil",[zl],(function(t,e){return{type:zl,value:Math.ceil(e.value)}})),xl("signum",[Vl],(function(t,e){return{type:Vl,value:dl(e.value)}})),xl("signum",[zl],(function(t,e){return{type:zl,value:Math.sign(e.value)}})),xl("copySign",[Vl,Vl],(function(t,e,i){let n;if(i.value===ll)n=e.value;else if(e.value===ll)n=al(0);else{const t=dl(i.value);n=cl(e.value)*t}return Dl(t,n),{type:Vl,value:n}})),xl("copySign",[zl,zl],(function(t,e,i){let n=Math.sign(i.value);0===n&&(n=Object.is(n,0)?1:-1);const r=Math.abs(e.value)*n;return{type:zl,value:r}})),xl("getColorAlpha",[Bl],uc),xl("getColorAlpha",[Rl],uc),xl("getColorRed",[Bl],fc),xl("getColorRed",[Rl],fc),xl("getColorGreen",[Bl],mc),xl("getColorGreen",[Rl],mc),xl("getColorBlue",[Bl],gc),xl("getColorBlue",[Rl],gc),xl("setColorAlpha",[Bl,zl],yc),xl("setColorAlpha",[Rl,zl],yc),xl("setColorRed",[Bl,zl],vc),xl("setColorRed",[Rl,zl],vc),xl("setColorGreen",[Bl,zl],bc),xl("setColorGreen",[Rl,zl],bc),xl("setColorBlue",[Bl,zl],_c),xl("setColorBlue",[Rl,zl],_c),xl("rgb",[zl,zl,zl],(function(t,e,i,n){const r={a:255,r:255*e.value,g:255*i.value,b:255*n.value};return{type:Rl,value:jl(r)}})),xl("argb",[zl,zl,zl,zl],(function(t,e,i,n,r){const s={a:255*e.value,r:255*i.value,g:255*n.value,b:255*r.value};return{type:Rl,value:jl(s)}})),xl("getDictString",[ql,{type:Bl,isVararg:!0}],Ec),xl("getStringFromDict",[ql,{type:Bl,isVararg:!0}],Ec),xl("getDictNumber",[ql,{type:Bl,isVararg:!0}],Sc),xl("getNumberFromDict",[ql,{type:Bl,isVararg:!0}],Sc),xl("getDictInteger",[ql,{type:Bl,isVararg:!0}],$c),xl("getIntegerFromDict",[ql,{type:Bl,isVararg:!0}],$c),xl("getDictBoolean",[ql,{type:Bl,isVararg:!0}],Mc),xl("getBooleanFromDict",[ql,{type:Bl,isVararg:!0}],Mc),xl("getDictColor",[ql,{type:Bl,isVararg:!0}],Ic),xl("getColorFromDict",[ql,{type:Bl,isVararg:!0}],Ic),xl("getDictUrl",[ql,{type:Bl,isVararg:!0}],Dc),xl("getUrlFromDict",[ql,{type:Bl,isVararg:!0}],Dc),xl("getDictOptString",[Bl,ql,{type:Bl,isVararg:!0}],Ac),xl("getOptStringFromDict",[Bl,ql,{type:Bl,isVararg:!0}],Ac),xl("getDictOptNumber",[zl,ql,{type:Bl,isVararg:!0}],jc),xl("getOptNumberFromDict",[zl,ql,{type:Bl,isVararg:!0}],jc),xl("getDictOptInteger",[Vl,ql,{type:Bl,isVararg:!0}],Lc),xl("getOptIntegerFromDict",[Vl,ql,{type:Bl,isVararg:!0}],Lc),xl("getDictOptBoolean",[Nl,ql,{type:Bl,isVararg:!0}],Oc),xl("getOptBooleanFromDict",[Nl,ql,{type:Bl,isVararg:!0}],Oc),xl("getDictOptColor",[Rl,ql,{type:Bl,isVararg:!0}],Fc),xl("getOptColorFromDict",[Rl,ql,{type:Bl,isVararg:!0}],Fc),xl("getDictOptColor",[Bl,ql,{type:Bl,isVararg:!0}],Fc),xl("getOptColorFromDict",[Bl,ql,{type:Bl,isVararg:!0}],Fc),xl("getDictOptUrl",[Bl,ql,{type:Bl,isVararg:!0}],Bc),xl("getOptUrlFromDict",[Bl,ql,{type:Bl,isVararg:!0}],Bc),xl("getDictOptUrl",[Ul,ql,{type:Bl,isVararg:!0}],Bc),xl("getOptUrlFromDict",[Ul,ql,{type:Bl,isVararg:!0}],Bc),xl("getDictFromDict",[ql,{type:Bl,isVararg:!0}],Pc),xl("getArrayFromDict",[ql,{type:Bl,isVararg:!0}],Tc),xl("getOptArrayFromDict",[ql,{type:Bl,isVararg:!0}],(function(t,e){try{for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return Tc(t,e,...n)}catch(t){return{type:Gl,value:[]}}})),xl("getOptDictFromDict",[ql,{type:Bl,isVararg:!0}],(function(t,e){try{for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return Pc(t,e,...n)}catch(t){return{type:ql,value:{}}}})),xl("getArrayString",[Gl,Vl],Nc),xl("getStringFromArray",[Gl,Vl],Nc),xl("getArrayNumber",[Gl,Vl],Rc),xl("getNumberFromArray",[Gl,Vl],Rc),xl("getArrayInteger",[Gl,Vl],Uc),xl("getIntegerFromArray",[Gl,Vl],Uc),xl("getArrayBoolean",[Gl,Vl],Hc),xl("getBooleanFromArray",[Gl,Vl],Hc),xl("getArrayColor",[Gl,Vl],qc),xl("getColorFromArray",[Gl,Vl],qc),xl("getArrayUrl",[Gl,Vl],Gc),xl("getUrlFromArray",[Gl,Vl],Gc),xl("getArrayFromArray",[Gl,Vl],Zc),xl("getDictFromArray",[Gl,Vl],Yc),xl("getArrayOptString",[Gl,Vl,Bl],Wc),xl("getOptStringFromArray",[Gl,Vl,Bl],Wc),xl("getArrayOptNumber",[Gl,Vl,zl],Kc),xl("getOptNumberFromArray",[Gl,Vl,zl],Kc),xl("getArrayOptInteger",[Gl,Vl,Vl],Xc),xl("getOptIntegerFromArray",[Gl,Vl,Vl],Xc),xl("getArrayOptBoolean",[Gl,Vl,Nl],Jc),xl("getOptBooleanFromArray",[Gl,Vl,Nl],Jc),xl("getArrayOptColor",[Gl,Vl,Rl],Qc),xl("getOptColorFromArray",[Gl,Vl,Rl],Qc),xl("getArrayOptColor",[Gl,Vl,Bl],Qc),xl("getOptColorFromArray",[Gl,Vl,Bl],Qc),xl("getArrayOptUrl",[Gl,Vl,Ul],td),xl("getOptUrlFromArray",[Gl,Vl,Ul],td),xl("getArrayOptUrl",[Gl,Vl,Bl],td),xl("getOptUrlFromArray",[Gl,Vl,Bl],td),xl("getOptArrayFromArray",[Gl,Vl],(function(t,e,i){try{return Zc(t,e,i)}catch(t){return{type:Gl,value:[]}}})),xl("getOptDictFromArray",[Gl,Vl],(function(t,e,i){try{return Yc(t,e,i)}catch(t){return{type:ql,value:{}}}})),xl("len",[Gl],(function(t,e){return{type:Vl,value:al(e.value.length)}}));const yd={StringLiteral:function(t,e){return{type:Bl,value:e.value}},NumberLiteral:function(t,e){return{type:zl,value:e.value}},IntegerLiteral:function(t,e){return Dl(t,e.value),{type:Vl,value:e.value}},BooleanLiteral:function(t,e){return{type:Nl,value:e.value?1:0}},UnaryExpression:function(t,e){const i=Cl(vd(t,e.argument));switch(e.operator){case"!":if(i.type===Nl)return{type:Nl,value:i.value?0:1};Pl("".concat(e.operator).concat($l(i)),"A Boolean is expected after a unary not.");case"+":case"-":const n="+"===e.operator?1:-1;if(i.type===Vl){const e=i.value*al(n);return Dl(t,e),{type:Vl,value:e}}if(i.type===zl)return{type:zl,value:i.value*n};Pl("".concat(e.operator).concat($l(i)),"A Number is expected after a unary ".concat("+"===e.operator?"plus":"minus","."))}},ConditionalExpression:function(t,e){const i=Cl(vd(t,e.test));if(i.type===Nl)return i.value?vd(t,e.consequent):vd(t,e.alternate);Pl("".concat($l(i)," ? ").concat($l(vd(t,e.consequent))," : ").concat($l(vd(t,e.alternate))),"Ternary must be called with a Boolean value as a condition.")},TryExpression:function(t,e){try{return vd(t,e.test)}catch(i){return vd(t,e.alternate)}},TemplateLiteral:function(t,e){let i="";if(2===e.quasis.length&&""===e.quasis[0].value&&""===e.quasis[1].value)return vd(t,e.expressions[0]);for(let n=0;n<e.expressions.length;++n)i+=e.quasis[n].value,i+=Sl(vd(t,e.expressions[n]));return i+=e.quasis[e.quasis.length-1].value,{type:Bl,value:i}},LogicalExpression:function(t,e){const i=Cl(vd(t,e.left));if(i.type!==Nl&&Pl("".concat($l(i)," ").concat(e.operator," ..."),"'".concat(e.operator,"' must be called with boolean operands.")),"||"===e.operator&&i.value)return i;if("&&"===e.operator&&!i.value)return{type:Nl,value:0};const n=Cl(vd(t,e.right));return n.type!==Nl&&Pl("".concat($l(i)," ").concat(e.operator," ").concat($l(n)),"Operator '".concat(e.operator,"' cannot be applied to different types: Boolean and ").concat(Ml(n.type),".")),{type:Nl,value:n.value}},BinaryExpression:function(t,e){const i=e.operator,n=vd(t,e.left),r=vd(t,e.right);if(n.type!==r.type&&Pl("".concat($l(n)," ").concat(e.operator," ").concat($l(r)),"Operator '".concat(i,"' cannot be applied to different types: ").concat(Ml(n.type)," and ").concat(Ml(r.type),".")),"=="===i||"!="===i)return function(t,e,i){let n;return n=e.type===Hl&&i.type===Hl?e.value.getTime()===i.value.getTime():e.value===i.value,"!="===t&&(n=!n),{type:Nl,value:n?1:0}}(i,n,r);if(">"===i||">="===i||"<"===i||"<="===i)return function(t,e,i){let n;e.type!==zl&&e.type!==Vl&&e.type!==Hl&&Pl("".concat($l(e)," ").concat(t," ").concat($l(i)),"Operator '".concat(t,"' cannot be applied to ").concat(Ml(e.type)," type."));const r=e.type===Hl?e.value.getTime():e.value,s=i.type===Hl?i.value.getTime():i.value;return n=">"===t?r>s:">="===t?r>=s:"<"===t?r<s:r<=s,{type:Nl,value:n?1:0}}(i,n,r);if("+"===i||"-"===i)return function(t,e,i,n){if(i.type!==Bl&&i.type!==zl&&i.type!==Vl&&Pl("".concat($l(i)," ").concat(e," ").concat($l(n)),"Operator '".concat(e,"' cannot be applied to ").concat(Ml(i.type)," type.")),i.type===Bl)return"-"===e&&Pl("".concat($l(i)," - ").concat($l(n)),"Operator '".concat(e,"' cannot be applied to ").concat(Ml(i.type)," type.")),{type:Bl,value:i.value+n.value};let r="+"===e?i.value+n.value:i.value-n.value;if(i.type===Vl)try{r=Il(0,r),Dl(t,r)}catch(t){Pl("".concat($l(i)," ").concat(e," ").concat($l(n)),t.message)}return{type:i.type,value:r}}(t,i,n,r);if("/"===i||"*"===i||"%"===i)return function(t,e,i,n){let r;if(i.type!==Vl&&i.type!==zl&&Pl("".concat($l(i)," ").concat(e," ").concat($l(n)),"Operator '".concat(e,"' cannot be applied to ").concat(Ml(i.type)," type.")),"*"===e)r=i.value*n.value;else{if("/"!==e&&"%"!==e)throw new Error("Unsupported operation ".concat(e));0===Number(n.value)&&Pl("".concat($l(i)," ").concat(e," ").concat($l(n)),"Division by zero is not supported."),r="/"===e?i.value/n.value:i.value%n.value}if(i.type===Vl)try{r=Il(0,r),Dl(t,r)}catch(t){Pl("".concat($l(i)," ").concat(e," ").concat($l(n)),t.message)}return{type:i.type,value:r}}(t,i,n,r);throw new Error("Unsupported operation ".concat(i))},CallExpression:function(t,e){const i=e.callee.name;let n;const r=e.arguments.map((e=>vd(t,e))),s=i+":"+r.map((t=>t.type)).join("#");if(_l.has(s))n=_l.get(s);else{const t=function(t,e){const i=bl.get(t);if(!i)return{type:"missing"};let n=null;for(let t=0;t<i.length;++t){const r=kl(i[t],e);if("match"===r.type)return i[t];n||(n=r)}if(!n)throw new Error("Missing function");return n}(i,r);if("expected"in t||"type"in t&&"missing"===t.type){const e=r.map((t=>Ml(t.type))).join(", "),n="".concat(i,"(").concat(gd(r),")");"few"===t.type&&0===r.length?Pl(n,"Non empty argument list is required for function '".concat(i,"'.")):"many"===t.type||"few"===t.type||"mismatch"===t.type?Pl(n,"Function '".concat(i,"' has no matching override for given argument types: ").concat(e,".")):Pl(n,"Unknown function name: ".concat(i,"."))}n=t}if(!n)throw new Error("Function not found");try{return n.cb(t,...r)}catch(t){Pl("".concat(i,"(").concat(gd(r),")"),t.message)}},Variable:function(t,e){const i=e.id.name,n=t.variables.get(i);if(n)return function(t){return{type:t.getType(),value:t.getValue()}}(n);throw new Error("Variable '".concat(i,"' is missing."))}};function vd(t,e){if(e.type in yd)return yd[e.type](t,e);throw new Error("Unsupported expression")}function bd(t,e){try{const i={variables:t,warnings:[],safeIntegerOverflow:!1},n=vd(i,e);return i.safeIntegerOverflow&&i.warnings.push(sr(new Error("Safe integer overflow, values may lose accuracy."),{level:"warn"})),{result:n,warnings:i.warnings}}catch(t){return{result:{type:"error",value:t.message},warnings:[]}}}class _d{constructor(t){this.ast=t}apply(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const n=bd(t,this.ast);n.warnings.forEach(e);const r=n.result;if("error"===r.type)return void e(sr(new Error("Expression execution error"),{additional:{message:r.value}}));const s=r.value;if(s instanceof Date)return El(s);if("boolean"===r.type)return Boolean(s);if("color"===r.type){const t=ur(String(s));if(t)return jl(t);e(sr(new Error("Expression execution error")))}if("integer"===r.type)return s>2147483647||s<-2147483648?void e(sr(new Error("Expression result is out of 32-bit int range"))):Number(s);if(!i&&("array"===r.type||"dict"===r.type))try{return JSON.stringify(s)}catch(t){return e(sr(new Error("Failed to stringify ".concat(r.type)))),"<".concat(r.type,">")}return s}catch(t){return void e(sr(new Error("Expression execution error")))}}}function xd(t,e,i){if(t)if("string"==typeof t){if((n=t).indexOf("@{")>-1||n.indexOf("\\")>-1){e.hasExpression=!0;try{const i=vl(t,{startRule:"JsonStringContents"}),n=Tl(i);return e.vars.push(...n),new _d(i)}catch(e){return void i(sr(new Error("Unable to parse expression"),{additional:{expression:t}}))}}}else{if(Array.isArray(t))return t.map((t=>xd(t,e,i)));if("object"==typeof t){const n={};for(const r in t)n[r]=xd(t[r],e,i);return n}}var n;return t}function kd(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t){if(t instanceof _d)return t.apply(e,i,n);if(Array.isArray(t))return t.map((t=>kd(t,e,i)));if("object"==typeof t){const n={};for(const r in t)n[r]=kd(t[r],e,i);return n}}return t}function wd(t,e){const i={vars:[],hasExpression:!1},n=xd(t,i,e);return{vars:[...new Set(i.vars)],hasExpression:i.hasExpression,applyVars:(t,i)=>kd(n,t,e,i)}}const Cd={pagers:function(){return er(new Map)}},Ed=new Map,Sd=new Map;function $d(t){const e=Ed.get(t)||er("");return Ed.has(t)||Ed.set(t,e),e}function Md(t){const e=Sd.get(t)||new Map;return Sd.has(t)||Sd.set(t,e),e}class Id{setVariable(t){const e=t.getName(),i=Md(this);if(i.has(e))throw new Error("Variable with the same name already exist");i.set(e,t),$d(this).set(e)}getVariable(t){return Md(this).get(t)}list(){return Md(this).values()}}function Dd(){return new Id}function Td(t,e,i){return e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const Pd=new Set(["start","stop","pause","resume","cancel","reset"]);class Ad{constructor(t){Td(this,"timers",new Map),Td(this,"awaitActions",[]),this.logError=t.logError,this.applyVars=t.applyVars,this.hasVariableWithType=t.hasVariableWithType,this.setVariableValue=t.setVariableValue,this.execAnyActions=t.execAnyActions,this.visibilityHandler=()=>{"visible"===document.visibilityState?(this.awaitActions.forEach((t=>{let{id:e,action:i}=t;this.execTimerAction(e,i)})),this.awaitActions=[],this.unholdAll()):this.holdAll()},document.addEventListener("visibilitychange",this.visibilityHandler)}destroy(){document.removeEventListener("visibilitychange",this.visibilityHandler);for(const[t,e]of this.timers)this.stopTimerTimeouts(e)}createTimer(t){null!=t&&t.id?t.duration||t.tick_interval&&(t.value_variable||t.tick_actions)?this.timers.set(t.id,{state:"stopped",definition:t}):this.logError(sr(new Error("Misconfigured timer"),{additional:{id:t.id}})):this.logError(sr(new Error("Missing timer id")))}execTimerAction(t,e){if(!(t&&e&&this.timers.has(t)&&Pd.has(e)))return void this.logError(sr(new Error("Incorrect timer action"),{additional:{id:t,action:e}}));const i=e;if("visible"!==document.visibilityState)return void this.awaitActions.push({id:t,action:i});const n=this.timers.get(t);this[i](n)}stopTimerTimeouts(t){t.durationTimeout&&(clearTimeout(t.durationTimeout),t.durationTimeout=void 0),t.tickTimeout&&(clearTimeout(t.tickTimeout),t.tickTimeout=void 0)}tickOrUnholdAction(t){const e=performance.now(),i=(t.durationPassed||0)+e-(t.durationStarted||0);t.duration&&i>t.duration||(this.updateVariable(t,i),this.callActions(t,"tick"),void 0!==t.tickCount&&++t.tickCount)}startOrResume(t){t.state="running",t.hold=!1,t.durationStarted=performance.now();const e=t.duration;e&&(t.durationTimeout=window.setTimeout((()=>{this.updateVariable(t,e),t.tickCountPredict&&void 0!==t.tickCount&&t.tickCount<t.tickCountPredict&&this.callActions(t,"tick"),this.stop(t)}),Math.max(0,e-(t.durationPassed||0))));const i=t.tick;if(i){const e=()=>{const n=t.tickStarted=performance.now(),r=Math.max(0,i-(t.tickPassed||0));t.tickTimeout=window.setTimeout((()=>{this.tickOrUnholdAction(t),t.tickPassed=(performance.now()-n-r)%i,e()}),r)};e()}}start(t){if("running"===t.state)return void this.logError(sr(new Error("The timer is already running")));if("paused"===t.state)return void this.logError(sr(new Error("The timer is paused")));const e=t.definition.value_variable;!e||this.hasVariableWithType(e,"integer")?(e&&this.setVariableValue(e,0),t.definition.duration&&(t.duration=this.applyVars(t.definition.duration)),t.definition.tick_interval&&(t.tick=this.applyVars(t.definition.tick_interval)),void 0!==t.duration&&t.duration<0||void 0!==t.tick&&t.tick<=0?this.logError(sr(new Error("Incorrect timer properties"),{additional:{id:t.definition.id}})):(void 0!==t.duration&&void 0!==t.tick&&(t.tickCount=0,t.tickCountPredict=Math.floor(t.duration/t.tick)),this.startOrResume(t))):this.logError(sr(new Error("Cannot find variable"),{additional:{name:e}}))}stop(t){"stopped"!==t.state?(t.state="stopped",t.durationPassed=0,t.tickPassed=0,this.stopTimerTimeouts(t),this.callActions(t,"end")):this.logError(sr(new Error("The timer has already been stopped")))}pause(t){if("stopped"===t.state)return void this.logError(sr(new Error("The timer has already been stopped")));if("paused"===t.state)return void this.logError(sr(new Error("The timer has already been paused")));t.state="paused",this.stopTimerTimeouts(t);const e=performance.now();t.durationStarted&&(t.durationPassed=(t.durationPassed||0)+e-t.durationStarted),t.tickStarted&&(t.tickPassed=(t.tickPassed||0)+e-t.tickStarted);const i=t.definition.value_variable;i&&t.durationPassed&&this.setVariableValue(i,Math.round(t.durationPassed))}resume(t){"stopped"!==t.state?"running"!==t.state?this.startOrResume(t):this.logError(sr(new Error("The timer is already running"))):this.logError(sr(new Error("The timer has already been stopped")))}cancel(t){"stopped"!==t.state&&(t.state="stopped",t.durationPassed=0,t.tickPassed=0,this.stopTimerTimeouts(t))}reset(t){this.cancel(t),this.start(t)}updateVariable(t,e){const i=t.definition.value_variable;i&&this.setVariableValue(i,Math.round(e))}callActions(t,e){const i=t.definition["end"===e?"end_actions":"tick_actions"];if(i){const t=this.applyVars(i);this.execAnyActions(t,{processUrls:!1})}}holdAll(){for(const[t,e]of this.timers)"running"===e.state&&(e.hold=!0,this.stopTimerTimeouts(e))}unholdAll(){for(const[t,e]of this.timers)if("running"===e.state&&e.hold){const t=performance.now();e.durationStarted&&(e.durationPassed=(e.durationPassed||0)+t-e.durationStarted),e.tickStarted&&(e.tickPassed=(e.tickPassed||0)+t-e.tickStarted),e.tick&&this.tickOrUnholdAction(e),this.startOrResume(e)}}}function jd(t,e,i,n){const{variable_name:r}=i;if(!r)return void e(sr(new Error("Incorrect ".concat(i.type," action")),{additional:{name:r}}));const s=t.get(r);if(!s)return void e(sr(new Error("Cannot find variable"),{additional:{name:r}}));const o=s.getType();"array"===o?n(s):e(sr(new Error("Trying to insert value into the non-array"),{additional:{name:r,type:o}}))}function Ld(t){let e,i,n,r,s,o,a,l;return i=new Qa({props:{svgFiltersMap:t[3]}}),r=new Ua({props:{componentContext:t[4]}}),{c(){e=Gi("div"),Yn(i.$$.fragment),n=Wi(),Yn(r.$$.fragment),Ji(e,"class",s=""+(nr.root+(t[5]?" ".concat(nr.root_platform_desktop):"")+(t[0]?" ".concat(t[0]):""))),Ji(e,"dir",t[6])},m(t,s){Ui(t,e,s),Wn(i,e,null),zi(e,n),Wn(r,e,null),o=!0,a||(l=Xi(e,"touchstart",Rd,{passive:!0}),a=!0)},p(t,n){const a={};8&n[0]&&(a.svgFiltersMap=t[3]),i.$set(a);const l={};16&n[0]&&(l.componentContext=t[4]),r.$set(l),(!o||33&n[0]&&s!==(s=""+(nr.root+(t[5]?" ".concat(nr.root_platform_desktop):"")+(t[0]?" ".concat(t[0]):""))))&&Ji(e,"class",s),(!o||64&n[0])&&Ji(e,"dir",t[6])},i(t){o||(On(i.$$.fragment,t),On(r.$$.fragment,t),o=!0)},o(t){Fn(i.$$.fragment,t),Fn(r.$$.fragment,t),o=!1},d(t){t&&Hi(e),Kn(i),Kn(r),a=!1,l()}}}function Od(t){let e,i,n=!t[1]&&!t[2]&&t[4]&&Ld(t);return{c(){n&&n.c(),e=Ki()},m(t,r){n&&n.m(t,r),Ui(t,e,r),i=!0},p(t,i){t[1]||t[2]||!t[4]?n&&(jn(),Fn(n,1,1,(()=>{n=null})),Ln()):n?(n.p(t,i),22&i[0]&&On(n,1)):(n=Ld(t),n.c(),On(n,1),n.m(e.parentNode,e))},i(t){i||(On(n),i=!0)},o(t){Fn(n),i=!1},d(t){t&&Hi(e),n&&n.d(t)}}}let Fd=er(!0),Bd=0;function Vd(){Fd.set(!1)}function zd(){Fd.set(!0)}function Nd(t,e){return t&&e?new Map([...t,...e]):t||e||void 0}function Rd(){}function Ud(t,e,i){let n,r,s,o;var a,l,c,d;let{id:h}=e,{json:p={}}=e,{platform:u="auto"}=e,{theme:f="system"}=e,{globalVariablesController:m=new Id}=e,{mix:g=""}=e,{customization:y={}}=e,{builtinProtocols:v=["http","https","tel","mailto","intent"]}=e,{extensions:b=new Map}=e,{onError:_}=e,{onStat:x}=e,{onCustomAction:k}=e,{onComponent:w}=e,{typefaceProvider:C=(t=>"")}=e,{fetchInit:E={}}=e,{tooltipRoot:S}=e,{customComponents:$}=e,{direction:M="ltr"}=e,I=er("desktop"===u);if(wi(t,I,(t=>i(5,s=t))),"auto"===u&&"undefined"!=typeof matchMedia){const t=matchMedia("(any-pointer: coarse)");I.set(!t.matches),t.addListener((()=>{I.set(!t.matches)}))}let D="light",T=null;const P=er("rtl"===M?"rtl":"ltr");function A(){"system"===f&&T&&i(33,D=T.matches?"dark":"light")}wi(t,P,(t=>i(6,o=t)));const j=new Set(v);let L=!1,O=!1;h||(O=!0,Z(sr(new Error('"id" prop is required'))));const F={stateChange:!1},B=$d(m),V=Md(m),z=new Map,N=new Map,R=new Map;let U=null,H=0,q=[];function G(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=wd(e,t);if(!r.hasExpression)return e;const s=Nd(N,i);return r.applyVars(s,n)}function Z(t){_?_({error:t}):"warn"===(null==t?void 0:t.level)?console.warn(t):console.error(t)}function Y(t,e){x&&x({type:t,action:e})}function W(t,e){if(!t)return{json:t,templateContext:e};const i=new Set([t.type]);for(;t.type&&t.type in n;){if(({json:t,templateContext:e}=tl(t,e,n,Z)),i.has(t.type))return{json:t,templateContext:e};i.add(t.type)}return{json:t,templateContext:e}}let K=0;function X(t){return"".concat(h,"-").concat(K++)}let J={},Q={};function tt(t,e){const r=t.url?String(t.url):"",s=t.typed;if(!zr(t))return;const o=(null==e?void 0:e.logError)||Z;if(r)try{const s=r.replace(/div-action:\/\//,""),a=/([^?]+)\?(.+)/.exec(s);if(!a)return;const l=new URLSearchParams(a[2]);switch(a[1]){case"set_state":!function(t){if(!t)throw new Error("Missing state id");let e=dt,i=t.split("/");if(i=["root",...i],i.length<2||i.length%2!=0)throw new Error("Incorrect state id format");for(let t=0;t<i.length;t+=2){const n=i[t],r=i[t+1];let s=e.getChild(n);if(!s)return;s.setState(r),e=s}}(l.get("state_id"));break;case"set_current_item":!function(t,e){if(!t||!e)throw new Error('Missing data for "set-current-item" action');if(Number.isNaN(Number(e)))throw new Error('Incorrect item for "set-current-item" action');const i=at(t);i&&i.setCurrentItem(Number(e))}(l.get("id"),l.get("item"));break;case"set_previous_item":!function(t,e){if(!t)throw new Error('Missing id for "set-previous-item" action');if(e&&"clamp"!==e&&"ring"!==e)throw new Error('Incorrect overflow value for "set-previous-item" action');e=e||"clamp";const i=at(t);i&&i.setPreviousItem(e)}(l.get("id"),l.get("overflow"));break;case"set_next_item":!function(t,e){if(!t)throw new Error('Missing id for "set-next-item" action');if(e&&"clamp"!==e&&"ring"!==e)throw new Error('Incorrect overflow value for "set-next-item" action');e=e||"clamp";const i=at(t);i&&i.setNextItem(e)}(l.get("id"),l.get("overflow"));break;case"set_variable":const a=l.get("name"),c=l.get("value");if(a&&null!==c){const t=N.get(a);if(t){const e=t.getType();"dict"===e||"array"===e?o(sr(new Error("Setting ".concat(e," variables is not supported")),{additional:{name:a}})):t.set(c)}else o(sr(new Error("Cannot find variable"),{additional:{name:a}}))}else o(sr(new Error("Incorrect set_variable_action"),{additional:{url:s}}));break;case"timer":const d=l.get("action"),h=l.get("id");U?U.execTimerAction(h,d):o(sr(new Error("Incorrect timer action"),{additional:{id:h,action:d}}));break;case"video":!function(t,e,i){const n=(null==i?void 0:i.logError)||Z;if(t){const i=at(t);i?"start"===e?i.start():"pause"===e?i.pause():n(sr(new Error("Unknown video action"),{additional:{id:t,action:e}})):n(sr(new Error("Video component is not found"),{additional:{id:t,action:e}}))}else n(sr(new Error("Missing id in video action"),{additional:{action:e}}))}(l.get("id"),l.get("action"),e);break;case"download":!function(t,e,i){const r=(null==i?void 0:i.logError)||Z;if(t){let i;i="function"==typeof E?E(t):E,fetch(t,i).then((t=>{if(!t.ok)throw new Error("Response is not ok");return t.json()})).then((i=>{var s,o,a;if(i){if(i.templates)for(const t in i.templates)n.hasOwnProperty(t)||(n[t]=i.templates[t]);if(Array.isArray(null===(s=i.patch)||void 0===s?void 0:s.changes)){if("transactional"===i.patch.mode){const n=i.patch.changes.find((t=>{const e=rt.get(t.id);if(!e)return!0;const i=Array.isArray(t.items)?t.items.length:0;return!(!e.isSingleMode||1===i)}));if(n)return r(sr(new Error("Skipping transactional, child is not found or broken"),{additional:{url:t,id:n.id}})),void et(null===(o=e.download_callbacks)||void 0===o?void 0:o.on_fail_actions)}i.patch.changes.forEach((t=>{const e=rt.get(t.id);e&&e.replaceWith(t.id,t.items)})),et(null===(a=e.download_callbacks)||void 0===a?void 0:a.on_success_actions)}}else r(sr(new Error("Incorrect patch"),{additional:{url:t}}))})).catch((i=>{var n;r(sr(new Error("Failed to download the patch"),{additional:{url:t,originalError:i}})),et(null===(n=e.download_callbacks)||void 0===n?void 0:n.on_fail_actions)}))}else r(sr(new Error("Missing url in download action"),{additional:{url:t}}))}(l.get("url"),t,e);break;case"show_tooltip":!function(t,e,n){var r;const s=(null==n?void 0:n.logError)||Z;if(!t)return void s(sr(new Error("Missing id in show_tooltip action")));const o=ot.get(t);if(!o)return void s(sr(new Error("Tooltip with the provided id is not found"),{additional:{id:t}}));if("true"!==e&&q.some((e=>e.desc.id===t)))return;const a={internalId:++H,ownerNode:o.onwerNode,desc:o.tooltip,timeoutId:0};i(35,q=[...q,a]);const l=null!==(r=o.tooltip.duration)&&void 0!==r?r:5e3;l&&(a.timeoutId=window.setTimeout((()=>{a.timeoutId=0,i(35,q=q.filter((t=>t.internalId!==a.internalId)))}),l))}(l.get("id"),l.get("multiple"),e);break;case"hide_tooltip":!function(t,e){const n=(null==e?void 0:e.logError)||Z;t?i(35,q=q.filter((e=>{const i=e.desc.id!==t;return!i&&e.timeoutId&&(clearTimeout(e.timeoutId),e.timeoutId=null),i}))):n(sr(new Error("Missing id in hide_tooltip action")))}(l.get("id"),e);break;default:o(sr(new Error("Unknown type of action"),{additional:{url:r}}))}}catch(t){o(sr(t,{additional:{url:r}}))}else if(s)switch(s.type){case"set_variable":{const{variable_name:t,value:e}=s;if(t&&e){const i=N.get(t);i?i.getType()===e.type?i.setValue(e.value):o(sr(new Error("Trying to set value with invalid type"),{additional:{name:t,type:e.type}})):o(sr(new Error("Cannot find variable"),{additional:{name:t}}))}else o(sr(new Error("Incorrect set_variable action"),{additional:{name:t}}));break}case"array_insert_value":!function(t,e,i){const{variable_name:n,index:r,value:s}=i;!s||"number"!=typeof r&&void 0!==r?e(sr(new Error("Incorrect array_insert_value action"),{additional:{name:n}})):jd(t,e,i,(t=>{const o=t.getValue();if("number"==typeof r&&(r<0||r>o.length))e(sr(new Error("Index out of bound for mutation ".concat(i.type)),{additional:{name:n,index:r,length:o.length}}));else{const e=o.slice();"number"==typeof r?e.splice(r,0,s.value):e.push(s.value),t.setValue(e)}}))}(N,o,s);break;case"array_remove_value":!function(t,e,i){const{variable_name:n,index:r}=i;"number"==typeof r?jd(t,e,i,(t=>{const s=t.getValue();if("number"==typeof r&&(r<0||r>=s.length))e(sr(new Error("Index out of bound for mutation ".concat(i.type)),{additional:{name:n,index:r,length:s.length}}));else{const e=s.slice();e.splice(r,1),t.setValue(e)}})):e(sr(new Error("Incorrect array_remove_value action"),{additional:{name:n}}))}(N,o,s);break;case"copy_to_clipboard":!function(t,e){!e.content||"text"!==e.content.type&&"url"!==e.content.type||"string"!=typeof e.content.value?t(sr(new Error("Incorrect action"),{additional:{action:e}})):"undefined"!=typeof navigator&&"clipboard"in navigator&&navigator.clipboard&&"writeText"in navigator.clipboard&&"function"==typeof navigator.clipboard.writeText?navigator.clipboard.writeText(e.content.value).catch((e=>{t(sr(new Error("Failed to copy to the clipboard"),{additional:{originalError:String(e)}}))})):t(sr(new Error("Clipboard is unavailable"),{additional:{action:e}}))}(o,s);break;case"focus_element":{const t=s.element_id&&st.get(s.element_id);t?t.focus():o(sr(new Error("Incorrect focus_element action"),{additional:{elementId:s.element_id}}));break}default:o(sr(new Error("Unknown type of action"),{additional:{type:s.type}}))}}async function et(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!Array.isArray(t))return;const i=t.filter(zr);for(let t=0;t<i.length;++t){let n=i[t];const r=n.url,s=n.typed;if(r){const t=xr(r);if(t)if(kr(t,j)){if(e.processUrls)if("_blank"===n.target){const t=window.open("","_blank");t&&(t.opener=null,t.location=r)}else location.href=r}else"div-action"===t?(tt(n,e.componentContext),await wn()):n.log_id&&(it(n),await wn())}else s&&tt(n,e.componentContext)}i.forEach((t=>{t.log_id&&Y("click",t)}))}function it(t){null==k||k(t)}const nt=new Map,rt=new Map,st=new Map,ot=new Map;function at(t){if(nt.has(t))return nt.get(t);Z(sr(new Error("Missing instance with id"),{additional:{id:t}}))}const lt=new Map;function ct(t){const e=R.get(t)||er(void 0);return R.has(t)||R.set(t,e),e}un(rr,{logStat:Y,hasTemplate:function(t){return t in n},processTemplate:W,genId:X,genClass:function(t){return"divkit-".concat(X())},execAction:tt,execCustomAction:it,isRunning:function(t){return F[t]},setRunning:function(t,e){F[t]=e},registerInstance:function(t,e){nt.has(t)?Z(sr(new Error("Duplicate instance id"),{additional:{id:t}})):nt.set(t,e)},unregisterInstance:function(t){nt.delete(t)},registerParentOf:function(t,e){rt.set(t,e)},unregisterParentOf:function(t){rt.delete(t)},registerTooltip:function(t,e){const i=e.id;i&&(ot.has(i)&&Z(sr(new Error("Duplicate tooltip id"),{additional:{id:i}})),ot.set(i,{onwerNode:t,tooltip:e}))},unregisterTooltip:function(t){const e=t.id;e&&(ot.delete(e),q.some((t=>t.desc.id===e))&&i(35,q=q.filter((t=>t.desc.id!==e))))},onTooltipClose:function(t){i(35,q=q.filter((e=>e.internalId!==t)))},tooltipRoot:S,registerFocusable:function(t,e){st.set(t,e)},unregisterFocusable:function(t){st.delete(t)},addSvgFilter:function(t,e){const n="".concat(t,":").concat(e);if(Q[n]=Q[n]||0,++Q[n],J[n])return J[n];const r="".concat(X(),"-svg-filter");return i(3,J=Object.assign(Object.assign({},J),{[n]:r})),r},removeSvgFilter:function(t,e){if(!t)return;const n="".concat(t,":").concat(e);Q[n]&&0==--Q[n]&&i(3,J=Object.keys(J).reduce(((t,e)=>(Q[e]&&(t[e]=J[e]),t)),{}))},preparePrototypeVariables:function(t,e){const i=new Map,n=function(t,e,i){if(!(e in md))throw new Error("Unsupported variable type");return new md[e](t,i)}(t,"dict",e);return i.set(t,n),i},getStore:function(t){return lt.has(t)||function(t){lt.has(t)||lt.set(t,Cd[t]())}(t),lt.get(t)},getCustomization:function(t){return null==y?void 0:y[t]},getBuiltinProtocols:function(){return j},getExtension:function(t,e){const i=b.get(t);if(i)return new i(e||{})},getExtensionContext:function(){return{variables:N,logError:Z}},typefaceProvider:C,isDesktop:I,isPointerFocus:Fd,customComponents:$,direction:P,componentDevtool:void 0}),un(Hr,{hasAction:()=>!1});const dt={setState(t){throw new Error("Not implemented")},getChild(t){if(ht&&ht.has(t))return ht.get(t);Z(sr(new Error("Missing state block with id"),{additional:{id:t}}))}};let ht=null;function pt(t){if(t.type in dd){"integer"===t.type&&"number"==typeof t.value&&(t.value>Number.MAX_SAFE_INTEGER||t.value<Number.MIN_SAFE_INTEGER)&&Z(sr(new Error("The value of the integer variable could lose accuracy"),{level:"warn",additional:{name:t.name,value:t.value}}));try{const e=hd(t.name,t.type,t.value);z.set(t.name,e),N.set(t.name,e)}catch(e){Z(sr(e,{additional:{name:t.name}}))}}}un($r,{registerInstance(t,e){ht||(ht=new Map),ht.has(t)?Z(sr(new Error("Duplicate state with id"),{additional:{id:t}})):ht.set(t,e)},unregisterInstance(t){null==ht||ht.delete(t)},runVisibilityTransition:(t,e,i,n,r)=>Promise.resolve(),registerChildWithTransitionIn:(t,e,i,n)=>Promise.resolve(),registerChildWithTransitionOut:(t,e,i,n)=>Promise.resolve(),registerChildWithTransitionChange:(t,e,i,n)=>Promise.resolve(),hasTransitionChange:t=>!1,registerChild(t){},unregisterChild(t){}});const ut=null===(a=null==p?void 0:p.card)||void 0===a?void 0:a.variables;Array.isArray(ut)&&ut.forEach((t=>{if(t&&t.name){if(z.has(t.name))return void Z(sr(new Error("Duplicate variable"),{additional:{name:t.name}}));pt(t)}}));const ft=p.palette;ft&&ft[D].forEach((t=>{if(z.has(t.name))Z(sr(new Error("Duplicate variable"),{additional:{name:t.name}}));else try{const e=hd(t.name,"color",t.color);z.set(t.name,e),N.set(t.name,e)}catch(e){Z(sr(e,{additional:{name:t.name}}))}}));for(const[t,e]of V)N.has(t)||N.set(t,e);B.subscribe((t=>{if(t&&!N.has(t)){const e=V.get(t);N.set(t,e);const i=R.get(t);if(i){let t=0;e.subscribe((()=>{i.set(++t)}))}}}));const mt=null===(c=null==p?void 0:p.card)||void 0===c?void 0:c.timers;if(mt&&"undefined"!=typeof document){const t=U=new Ad({logError:Z,applyVars:t=>G(Z,t),hasVariableWithType:function(t,e){const i=N.get(t);return(null==i?void 0:i.getType())===e},setVariableValue:function(t,e){const i=N.get(t);i?i.setValue(e):Z(sr(new Error("Cannot find variable"),{additional:{name:t}}))},execAnyActions:et});mt.forEach((e=>t.createTimer(e)))}const gt=function t(e){const i={json:{},path:[],templateContext:{},logError(t){t.additional=t.additional||{},t.additional.path=i.path.join("/"),Z(t)},execAnyActions(t){return et(t,{componentContext:i,processUrls:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).processUrls})},getDerivedFromVars(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return il(e);const r=Nd(N,i),s=wd(e,t);return s.vars.length?ir(s.vars.map((t=>r.get(t)||ct(t))).filter(mr),(()=>s.applyVars(r,n))):s.hasExpression?il(s.applyVars(r)):il(e)}(i.logError,t,Nd(i.variables,e),n)},getJsonWithVars(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return G(i.logError,t,Nd(i.variables,e),n)},produceChildContext(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t(i);let s=e,o=i.templateContext;const{templateContext:a,json:l}=W(s,o);return r.json=l,r.templateContext=a,r.origJson=e,void 0!==n.path&&r.path.push(String(n.path)),e.type&&!n.isRootState&&r.path.push(e.type),r.variables=Nd(i.variables,n.variables),n.tooltips&&(r.tooltips=n.tooltips),n.fake&&(r.fakeElement=!0),n.isRootState&&(r.isRootState=!0),r},getVariable(t,e){const n=(i.variables||N).get(t);if(n){const r=n.getType();if(r!==e)return void i.logError(sr(new Error('Variable should have type "'.concat(e,'"')),{additional:{name:t,foundType:r}}))}return n}};return e?(i.path=e.path.slice(),e.fakeElement&&(i.fakeElement=!0)):(i.json={type:"root"},i.isRootState=!0),i}();let yt;return hn((()=>{Bd++,1===Bd&&(window.addEventListener("keydown",Vd),window.addEventListener("pointerdown",zd)),(()=>{var t;const e=null===(t=null==p?void 0:p.card)||void 0===t?void 0:t.variable_triggers;Array.isArray(e)&&e.forEach((t=>{let e=!1;if("string"!=typeof t.condition)return void Z(sr(new Error("variable_trigger has a condition that is not a string"),{additional:{condition:t.condition}}));const i=t.mode||"on_condition";if("on_variable"===i||"on_condition"===i)try{const n=vl(t.condition,{startRule:"JsonStringContents"}),r=Tl(n);if(!r.length)return void Z(sr(new Error("variable_trigger must have variables in the condition"),{additional:{condition:t.condition}}));ir(r.map((t=>N.get(t)||ct(t))),(()=>{const t=bd(N,n);return t.warnings.forEach(Z),t.result})).subscribe((n=>{"error"!==n.type?(n.value&&("on_variable"===i||"on_condition"===i&&!1===e)&&t.actions.forEach((t=>{const e=G(Z,t);e.log_id&&tt(e)})),e=Boolean(n.value)):Z(sr(new Error("variable_trigger condition execution error"),{additional:{message:n.value}}))}))}catch(e){Z(sr(new Error("Unable to parse variable_trigger"),{additional:{condition:t.condition}}))}else Z(sr(new Error("variable_trigger has an unsupported mode"),{additional:{mode:i}}))}))})()})),pn((()=>{Bd--,Bd||(window.removeEventListener("keydown",Vd),window.removeEventListener("pointerdown",zd)),U&&U.destroy(),q.forEach((t=>{t.timeoutId&&(clearTimeout(t.timeoutId),t.timeoutId=null)}))})),t.$$set=t=>{"id"in t&&i(11,h=t.id),"json"in t&&i(9,p=t.json),"platform"in t&&i(12,u=t.platform),"theme"in t&&i(10,f=t.theme),"globalVariablesController"in t&&i(13,m=t.globalVariablesController),"mix"in t&&i(0,g=t.mix),"customization"in t&&i(14,y=t.customization),"builtinProtocols"in t&&i(15,v=t.builtinProtocols),"extensions"in t&&i(16,b=t.extensions),"onError"in t&&i(17,_=t.onError),"onStat"in t&&i(18,x=t.onStat),"onCustomAction"in t&&i(19,k=t.onCustomAction),"onComponent"in t&&i(20,w=t.onComponent),"typefaceProvider"in t&&i(21,C=t.typefaceProvider),"fetchInit"in t&&i(22,E=t.fetchInit),"tooltipRoot"in t&&i(23,S=t.tooltipRoot),"customComponents"in t&&i(24,$=t.customComponents),"direction"in t&&i(25,M=t.direction)},t.$$.update=()=>{if(1024&t.$$.dirty[0]|8&t.$$.dirty[1]&&("light"===f||"dark"===f?i(33,D=f):"system"===f?"undefined"!=typeof matchMedia?(T||(i(34,T=matchMedia("(prefers-color-scheme: dark)")),T.addListener(A)),i(33,D=T.matches?"dark":"light")):i(33,D="light"):Z(sr(new Error("Unsupported theme")))),4&t.$$.dirty[1]&&D&&ft&&ft[D].forEach((t=>{const e=N.get(t.name);e&&e.setValue(t.color)})),512&t.$$.dirty[0]){i(1,L=!1);const t=function(t){if(!t)return sr(new Error("Missing object"));const e=t.card,i=t.templates||{};if(!e)return sr(new Error("Missing card"));if(!e.states||!e.states.length)return sr(new Error("Missing states"));for(const t in i)if(i.hasOwnProperty(t)&&t in Va)return sr(new Error("Template name collision"),{additional:{templateName:t}});for(let t=0;t<e.states.length;++t){if(!e.states[t].div)return sr(new Error("Missing state div"),{additional:{stateId:e.states[t].state_id}});if("number"!=typeof e.states[t].state_id)return sr(new Error("Missing state_id"),{additional:{index:t}})}return null}(p);t&&(i(1,L=!0),Z(t))}if(512&t.$$.dirty[0]&&(n=p.templates||{}),512&t.$$.dirty[0]|1&t.$$.dirty[1]&&(null===i(31,l=null==p?void 0:p.card)||void 0===l?void 0:l.variables)&&Array.isArray(p.card.variables)&&p.card.variables!==ut&&p.card.variables.forEach((t=>{t&&t.name&&!z.has(t.name)&&pt(t)})),512&t.$$.dirty[0]|2&t.$$.dirty[1]&&i(36,r=null===i(32,d=null==p?void 0:p.card)||void 0===d?void 0:d.states),6&t.$$.dirty[0]|48&t.$$.dirty[1]&&r&&!L&&!O){const t={type:"state",id:"root",width:{type:"match_parent"},height:{type:"match_parent"},states:r.map((t=>({state_id:t.state_id.toString(),div:t.div})))};i(4,yt=gt.produceChildContext(t,{tooltips:q,isRootState:!0}))}},[g,L,O,J,yt,s,o,I,P,p,f,h,u,m,y,v,b,_,x,k,w,C,E,S,$,M,function(t){i(10,f=t)},function(){return new Map},function(){return new Map},function(t){i(9,p=t)},function(t){tt(G(Z,t))},l,d,D,T,q,r]}const Hd=class extends Qn{constructor(t){super(),Xn(this,t,Ud,Od,xi,{id:11,json:9,platform:12,theme:10,globalVariablesController:13,mix:0,customization:14,builtinProtocols:15,extensions:16,onError:17,onStat:18,onCustomAction:19,onComponent:20,typefaceProvider:21,fetchInit:22,tooltipRoot:23,customComponents:24,direction:25,setTheme:26,getDebugVariables:27,getDebugAllVariables:28,setData:29,execAction:30},null,[-1,-1,-1,-1])}get setTheme(){return this.$$.ctx[26]}get getDebugVariables(){return this.$$.ctx[27]}get getDebugAllVariables(){return this.$$.ctx[28]}get setData(){return this.$$.ctx[29]}get execAction(){return this.$$.ctx[30]}};class qd{constructor(t){var e,i,n;e=this,n={},i=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(i="sizeHistory"),i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,this.widthVariableName=t.width_variable_name,this.heightVariableName=t.height_variable_name}setVariable(t,e){if(!this.context)return!1;if(t){const i=this.context.variables.get(t);if(i&&"integer"===i.getType()){if(e=Math.round(e),this.sizeHistory[t]||(this.sizeHistory[t]=new Set),!this.sizeHistory[t].has(e))return i.setValue(e),this.sizeHistory[t].add(e),!0}else{const e=new Error("Missing variable");e.level="error",e.additional={variableName:t},this.context.logError(e)}}return!1}recalcProps(){if(!this.node||!this.context)return!1;const t=this.node.getBoundingClientRect(),e=this.setVariable(this.widthVariableName,t.width),i=this.setVariable(this.heightVariableName,t.height);return e||i}mountView(t,e){var i;this.node=t,this.context=e,this.resizeObserver||"undefined"==typeof ResizeObserver||(this.resizeObserver=new ResizeObserver((async()=>{let t=0;for(;this.recalcProps();){if(++t>8){const t=new Error("Recursive layout in size_provider");t.level="warn",t.additional={widthVariableName:this.widthVariableName,heightVariableName:this.heightVariableName},e.logError(t);break}await wn()}this.sizeHistory={}}))),null===(i=this.resizeObserver)||void 0===i||i.observe(t),this.recalcProps()}unmountView(t,e){var i;null===(i=this.resizeObserver)||void 0===i||i.disconnect(),this.resizeObserver=void 0}}function Gd(t){return t instanceof HTMLElement}function Zd(t){return class{constructor(t){this.params=t}loadData(){if(this.params.lottie_json)return Promise.resolve(this.params.lottie_json);const t=this.params.lottie_url;return t?fetch(t).then((t=>{if(!t.ok)throw new Error("Response is not ok");return t.json()})):Promise.reject("Missing data")}mountView(e,i){if(!this.params.lottie_url&&!this.params.lottie_json)return;const n=Array.from(e.children).filter(Gd);n.forEach((t=>{t.style.display="none"})),e.setAttribute("data-lottie","true");const r=this.wrapper=document.createElement("div");this.wrapper.style.width="100%",this.wrapper.style.height="100%",e.appendChild(this.wrapper);const s=Number(this.params.repeat_count||-1),o=()=>{var t,r;null===(t=this.animItem)||void 0===t||t.destroy(),n.forEach((t=>{t.style.display=""})),e.removeAttribute("data-lottie"),this.wrapper&&(null===(r=this.wrapper.parentNode)||void 0===r||r.removeChild(this.wrapper),this.wrapper=void 0);const s=new Error("Failed to load lottie animation");s.level="error",s.additional={url:this.params.lottie_url},i.logError(s)};this.loadData().then((e=>{const i=this.animItem=t({container:r,animationData:e,renderer:"svg",loop:!0});if(this.animItem.addEventListener("data_failed",o),"reverse"===this.params.repeat_mode||-1!==s){let t=1,e=0;i.addEventListener("loopComplete",(()=>{++e,-1!==s&&e===s?(i.stop(),i.goToAndStop(i.totalFrames,!0)):("reverse"===this.params.repeat_mode&&(t*=-1,i.setDirection(t)),i.goToAndPlay(1===t?0:i.totalFrames,!0))}))}})).catch(o)}unmountView(t,e){var i,n;null===(i=this.animItem)||void 0===i||i.destroy(),this.wrapper&&(null===(n=this.wrapper.parentNode)||void 0===n||n.removeChild(this.wrapper),this.wrapper=void 0),t.removeAttribute("data-lottie")}}}const Yd=["target","hydrate"];function Wd(t){const{target:e,hydrate:i}=t,n=function(t,e){if(null==t)return{};var i,n,r=function(t,e){if(null==t)return{};var i,n,r={},s=Object.keys(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)i=s[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}(t,Yd),r=new Hd({target:e,props:n,hydrate:i});return{$destroy(){r.$destroy()},execAction(t){r.execAction(t)},setTheme(t){r.setTheme(t)},setData(t){r.setData(t)}}}var Kd=hi.M,Xd=hi.Os,Jd=hi.sY,Qd=__webpack_require__(3379),th=__webpack_require__.n(Qd),eh=__webpack_require__(7795),ih=__webpack_require__.n(eh),nh=__webpack_require__(569),rh=__webpack_require__.n(nh),sh=__webpack_require__(3565),oh=__webpack_require__.n(sh),ah=__webpack_require__(9216),lh=__webpack_require__.n(ah),ch=__webpack_require__(4589),dh=__webpack_require__.n(ch),hh=__webpack_require__(3516),ph={};ph.styleTagTransform=dh(),ph.setAttributes=oh(),ph.insert=rh().bind(null,"head"),ph.domAPI=ih(),ph.insertStyleElement=lh(),th()(hh.Z,ph),hh.Z&&hh.Z.locals&&hh.Z.locals;var uh=__webpack_require__(3143);const fh=t=>t?{left:"gallery__arrow_left_standalone",right:"gallery__arrow_right_standalone"}:{left:"gallery__arrow_left",right:"gallery__arrow_right"};var mh=__webpack_require__(8718),gh={};gh.styleTagTransform=dh(),gh.setAttributes=oh(),gh.insert=rh().bind(null,"head"),gh.domAPI=ih(),gh.insertStyleElement=lh(),th()(mh.Z,gh),mh.Z&&mh.Z.locals&&mh.Z.locals;const yh={light:[{name:"palette.text.primary",color:"#cc000000"},{name:"palette.text.secondary",color:"#919cb5"},{name:"palette.applied.separator",color:"#14000000"}],dark:[{name:"palette.text.primary",color:"#ffffff"},{name:"palette.text.secondary",color:"#919cb5"},{name:"palette.applied.separator",color:"#14ffffff"}]};function vh(t){(0,x.qOq)(t,"svelte-1crunj8",".div-card.svelte-1crunj8{animation:svelte-1crunj8-appear 400ms ease-out}.div-card_clickable.svelte-1crunj8{cursor:pointer}@keyframes svelte-1crunj8-appear{0%{opacity:0}100%{opacity:1}}.div-card_theme_dark .gallery__arrow_left{background-color:#161617}.div-card_theme_dark .gallery__arrow_right{background-color:#161617}.div-card_theme_dark .gallery__arrow_left::before{background-image:url(https://yastatic.net/s3/home/alice_popup/Left_Arrow_Dark.svg)}.div-card_theme_dark .gallery__arrow_right::before{background-image:url(https://yastatic.net/s3/home/alice_popup/Right_Arrow_Dark.svg)}")}function bh(t){let e,i,n,r,s;return{c(){e=(0,x.bGB)("div"),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0}),(0,x.pIy)(e).forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class",i="div-card div-card_theme_"+t[1]+" svelte-1crunj8"),(0,x.VHj)(e,"div-card_clickable",t[3])},m(i,o){(0,x.ZMF)(i,e,o),t[12](e),r||(s=[(0,x.TVh)(n=je.x.call(null,e)),(0,x.oLt)(e,"horizontalmovechange",t[13])],r=!0)},p(t,n){2&n[0]&&i!==(i="div-card div-card_theme_"+t[1]+" svelte-1crunj8")&&(0,x.Ljt)(e,"class",i),10&n[0]&&(0,x.VHj)(e,"div-card_clickable",t[3])},i:x.ZTd,o:x.ZTd,d(i){i&&(0,x.ogt)(e),t[12](null),r=!1,(0,x.j7q)(s)}}}function _h(t,e,i){var n=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(t,e,i)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,h=(t,e)=>{for(var i in e||(e={}))a.call(e,i)&&d(t,i,e[i]);if(o)for(var i of o(e))c.call(e,i)&&d(t,i,e[i]);return t},p=(t,e)=>r(t,s(e));let{onHorizontalMoveChange:u}=e,{id:f}=e,{json:m}=e,{onDivClick:g}=e,{outputBus:y}=e,{theme:v}=e,{statName:b}=e,{requestId:_}=e,{onRender:k=l.Z}=e,{isMobile:w=!1}=e;const{isStandaloneBuild:C,fullscreenImageModal:E}=(0,M.Mn)();let S,$=!1;const I=()=>{i(3,$=!0)},D=t=>{const e=new URL(t),i=e.searchParams.get("directives");if(("dialog-action:"===e.protocol||"dialog:"===e.protocol)&&i){const t=JSON.parse(decodeURIComponent(i));return{title:t[0].payload.title||t[0].payload.text,directives:t}}const n=e.searchParams.get("query");if("dialog:"===e.protocol&&n&&/^dialog:\/\/text_command\b/.test(t))return{title:n};throw Error("unknown divcard url type "+t)},T=t=>{try{const e=D(t.url);g(e)}catch(t){y.emit("errorThrown",t)}},P=({action:t,type:e})=>{const{log_id:i,url:n}=t;let r;if(n)try{const t=D(n);t.title&&(r={title:t.title,requestId:_||""})}catch(t){return void y.emit("errorThrown",t)}const s=i.replace(/\//g,"_");switch(e){case"click":y.emit("stat",{path:`${b}.${s}`,eventType:"click",customParams:r});break;case"visible":y.emit("stat",{path:`${b}.${s}`,eventType:"show",customParams:r})}},[A,j]=["platformName","standalone_"+(w?"mobile":"desktop")],L=Xd(A,"string",j),O=Kd();return O.setVariable(L),t.$$set=t=>{"onHorizontalMoveChange"in t&&i(0,u=t.onHorizontalMoveChange),"id"in t&&i(5,f=t.id),"json"in t&&i(4,m=t.json),"onDivClick"in t&&i(6,g=t.onDivClick),"outputBus"in t&&i(7,y=t.outputBus),"theme"in t&&i(1,v=t.theme),"statName"in t&&i(8,b=t.statName),"requestId"in t&&i(9,_=t.requestId),"onRender"in t&&i(10,k=t.onRender),"isMobile"in t&&i(11,w=t.isMobile)},t.$$.update=()=>{1718&t.$$.dirty[0]&&S&&(i(2,S.innerHTML="",S),i(4,m.palette=m.palette||yh,m),Jd({id:f,target:S,onCustomAction:T,onStat:P,json:m.palette?m:p(h({},m),{palette:yh}),theme:v,extensions:new Map([["fullscreen_image",(0,uh.U)(E,I)]]),customization:{galleryLeftClass:fh(C).left,galleryRightClass:fh(C).right},globalVariablesController:O,onError:({error:t})=>{const e=m.card.log_id;t.message=`[DivError]: ${t.message}`,t.additional=t.additional||{},t.additional.requestId=_,t.additional.cardId=e,y.emit("errorThrown",t,"warn")}}),k())},[u,v,S,$,m,f,g,y,b,_,k,w,function(t){x.VnY[t?"unshift":"push"]((()=>{S=t,i(2,S),i(4,m),i(5,f),i(22,p),i(21,h),i(1,v),i(9,_),i(7,y),i(10,k)}))},({detail:{value:t}})=>{u(t)}]}class xh extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,_h,bh,x.AqN,{onHorizontalMoveChange:0,id:5,json:4,onDivClick:6,outputBus:7,theme:1,statName:8,requestId:9,onRender:10,isMobile:11},vh,[-1,-1])}}const kh=xh;function wh(t){(0,x.qOq)(t,"svelte-xgf1ry",".message-button.svelte-xgf1ry{border:none;margin:12px 0 0;padding:9px 13px 11px;border-radius:8px;background-color:var(--white-color);cursor:pointer;font-size:14px;font-weight:500;line-height:16px;color:var(--black-color)}.message-button.svelte-xgf1ry:hover{color:var(--brand-color)}")}function Ch(t){let e,i,n,r,s=t[0].title+"";return{c(){e=(0,x.bGB)("button"),i=(0,x.fLW)(s),this.h()},l(t){e=(0,x.vT0)(t,"BUTTON",{class:!0});var n=(0,x.pIy)(e);i=(0,x.Bno)(n,s),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","message-button svelte-xgf1ry")},m(s,o){(0,x.ZMF)(s,e,o),(0,x.ztY)(e,i),n||(r=[(0,x.oLt)(e,"click",(0,x.XET)(t[1])),(0,x.oLt)(e,"click",t[3])],n=!0)},p(t,[e]){1&e&&s!==(s=t[0].title+"")&&(0,x.rTO)(i,s)},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e),n=!1,(0,x.j7q)(r)}}}function Eh(t,e,i){let{button:n}=e,{requestId:r}=e;const{outputBus:s,aliceKit:o}=(0,k.fw)(M.f1);return t.$$set=t=>{"button"in t&&i(0,n=t.button),"requestId"in t&&i(2,r=t.requestId)},[n,()=>{o.executeDirectives(n.directives||[],{isUserEvent:!0}),s.emit("stat",{path:"message_button",eventType:"click",customParams:{title:n.title||"",requestId:r||""}})},r,function(e){x.cKT.call(this,t,e)}]}class Sh extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Eh,Ch,x.N8,{button:0,requestId:2},wh)}}const $h=Sh,Mh=async(t,e)=>{try{return(t?await Promise.all([__webpack_require__.e(926),__webpack_require__.e(780)]).then(__webpack_require__.bind(__webpack_require__,1494)):await Promise.all([__webpack_require__.e(433),__webpack_require__.e(319)]).then(__webpack_require__.bind(__webpack_require__,1829))).default}catch(t){return e.emit("errorThrown",Error("failed to load rich-json bundle")),null}};var Ih=__webpack_require__(6517);function Dh(t){(0,x.qOq)(t,"svelte-1psfj1",".message-bubble_container.svelte-1psfj1.svelte-1psfj1{position:relative;display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content;max-width:100%}.message-bubble_container.message-bubble_container_from-user.svelte-1psfj1.svelte-1psfj1{align-self:end}.message-bubble.svelte-1psfj1.svelte-1psfj1{font-style:normal;font-weight:400;font-size:14px;line-height:1.5;box-sizing:border-box;color:rgba(0, 0, 0, 0.8);background:#f2f3f5;border-radius:2px 16px 16px 16px;padding:12px 16px;white-space:normal;-webkit-user-select:text;-moz-user-select:text;user-select:text;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;flex-shrink:0}.message-bubble_theme_dark.svelte-1psfj1.svelte-1psfj1{color:#fff;background:rgba(255, 255, 255, 0.06)}.message-bubble_container_standalone.svelte-1psfj1 .message-bubble.svelte-1psfj1{position:relative;overflow:visible;border-radius:24px;padding:16px 24px;background:var(--alisa-bubble-chat-color);color:var(--text-bubble-color)}.message-bubble_container_standalone.svelte-1psfj1 .message-bubble.message-bubble_highlighted.svelte-1psfj1{background-color:var(--alisa-button-color)}.message-bubble_container_standalone.svelte-1psfj1:not(.message-bubble_container_from-user) .message-bubble.message-bubble_external-dialog.svelte-1psfj1{background-color:var(--alisa-bubble-blue-color)}.message-bubble_container_standalone.message-bubble_container_mobile.svelte-1psfj1 .message-bubble.svelte-1psfj1{padding:12px 16px;border-radius:20px}.message-bubble_container_standalone.svelte-1psfj1:not(.message-bubble_container_mobile) .message-bubble.svelte-1psfj1{font-size:18px;line-height:26px}.message-bubble_container_standalone.svelte-1psfj1 .message-bubble.svelte-1psfj1:first-child{border-top-left-radius:4px}.message-bubble_container_divJson.svelte-1psfj1.svelte-1psfj1{width:100%}.message-bubble_container_standalone.message-bubble_container_divJson.svelte-1psfj1 .message-bubble.svelte-1psfj1,.message-bubble_container_standalone.message-bubble_container_richJson.svelte-1psfj1 .message-bubble.svelte-1psfj1,.message-bubble_container_standalone.message-bubble_container_promo.svelte-1psfj1 .message-bubble.svelte-1psfj1{padding:24px}.message-bubble_container_from-user.svelte-1psfj1.svelte-1psfj1{margin-left:32px;max-width:calc(100% - 32px)}.message-bubble_container_standalone.message-bubble_container_from-user.svelte-1psfj1.svelte-1psfj1{margin-left:48px}.message-bubble_container_standalone.message-bubble_container_from-user.message-bubble_container_mobile.svelte-1psfj1.svelte-1psfj1{margin-left:16px}.message-bubble_container_from-user.svelte-1psfj1 .message-bubble.svelte-1psfj1{font-weight:500;white-space:pre-line;color:#fff;background:#7137ff;border-radius:12px 2px 12px 12px;align-self:flex-end}.message-bubble_container_standalone.message-bubble_container_from-user.svelte-1psfj1 .message-bubble.svelte-1psfj1{font-weight:400;border-radius:24px 4px 24px 24px;background:var(--user-bubble-chat-color);color:var(--text-bubble-color)}.message-bubble_container_standalone.message-bubble_container_from-user.svelte-1psfj1 .message-bubble.message-bubble_highlighted.svelte-1psfj1{background-color:var(--border-color)}.message-bubble_container_standalone.message-bubble_container_from-user.message-bubble_container_mobile.svelte-1psfj1 .message-bubble.svelte-1psfj1{border-radius:20px 4px 20px 20px}.message-bubble_container_fullscreen.svelte-1psfj1.svelte-1psfj1,.message-bubble_container_standalone.svelte-1psfj1 .message-bubble.svelte-1psfj1{font-size:16px}.message-bubble_container_fullscreen.svelte-1psfj1.svelte-1psfj1:not(.message-bubble_container_from-user){margin-right:32px;max-width:calc(100% - 32px)}.message-bubble_container_standalone.svelte-1psfj1.svelte-1psfj1:not(.message-bubble_container_from-user){margin-right:48px;max-width:calc(100% - 48px)}.message-bubble_container_standalone.message-bubble_container_mobile.svelte-1psfj1.svelte-1psfj1:not(.message-bubble_container_from-user){margin-right:16px;max-width:calc(100% - 16px)}.message-bubble_container_standalone.message-bubble_onboarding.svelte-1psfj1.svelte-1psfj1,.message-bubble_container_standalone.message-bubble_onboarding.message-bubble_container_mobile.svelte-1psfj1.svelte-1psfj1{margin:0;max-width:100%}.message-bubble__buttons.svelte-1psfj1.svelte-1psfj1{display:flex;gap:10px}.message-bubble__status.svelte-1psfj1.svelte-1psfj1{color:#929db4;margin-top:10px}.message-bubble_container_standalone.svelte-1psfj1 .message-bubble .message-bubble__status.svelte-1psfj1{color:var(--text-secondary-color)}.message-bubble_container_standalone.message-bubble_container_promo.svelte-1psfj1.svelte-1psfj1{width:calc(100% - 48px)}.message-bubble_container_standalone.message-bubble_container_promo.svelte-1psfj1 .message-bubble.svelte-1psfj1{width:100%;background:var(--alisa-bubble-promo-color);overflow:hidden}.message-bubble_container_standalone.message-bubble_hide_borders.svelte-1psfj1.svelte-1psfj1,.message-bubble_container_standalone.message-bubble_hide_borders.svelte-1psfj1 .message-bubble.svelte-1psfj1,.message-bubble_hide_borders.svelte-1psfj1 .message-bubble.svelte-1psfj1{width:-moz-fit-content;width:fit-content;margin:0;padding:0;background:none;border:none;overflow:visible}.message-bubble_container_richJson.svelte-1psfj1 .message-bubble.svelte-1psfj1,.message-bubble_container_standalone.message-bubble_container_richJson.svelte-1psfj1 .message-bubble.svelte-1psfj1,.message-bubble_container_mobile.message-bubble_hide_borders.svelte-1psfj1.svelte-1psfj1,.message-bubble_container_mobile.message-bubble_hide_borders.svelte-1psfj1 .message-bubble.svelte-1psfj1,.message-bubble_container_dialog.message-bubble_hide_borders.svelte-1psfj1.svelte-1psfj1,.message-bubble_container_dialog.message-bubble_hide_borders.svelte-1psfj1 .message-bubble.svelte-1psfj1{width:100%}.message-bubble_container_standalone.message-bubble_container_mobile.message-bubble_container_promo.svelte-1psfj1.svelte-1psfj1{width:calc(100% - 16px)}.message-bubble_container_richJson.svelte-1psfj1 .message-bubble.svelte-1psfj1{margin-top:2px}.message-bubble_container_mobile.message-bubble_container_richJson.svelte-1psfj1.svelte-1psfj1{min-width:calc(100% + 50px)}.message-bubble_container_mobile.message-bubble_container_richJson.svelte-1psfj1 .message-bubble.svelte-1psfj1{margin-top:4px;margin-left:-25px;margin-right:-25px}")}function Th(t,e,i){const n=t.slice();return n[26]=e[i],n}function Ph(t){let e,i;return e=new t[18]({props:{outputBus:t[7]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};128&i&&(n.outputBus=t[7]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Ah(t){let e,i,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Bh,then:Fh,catch:Oh,value:29,blocks:[,,,]};return(0,x.CR_)(i=Mh(t[8],t[7]),r),{c(){e=(0,x.cSb)(),r.block.c()},l(t){e=(0,x.cSb)(),r.block.l(t)},m(t,i){(0,x.ZMF)(t,e,i),r.block.m(t,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(e,n){t=e,r.ctx=t,384&n&&i!==(i=Mh(t[8],t[7]))&&(0,x.CR_)(i,r)||(0,x.xfz)(r,t,n)},i(t){n||((0,x.Ui)(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1){const e=r.blocks[t];(0,x.etI)(e)}n=!1},d(t){t&&(0,x.ogt)(e),r.block.d(t),r.token=null,r=null}}}function jh(t){let e,i;return e=new kh({props:{theme:t[3],onHorizontalMoveChange:t[10],id:`divCard_${t[0].id}`,statName:"div_card",requestId:t[11],json:t[0].divJson,isMobile:t[8],onDivClick:t[9],outputBus:t[7],onRender:t[20]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};8&i&&(n.theme=t[3]),1024&i&&(n.onHorizontalMoveChange=t[10]),1&i&&(n.id=`divCard_${t[0].id}`),2048&i&&(n.requestId=t[11]),1&i&&(n.json=t[0].divJson),256&i&&(n.isMobile=t[8]),512&i&&(n.onDivClick=t[9]),128&i&&(n.outputBus=t[7]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Lh(t){let e,i,n,r;var s=t[15];function o(t,e){return{props:{useMarkdown:t[6]&&!t[1],bubble:t[0],markdown:t[5]}}}s&&(e=(0,x.vV4)(s,o(t)));let a=t[0].buttons&&t[0].buttons.length&&Vh(t);return{c(){e&&(0,x.YCL)(e.$$.fragment),i=(0,x.DhX)(),a&&a.c(),n=(0,x.cSb)()},l(t){e&&(0,x.wOw)(e.$$.fragment,t),i=(0,x.qzd)(t),a&&a.l(t),n=(0,x.cSb)()},m(t,s){e&&(0,x.yef)(e,t,s),(0,x.ZMF)(t,i,s),a&&a.m(t,s),(0,x.ZMF)(t,n,s),r=!0},p(t,r){if(32768&r&&s!==(s=t[15])){if(e){(0,x.dvw)();const t=e;(0,x.etI)(t.$$.fragment,1,0,(()=>{(0,x.vpE)(t,1)})),(0,x.gbL)()}s?(e=(0,x.vV4)(s,o(t)),(0,x.YCL)(e.$$.fragment),(0,x.Ui)(e.$$.fragment,1),(0,x.yef)(e,i.parentNode,i)):e=null}else if(s){const i={};66&r&&(i.useMarkdown=t[6]&&!t[1]),1&r&&(i.bubble=t[0]),32&r&&(i.markdown=t[5]),e.$set(i)}t[0].buttons&&t[0].buttons.length?a?(a.p(t,r),1&r&&(0,x.Ui)(a,1)):(a=Vh(t),a.c(),(0,x.Ui)(a,1),a.m(n.parentNode,n)):a&&((0,x.dvw)(),(0,x.etI)(a,1,1,(()=>{a=null})),(0,x.gbL)())},i(t){r||(e&&(0,x.Ui)(e.$$.fragment,t),(0,x.Ui)(a),r=!0)},o(t){e&&(0,x.etI)(e.$$.fragment,t),(0,x.etI)(a),r=!1},d(t){t&&((0,x.ogt)(i),(0,x.ogt)(n)),e&&(0,x.vpE)(e,t),a&&a.d(t)}}}function Oh(t){return{c:x.ZTd,l:x.ZTd,m:x.ZTd,p:x.ZTd,i:x.ZTd,o:x.ZTd,d:x.ZTd}}function Fh(t){let e,i,n;var r=t[29];function s(t,e){return{props:{theme:t[3],onHorizontalMoveChange:t[10],json:t[0].richJson,requestId:t[11]}}}return r&&(e=(0,x.vV4)(r,s(t))),{c(){e&&(0,x.YCL)(e.$$.fragment),i=(0,x.cSb)()},l(t){e&&(0,x.wOw)(e.$$.fragment,t),i=(0,x.cSb)()},m(t,r){e&&(0,x.yef)(e,t,r),(0,x.ZMF)(t,i,r),n=!0},p(t,n){if(384&n&&r!==(r=t[29])){if(e){(0,x.dvw)();const t=e;(0,x.etI)(t.$$.fragment,1,0,(()=>{(0,x.vpE)(t,1)})),(0,x.gbL)()}r?(e=(0,x.vV4)(r,s(t)),(0,x.YCL)(e.$$.fragment),(0,x.Ui)(e.$$.fragment,1),(0,x.yef)(e,i.parentNode,i)):e=null}else if(r){const i={};8&n&&(i.theme=t[3]),1024&n&&(i.onHorizontalMoveChange=t[10]),1&n&&(i.json=t[0].richJson),2048&n&&(i.requestId=t[11]),e.$set(i)}},i(t){n||(e&&(0,x.Ui)(e.$$.fragment,t),n=!0)},o(t){e&&(0,x.etI)(e.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(i),e&&(0,x.vpE)(e,t)}}}function Bh(t){return{c:x.ZTd,l:x.ZTd,m:x.ZTd,p:x.ZTd,i:x.ZTd,o:x.ZTd,d:x.ZTd}}function Vh(t){let e,i,n=(0,x.NXn)(t[0].buttons),r=[];for(let e=0;e<n.length;e+=1)r[e]=zh(Th(t,n,e));const s=t=>(0,x.etI)(r[t],1,1,(()=>{r[t]=null}));return{c(){e=(0,x.bGB)("div");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var i=(0,x.pIy)(e);for(let t=0;t<r.length;t+=1)r[t].l(i);i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","message-bubble__buttons svelte-1psfj1")},m(t,n){(0,x.ZMF)(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null);i=!0},p(t,i){if(2049&i){let o;for(n=(0,x.NXn)(t[0].buttons),o=0;o<n.length;o+=1){const s=Th(t,n,o);r[o]?(r[o].p(s,i),(0,x.Ui)(r[o],1)):(r[o]=zh(s),r[o].c(),(0,x.Ui)(r[o],1),r[o].m(e,null))}for((0,x.dvw)(),o=n.length;o<r.length;o+=1)s(o);(0,x.gbL)()}},i(t){if(!i){for(let t=0;t<n.length;t+=1)(0,x.Ui)(r[t]);i=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)(0,x.etI)(r[t]);i=!1},d(t){t&&(0,x.ogt)(e),(0,x.RMB)(r,t)}}}function zh(t){let e,i;return e=new $h({props:{requestId:t[11],button:t[26]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};2048&i&&(n.requestId=t[11]),1&i&&(n.button=t[26]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Nh(t){let e,i;return{c(){e=(0,x.bGB)("div"),i=(0,x.fLW)(t[4]),this.h()},l(n){e=(0,x.vT0)(n,"DIV",{class:!0});var r=(0,x.pIy)(e);i=(0,x.Bno)(r,t[4]),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","message-bubble__status svelte-1psfj1")},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i)},p(t,e){16&e&&(0,x.rTO)(i,t[4])},d(t){t&&(0,x.ogt)(e)}}}function Rh(t){let e,i,n,r,s,o,a,l,c,d,h;const p=[Lh,jh,Ah,Ph],u=[];function f(t,e){return"text"===t[0].type&&t[0].text?0:"divJson"===t[0].type&&t[0].divJson?1:"richJson"===t[0].type?2:"promo"===t[0].type?3:-1}~(n=f(t))&&(r=u[n]=p[n](t));let m=t[4]&&Nh(t);return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),r&&r.c(),s=(0,x.DhX)(),m&&m.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);i=(0,x.vT0)(n,"DIV",{class:!0});var o=(0,x.pIy)(i);r&&r.l(o),s=(0,x.qzd)(o),m&&m.l(o),o.forEach(x.ogt),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class",o="message-bubble message-bubble_theme_"+t[3]+" svelte-1psfj1"),(0,x.VHj)(i,"animation-bubble",t[2]),(0,x.VHj)(i,"message-bubble_highlighted",Uh),(0,x.VHj)(i,"message-bubble_external-dialog",t[12]),(0,x.Ljt)(e,"class",a="message-bubble_container message-bubble_container_"+t[0].type+" svelte-1psfj1"),(0,x.VHj)(e,"message-bubble_container_fullscreen",t[16]),(0,x.VHj)(e,"message-bubble_container_dialog",t[13]),(0,x.VHj)(e,"message-bubble_container_standalone",t[17]),(0,x.VHj)(e,"message-bubble_container_from-user",t[1]),(0,x.VHj)(e,"message-bubble_container_mobile",t[8]),(0,x.VHj)(e,"message-bubble_onboarding",t[14]),(0,x.VHj)(e,"message-bubble_hide_borders",t[19])},m(r,o){(0,x.ZMF)(r,e,o),(0,x.ztY)(e,i),~n&&u[n].m(i,null),(0,x.ztY)(i,s),m&&m.m(i,null),c=!0,d||(h=[(0,x.TVh)(l=je.x.call(null,e)),(0,x.oLt)(e,"horizontalmovechange",t[23])],d=!0)},p(t,[l]){let d=n;n=f(t),n===d?~n&&u[n].p(t,l):(r&&((0,x.dvw)(),(0,x.etI)(u[d],1,1,(()=>{u[d]=null})),(0,x.gbL)()),~n?(r=u[n],r?r.p(t,l):(r=u[n]=p[n](t),r.c()),(0,x.Ui)(r,1),r.m(i,s)):r=null),t[4]?m?m.p(t,l):(m=Nh(t),m.c(),m.m(i,null)):m&&(m.d(1),m=null),(!c||8&l&&o!==(o="message-bubble message-bubble_theme_"+t[3]+" svelte-1psfj1"))&&(0,x.Ljt)(i,"class",o),(!c||12&l)&&(0,x.VHj)(i,"animation-bubble",t[2]),(!c||8&l)&&(0,x.VHj)(i,"message-bubble_highlighted",Uh),(!c||4104&l)&&(0,x.VHj)(i,"message-bubble_external-dialog",t[12]),(!c||1&l&&a!==(a="message-bubble_container message-bubble_container_"+t[0].type+" svelte-1psfj1"))&&(0,x.Ljt)(e,"class",a),(!c||65537&l)&&(0,x.VHj)(e,"message-bubble_container_fullscreen",t[16]),(!c||8193&l)&&(0,x.VHj)(e,"message-bubble_container_dialog",t[13]),(!c||131073&l)&&(0,x.VHj)(e,"message-bubble_container_standalone",t[17]),(!c||3&l)&&(0,x.VHj)(e,"message-bubble_container_from-user",t[1]),(!c||257&l)&&(0,x.VHj)(e,"message-bubble_container_mobile",t[8]),(!c||16385&l)&&(0,x.VHj)(e,"message-bubble_onboarding",t[14]),(!c||524289&l)&&(0,x.VHj)(e,"message-bubble_hide_borders",t[19])},i(t){c||((0,x.Ui)(r),c=!0)},o(t){(0,x.etI)(r),c=!1},d(t){t&&(0,x.ogt)(e),~n&&u[n].d(),m&&m.d(),d=!1,(0,x.j7q)(h)}}}let Uh=!1;function Hh(t,e,i){let n,r,{bubble:s}=e,{isUserAuthor:o=!1}=e,{animated:a=!1}=e,{theme:c}=e,{phrase:d}=e,{markdown:h}=e,{useMarkdown:p=!1}=e,{outputBus:u}=e,{isMobile:f=!1}=e,{onDivClick:m=l.Z}=e,{onHorizontalMoveChange:g=l.Z}=e,{requestId:y}=e,{isExternalDialog:v=!1}=e,{isDialog:b=!1}=e,{isCurrentSession:_}=e,{isStreaming:x=!1}=e;const{isFullscreenExp:w,isStandaloneBuild:C,isAliceEnableHasBorders:E}=(0,k.fw)(M.f1),S=(0,k.fw)(Mt),$=f?ni:Ye;let I=("richJson"===s.type||E)&&s.hideBorders;return t.$$set=t=>{"bubble"in t&&i(0,s=t.bubble),"isUserAuthor"in t&&i(1,o=t.isUserAuthor),"animated"in t&&i(2,a=t.animated),"theme"in t&&i(3,c=t.theme),"phrase"in t&&i(4,d=t.phrase),"markdown"in t&&i(5,h=t.markdown),"useMarkdown"in t&&i(6,p=t.useMarkdown),"outputBus"in t&&i(7,u=t.outputBus),"isMobile"in t&&i(8,f=t.isMobile),"onDivClick"in t&&i(9,m=t.onDivClick),"onHorizontalMoveChange"in t&&i(10,g=t.onHorizontalMoveChange),"requestId"in t&&i(11,y=t.requestId),"isExternalDialog"in t&&i(12,v=t.isExternalDialog),"isDialog"in t&&i(13,b=t.isDialog),"isCurrentSession"in t&&i(21,_=t.isCurrentSession),"isStreaming"in t&&i(22,x=t.isStreaming)},t.$$.update=()=>{6303747&t.$$.dirty&&i(15,n=C&&_&&(x||(0,Ae.Uu)(s))&&!(b||v||o)?yt:ci),1&t.$$.dirty&&i(14,r="divJson"===s.type&&(0,Ih.t)(s.divJson))},[s,o,a,c,d,h,p,u,f,m,g,y,v,b,r,n,w,C,$,I,()=>{b&&S&&S.scrollToBottom()},_,x,({detail:{value:t}})=>{g(t)}]}class qh extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Hh,Rh,x.N8,{bubble:0,isUserAuthor:1,animated:2,theme:3,phrase:4,markdown:5,useMarkdown:6,outputBus:7,isMobile:8,onDivClick:9,onHorizontalMoveChange:10,requestId:11,isExternalDialog:12,isDialog:13,isCurrentSession:21,isStreaming:22},Dh)}}const Gh=qh,Zh='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none">\n  <path fill="#919CB5" d="M6.33 11.25a5.4 5.4 0 0 1-1.25-.15c-.65.49-1.54.78-2.68.87a.3.3 0 0 1-.26-.5c.39-.45.62-.96.7-1.53a4.45 4.45 0 0 1-1.5-3.31c0-2.56 2.23-4.63 5-4.63 2.75 0 5 2.07 5 4.63 0 2.55-2.25 4.62-5 4.62Zm6.34-4.63c0 3-2.34 5.45-5.36 5.9a4.9 4.9 0 0 0 4.81.3 5.2 5.2 0 0 0 2.24.64.29.29 0 0 0 .24-.47 2.76 2.76 0 0 1-.68-1.67 4.08 4.08 0 0 0-1.4-5.97c.1.41.15.84.15 1.27Z"/>\n</svg>\n';function Yh(t){(0,x.qOq)(t,"svelte-158vv3s",".message.svelte-158vv3s,.message__date.svelte-158vv3s{flex-shrink:0}.message.svelte-158vv3s{position:relative;z-index:var(--z-index);width:100%;display:flex;flex-direction:column;gap:8px}.message_mobile.svelte-158vv3s{gap:4px}.message_last.svelte-158vv3s{padding-bottom:46px}.message_offset.svelte-158vv3s{padding-bottom:40px}.message__date.svelte-158vv3s{color:#929db4;font-size:14px;padding-top:22px}.message__date_standalone.svelte-158vv3s{margin:0 auto;padding-top:30px;display:flex;align-items:center;justify-content:center;gap:4px;font-size:14px;color:var(--text-secondary-color)}.message__date_standalone.message__date_mobile.svelte-158vv3s{padding-top:4px}.message__date_fullscreen.svelte-158vv3s{font-size:16px;padding:32px 0 8px}")}function Wh(t,e,i){const n=t.slice();return n[36]=e[i],n}function Kh(t){let e,i,n,r,s,o,a=[],c=new Map,d=t[7]&&!t[20]&&Xh(t),h=(0,x.NXn)(t[24]);const p=t=>t[36].id;for(let e=0;e<h.length;e+=1){let i=Wh(t,h,e),n=p(i);c.set(n,a[e]=Jh(n,i))}let u=t[22]&&t[1]&&Qh(t);return{c(){d&&d.c(),e=(0,x.DhX)(),i=(0,x.bGB)("div");for(let t=0;t<a.length;t+=1)a[t].c();n=(0,x.DhX)(),u&&u.c(),this.h()},l(t){d&&d.l(t),e=(0,x.qzd)(t),i=(0,x.vT0)(t,"DIV",{class:!0});var r=(0,x.pIy)(i);for(let t=0;t<a.length;t+=1)a[t].l(r);n=(0,x.qzd)(r),u&&u.l(r),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","message svelte-158vv3s"),(0,x.VHj)(i,"message_mobile",t[27]),(0,x.VHj)(i,"message_last",t[26]&&t[18]&&!t[16]),(0,x.VHj)(i,"message_offset",t[26]&&t[18]&&t[16]),(0,x.czc)(i,"--z-index",t[21].params.showMore?t[19]+4:t[19])},m(c,h){d&&d.m(c,h),(0,x.ZMF)(c,e,h),(0,x.ZMF)(c,i,h);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(i,null);(0,x.ztY)(i,n),u&&u.m(i,null),t[34](i),r=!0,s||(o=[(0,x.oLt)(i,"click",(0,x.XET)(t[30])),(0,x.oLt)(i,"mouseenter",t[27]?l.Z:t[29].open),(0,x.oLt)(i,"mouseleave",t[27]?l.Z:t[29].close)],s=!0)},p(t,s){t[7]&&!t[20]?d?d.p(t,s):(d=Xh(t),d.c(),d.m(e.parentNode,e)):d&&(d.d(1),d=null),151222142&s[0]&&(h=(0,x.NXn)(t[24]),(0,x.dvw)(),a=(0,x.GQg)(a,s,p,1,t,h,c,i,x.cly,Jh,n,Wh),(0,x.gbL)()),t[22]&&t[1]?u?(u.p(t,s),4194306&s[0]&&(0,x.Ui)(u,1)):(u=Qh(t),u.c(),(0,x.Ui)(u,1),u.m(i,null)):u&&((0,x.dvw)(),(0,x.etI)(u,1,1,(()=>{u=null})),(0,x.gbL)()),(!r||67436544&s[0])&&(0,x.VHj)(i,"message_last",t[26]&&t[18]&&!t[16]),(!r||67436544&s[0])&&(0,x.VHj)(i,"message_offset",t[26]&&t[18]&&t[16]),2621440&s[0]&&(0,x.czc)(i,"--z-index",t[21].params.showMore?t[19]+4:t[19])},i(t){if(!r){for(let t=0;t<h.length;t+=1)(0,x.Ui)(a[t]);(0,x.Ui)(u),r=!0}},o(t){for(let t=0;t<a.length;t+=1)(0,x.etI)(a[t]);(0,x.etI)(u),r=!1},d(n){n&&((0,x.ogt)(e),(0,x.ogt)(i)),d&&d.d(n);for(let t=0;t<a.length;t+=1)a[t].d();u&&u.d(),t[34](null),s=!1,(0,x.j7q)(o)}}}function Xh(t){let e,i,n,r=t[26]&&function(t){let e,i;return{c(){e=new x.Tv0(!1),i=(0,x.cSb)(),this.h()},l(t){e=(0,x.a7E)(t,!1),i=(0,x.cSb)(),this.h()},h(){e.a=i},m(t,n){e.m(Zh,t,n),(0,x.ZMF)(t,i,n)},d(t){t&&((0,x.ogt)(i),e.d())}}}();return{c(){e=(0,x.bGB)("div"),r&&r.c(),i=(0,x.DhX)(),n=(0,x.fLW)(t[7]),this.h()},l(s){e=(0,x.vT0)(s,"DIV",{class:!0});var o=(0,x.pIy)(e);r&&r.l(o),i=(0,x.qzd)(o),n=(0,x.Bno)(o,t[7]),o.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","message__date svelte-158vv3s"),(0,x.VHj)(e,"message__date_fullscreen",t[25]),(0,x.VHj)(e,"message__date_standalone",t[26]),(0,x.VHj)(e,"message__date_mobile",t[27])},m(t,s){(0,x.ZMF)(t,e,s),r&&r.m(e,null),(0,x.ztY)(e,i),(0,x.ztY)(e,n)},p(t,e){128&e[0]&&(0,x.rTO)(n,t[7])},d(t){t&&(0,x.ogt)(e),r&&r.d()}}}function Jh(t,e){let i,n,r;return n=new Gh({props:{bubble:e[36],phrase:e[6],outputBus:e[9],onDivClick:e[10],theme:e[4],onHorizontalMoveChange:e[8],isMobile:e[27],isUserAuthor:e[2],animated:e[3],requestId:e[1],isExternalDialog:e[13],markdown:e[5],useMarkdown:e[12],isDialog:e[14],isCurrentSession:e[16],isStreaming:e[17]}}),{key:t,first:null,c(){i=(0,x.cSb)(),(0,x.YCL)(n.$$.fragment),this.h()},l(t){i=(0,x.cSb)(),(0,x.wOw)(n.$$.fragment,t),this.h()},h(){this.first=i},m(t,e){(0,x.ZMF)(t,i,e),(0,x.yef)(n,t,e),r=!0},p(t,i){e=t;const r={};16777216&i[0]&&(r.bubble=e[36]),64&i[0]&&(r.phrase=e[6]),512&i[0]&&(r.outputBus=e[9]),1024&i[0]&&(r.onDivClick=e[10]),16&i[0]&&(r.theme=e[4]),256&i[0]&&(r.onHorizontalMoveChange=e[8]),4&i[0]&&(r.isUserAuthor=e[2]),8&i[0]&&(r.animated=e[3]),2&i[0]&&(r.requestId=e[1]),8192&i[0]&&(r.isExternalDialog=e[13]),32&i[0]&&(r.markdown=e[5]),4096&i[0]&&(r.useMarkdown=e[12]),16384&i[0]&&(r.isDialog=e[14]),65536&i[0]&&(r.isCurrentSession=e[16]),131072&i[0]&&(r.isStreaming=e[17]),n.$set(r)},i(t){r||((0,x.Ui)(n.$$.fragment,t),r=!0)},o(t){(0,x.etI)(n.$$.fragment,t),r=!1},d(t){t&&(0,x.ogt)(i),(0,x.vpE)(n,t)}}}function Qh(t){let e,i;return e=new Pe({props:{requestId:t[1],mark:t[11],sources:t[15],canCopy:t[23],onCopy:t[28],contextMenu:t[29],isLast:t[18],isCurrentSession:t[16]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};2&i[0]&&(n.requestId=t[1]),2048&i[0]&&(n.mark=t[11]),32768&i[0]&&(n.sources=t[15]),8388608&i[0]&&(n.canCopy=t[23]),262144&i[0]&&(n.isLast=t[18]),65536&i[0]&&(n.isCurrentSession=t[16]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function tp(t){let e,i,n=t[24].length&&Kh(t);return{c(){n&&n.c(),e=(0,x.cSb)()},l(t){n&&n.l(t),e=(0,x.cSb)()},m(t,r){n&&n.m(t,r),(0,x.ZMF)(t,e,r),i=!0},p(t,i){t[24].length?n?(n.p(t,i),16777216&i[0]&&(0,x.Ui)(n,1)):(n=Kh(t),n.c(),(0,x.Ui)(n,1),n.m(e.parentNode,e)):n&&((0,x.dvw)(),(0,x.etI)(n,1,1,(()=>{n=null})),(0,x.gbL)())},i(t){i||((0,x.Ui)(n),i=!0)},o(t){(0,x.etI)(n),i=!1},d(t){t&&(0,x.ogt)(e),n&&n.d(t)}}}function ep(t,e,i){let n,r,s,o,a,{id:c}=e,{requestId:d}=e,{isUserAuthor:h=!1}=e,{animated:p=!1}=e,{theme:u}=e,{markdown:f}=e,{phrase:m}=e,{date:g}=e,{onHorizontalMoveChange:y=l.Z}=e,{element:v}=e,{outputBus:b}=e,{onDivClick:_=l.Z}=e,{onMessageClick:w=l.Z}=e,{bubbles:C=[]}=e,{mark:E=Lt.MessageMark.NOT_SET}=e,{useMarkdown:S=!1}=e,{isExternalDialog:$=!1}=e,{isDialog:I=!1}=e,{sources:D}=e,{isCurrentSession:T}=e,{isStreaming:P=!1}=e,{isLast:A=!1}=e,{zIndex:j=0}=e;const{isFullscreenExp:L,isStandaloneBuild:O,isMobile:F,modalStore:B}=(0,k.fw)(M.f1),V=B.create({id:`context_menu_${c}`},{showMore:!1,showFeedback:!1});return(0,x.FIv)(t,V,(t=>i(21,a=t))),t.$$set=t=>{"id"in t&&i(31,c=t.id),"requestId"in t&&i(1,d=t.requestId),"isUserAuthor"in t&&i(2,h=t.isUserAuthor),"animated"in t&&i(3,p=t.animated),"theme"in t&&i(4,u=t.theme),"markdown"in t&&i(5,f=t.markdown),"phrase"in t&&i(6,m=t.phrase),"date"in t&&i(7,g=t.date),"onHorizontalMoveChange"in t&&i(8,y=t.onHorizontalMoveChange),"element"in t&&i(0,v=t.element),"outputBus"in t&&i(9,b=t.outputBus),"onDivClick"in t&&i(10,_=t.onDivClick),"onMessageClick"in t&&i(32,w=t.onMessageClick),"bubbles"in t&&i(33,C=t.bubbles),"mark"in t&&i(11,E=t.mark),"useMarkdown"in t&&i(12,S=t.useMarkdown),"isExternalDialog"in t&&i(13,$=t.isExternalDialog),"isDialog"in t&&i(14,I=t.isDialog),"sources"in t&&i(15,D=t.sources),"isCurrentSession"in t&&i(16,T=t.isCurrentSession),"isStreaming"in t&&i(17,P=t.isStreaming),"isLast"in t&&i(18,A=t.isLast),"zIndex"in t&&i(19,j=t.zIndex)},t.$$.update=()=>{4&t.$$.dirty[1]&&i(24,n=(0,Ae.Os)(C)),4&t.$$.dirty[1]&&i(23,r=C.every((t=>"text"===t.type&&t.text.length>0))),4&t.$$.dirty[1]&&i(20,s=C.some((t=>"divJson"===t.type&&(0,Ih.t)(t.divJson)))),3629060&t.$$.dirty[0]|4&t.$$.dirty[1]&&i(22,o=O&&(A&&T||a.isOpen||a.params.showFeedback)&&!(I||$||h)&&!(P||C.some(Ae.Uu))&&!s)},[v,d,h,p,u,f,m,g,y,b,_,E,S,$,I,D,T,P,A,j,s,a,o,r,n,L,O,F,()=>{var t;const e=(null==(t=null==v?void 0:v.textContent)?void 0:t.trim())||"";navigator.clipboard.writeText(e)},V,t=>{F?V.toggle():V.open(),d&&w(d,t)},c,w,C,function(t){x.VnY[t?"unshift":"push"]((()=>{v=t,i(0,v)}))}]}class ip extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,ep,tp,x.N8,{id:31,requestId:1,isUserAuthor:2,animated:3,theme:4,markdown:5,phrase:6,date:7,onHorizontalMoveChange:8,element:0,outputBus:9,onDivClick:10,onMessageClick:32,bubbles:33,mark:11,useMarkdown:12,isExternalDialog:13,isDialog:14,sources:15,isCurrentSession:16,isStreaming:17,isLast:18,zIndex:19},Yh,[-1,-1])}}const np=ip;function rp(t){let e;const i=t[3].default,n=(0,x.nuO)(i,t,t[2],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,i){n&&n.m(t,i),e=!0},p(t,[r]){n&&n.p&&(!e||4&r)&&(0,x.kmG)(n,i,t,t[2],e?(0,x.u2N)(i,t[2],r,null):(0,x.VOJ)(t[2]),null)},i(t){e||((0,x.Ui)(n,t),e=!0)},o(t){(0,x.etI)(n,t),e=!1},d(t){n&&n.d(t)}}}const sp=100;function op(t,e,i){let n,{$$slots:r={},$$scope:s}=e;const{allChatsStore:o}=(0,k.fw)(M.f1);(0,x.FIv)(t,o,(t=>i(5,n=t)));const a=(0,k.fw)(Mt);let l=0;const c=()=>{const{scrollTop:t,scrollHeight:e}=a.getScrollableElementProps();l>sp&&t<=sp&&n.currentChat.loadHistory().then(k.Ky).then((()=>{const{scrollTop:t,scrollHeight:i}=a.getScrollableElementProps();a.scrollTo(t+(i-e))})),l=t};return(0,k.H3)((()=>a.addScrollListener(c,100))),t.$$set=t=>{"$$scope"in t&&i(2,s=t.$$scope)},[o,(t,e)=>{if(!t)return;if(e)return void(0,k.Ky)().then(a.scrollToBottom);const{isScrolledFromBottom:i}=a.getScrollWrapperProps();i||(t.getBoundingClientRect().top<a.getScrollableElementProps().boundingClientRect.top-5?a.scrollToBottom():a.scrollToElementTop(t))},s,r]}class ap extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,op,rp,x.N8,{scrollWhileStreaming:1})}get scrollWhileStreaming(){return this.$$.ctx[1]}}const lp=ap;function cp(t){const e=e=>{switch(e.key){case"Enter":case" ":e.preventDefault(),t.dispatchEvent(new Event("accessibleclick"))}},i=()=>{t.dispatchEvent(new Event("accessibleclick"))};return t.addEventListener("keyup",e),t.addEventListener("click",i),{destroy(){t.removeEventListener("keyup",e),t.removeEventListener("click",i)}}}const dp=t=>new Promise((e=>{const i=new IntersectionObserver((n=>{n.forEach((n=>{n.intersectionRatio>=.5&&(i.unobserve(t),e(t))}))}),{threshold:.5});i.observe(t)}));function hp(t){(0,x.qOq)(t,"svelte-1waqs8",".alice__suggest.svelte-1waqs8{border:1px solid #e6e1f5;border-radius:16px;box-sizing:border-box;padding:14px 18px;font-style:normal;font-weight:500;font-size:14px;line-height:16px;cursor:pointer}.alice__suggest_theme_dark.svelte-1waqs8{color:#ffffff;border-color:rgba(122, 85, 255, 0.4)}.alice__suggest_standalone.svelte-1waqs8{border-radius:12px;padding:10px 13px;color:var(--text-primary-color);background-color:var(--bg-color);border-color:var(--border-color)}@media(hover: hover) and (pointer: fine){.alice__suggest_standalone.svelte-1waqs8:hover{color:var(--brand-color);border-color:var(--alisa-bubble-color)}}")}function pp(t){let e,i,n,r,s,o,a=t[0].title+"";return{c(){e=(0,x.bGB)("div"),i=(0,x.fLW)(a),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0,role:!0,tabindex:!0});var n=(0,x.pIy)(e);i=(0,x.Bno)(n,a),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class",n=(0,x.H1I)(`alice__suggest alice__suggest_theme_${t[3]}`)+" svelte-1waqs8"),(0,x.Ljt)(e,"role","button"),(0,x.Ljt)(e,"tabindex","0"),(0,x.VHj)(e,"alice__suggest_standalone",t[5])},m(n,a){(0,x.ZMF)(n,e,a),(0,x.ztY)(e,i),t[9](e),s||(o=[(0,x.TVh)(r=cp.call(null,e)),(0,x.oLt)(e,"accessibleclick",t[8])],s=!0)},p(t,[r]){1&r&&a!==(a=t[0].title+"")&&(0,x.rTO)(i,a),8&r&&n!==(n=(0,x.H1I)(`alice__suggest alice__suggest_theme_${t[3]}`)+" svelte-1waqs8")&&(0,x.Ljt)(e,"class",n),40&r&&(0,x.VHj)(e,"alice__suggest_standalone",t[5])},i:x.ZTd,o:x.ZTd,d(i){i&&(0,x.ogt)(e),t[9](null),s=!1,(0,x.j7q)(o)}}}function up(t,e,i){let{outputBus:n}=e,{suggest:r}=e,{index:s}=e,{onClick:o}=e,{theme:a}=e,{page:l}=e;const{isStandaloneBuild:c}=(0,M.Mn)();let d;return(0,k.H3)((()=>{dp(d).then((()=>{n.emit("stat",{path:`${l?l+".":""}suggest.${s}`,eventType:"show",customParams:{title:r.title||""}})}))})),t.$$set=t=>{"outputBus"in t&&i(6,n=t.outputBus),"suggest"in t&&i(0,r=t.suggest),"index"in t&&i(1,s=t.index),"onClick"in t&&i(2,o=t.onClick),"theme"in t&&i(3,a=t.theme),"page"in t&&i(7,l=t.page)},[r,s,o,a,d,c,n,l,()=>o(r,s),function(t){x.VnY[t?"unshift":"push"]((()=>{d=t,i(4,d)}))}]}class fp extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,up,pp,x.N8,{outputBus:6,suggest:0,index:1,onClick:2,theme:3,page:7},hp)}}const mp=fp;function gp(t){(0,x.qOq)(t,"svelte-mtqsmj",".alice__suggests_continuous.svelte-mtqsmj{display:flex;flex-wrap:wrap;gap:6px;margin-right:25px;margin-left:25px;white-space:nowrap}.alice__suggests_continuous-mobile.svelte-mtqsmj{overflow-x:scroll;scrollbar-width:none;-ms-overflow-style:none;flex-wrap:nowrap}.alice__suggests_continuous-mobile.svelte-mtqsmj::-webkit-scrollbar{width:0;height:0;display:none}")}function yp(t,e,i){const n=t.slice();return n[6]=e[i],n[8]=i,n}function vp(t){let e,i;return e=new mp({props:{suggest:t[6],onClick:t[3],outputBus:t[0],index:t[8],theme:t[4],page:t[5]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};4&i&&(n.suggest=t[6]),8&i&&(n.onClick=t[3]),1&i&&(n.outputBus=t[0]),16&i&&(n.theme=t[4]),32&i&&(n.page=t[5]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function bp(t){let e,i,n=(0,x.NXn)(t[2]),r=[];for(let e=0;e<n.length;e+=1)r[e]=vp(yp(t,n,e));const s=t=>(0,x.etI)(r[t],1,1,(()=>{r[t]=null}));return{c(){e=(0,x.bGB)("div");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var i=(0,x.pIy)(e);for(let t=0;t<r.length;t+=1)r[t].l(i);i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__suggests_continuous svelte-mtqsmj"),(0,x.VHj)(e,"alice__suggests_continuous-mobile",t[1])},m(t,n){(0,x.ZMF)(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null);i=!0},p(t,[o]){if(61&o){let i;for(n=(0,x.NXn)(t[2]),i=0;i<n.length;i+=1){const s=yp(t,n,i);r[i]?(r[i].p(s,o),(0,x.Ui)(r[i],1)):(r[i]=vp(s),r[i].c(),(0,x.Ui)(r[i],1),r[i].m(e,null))}for((0,x.dvw)(),i=n.length;i<r.length;i+=1)s(i);(0,x.gbL)()}(!i||2&o)&&(0,x.VHj)(e,"alice__suggests_continuous-mobile",t[1])},i(t){if(!i){for(let t=0;t<n.length;t+=1)(0,x.Ui)(r[t]);i=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)(0,x.etI)(r[t]);i=!1},d(t){t&&(0,x.ogt)(e),(0,x.RMB)(r,t)}}}function _p(t,e,i){let{outputBus:n}=e,{isMobile:r=!1}=e,{suggests:s=[]}=e,{onClick:o}=e,{theme:a}=e,{page:l}=e;return t.$$set=t=>{"outputBus"in t&&i(0,n=t.outputBus),"isMobile"in t&&i(1,r=t.isMobile),"suggests"in t&&i(2,s=t.suggests),"onClick"in t&&i(3,o=t.onClick),"theme"in t&&i(4,a=t.theme),"page"in t&&i(5,l=t.page)},[n,r,s,o,a,l]}class xp extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,_p,bp,x.N8,{outputBus:0,isMobile:1,suggests:2,onClick:3,theme:4,page:5},gp)}}const kp=xp;function wp(t){(0,x.qOq)(t,"svelte-ecvnzv",".gallery.svelte-ecvnzv{position:relative}.gallery__list.svelte-ecvnzv{display:flex;flex-direction:row;padding:0px;gap:7px;position:relative;overflow:scroll;scrollbar-width:none;width:100%}.gallery__list.svelte-ecvnzv::-webkit-scrollbar{display:none}")}function Cp(t){let e,i,n,r;return{c(){e=(0,x.bGB)("div"),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0}),(0,x.pIy)(e).forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class",i=(0,x.H1I)(fh(t[8]).left)+" svelte-ecvnzv")},m(i,s){(0,x.ZMF)(i,e,s),n||(r=(0,x.oLt)(e,"click",t[16]),n=!0)},p:x.ZTd,d(t){t&&(0,x.ogt)(e),n=!1,r()}}}function Ep(t){let e,i,n,r;return{c(){e=(0,x.bGB)("div"),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0}),(0,x.pIy)(e).forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class",i=(0,x.H1I)(fh(t[8]).right)+" svelte-ecvnzv")},m(i,s){(0,x.ZMF)(i,e,s),n||(r=(0,x.oLt)(e,"click",t[17]),n=!0)},p:x.ZTd,d(t){t&&(0,x.ogt)(e),n=!1,r()}}}function Sp(t){let e,i,n,r,s,o,a,l,c;const d=t[13].default,h=(0,x.nuO)(d,t,t[12],null);let p=t[0]&&t[4]&&Cp(t),u=t[0]&&t[5]&&Ep(t);return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),h&&h.c(),r=(0,x.DhX)(),p&&p.c(),s=(0,x.DhX)(),u&&u.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);i=(0,x.vT0)(n,"DIV",{class:!0});var o=(0,x.pIy)(i);h&&h.l(o),o.forEach(x.ogt),r=(0,x.qzd)(n),p&&p.l(n),s=(0,x.qzd)(n),u&&u.l(n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","gallery__list svelte-ecvnzv"),(0,x.Ljt)(e,"class",o="gallery gallery_theme_"+t[2]+" svelte-ecvnzv"),(0,x.czc)(e,"--button-width",t[3]?t[3]+"px":"")},m(o,d){(0,x.ZMF)(o,e,d),(0,x.ztY)(e,i),h&&h.m(i,null),t[14](i),(0,x.ztY)(e,r),p&&p.m(e,null),(0,x.ztY)(e,s),u&&u.m(e,null),a=!0,l||(c=[(0,x.oLt)(i,"scroll",(function(){(0,x.sBU)(t[7]&&t[0]?t[9]:null)&&(t[7]&&t[0]?t[9]:null).apply(this,arguments)})),(0,x.TVh)(n=je.x.call(null,i)),(0,x.oLt)(i,"horizontalmovechange",t[15])],l=!0)},p(i,[n]){t=i,h&&h.p&&(!a||4096&n)&&(0,x.kmG)(h,d,t,t[12],a?(0,x.u2N)(d,t[12],n,null):(0,x.VOJ)(t[12]),null),t[0]&&t[4]?p?p.p(t,n):(p=Cp(t),p.c(),p.m(e,s)):p&&(p.d(1),p=null),t[0]&&t[5]?u?u.p(t,n):(u=Ep(t),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!a||4&n&&o!==(o="gallery gallery_theme_"+t[2]+" svelte-ecvnzv"))&&(0,x.Ljt)(e,"class",o),8&n&&(0,x.czc)(e,"--button-width",t[3]?t[3]+"px":"")},i(t){a||((0,x.Ui)(h,t),a=!0)},o(t){(0,x.etI)(h,t),a=!1},d(i){i&&(0,x.ogt)(e),h&&h.d(i),t[14](null),p&&p.d(),u&&u.d(),l=!1,(0,x.j7q)(c)}}}function $p(t,e,i){let{$$slots:n={},$$scope:r}=e,{isDesktop:s}=e,{onHorizontalMoveChange:o=(()=>{})}=e,{setListElement:a=(()=>{})}=e,{theme:l}=e,{buttonWidth:c}=e;const{isStandaloneBuild:d}=(0,M.Mn)();let h,p=!1,u=!1,f=!1;function m(){const t=h.scrollLeft,e=h.scrollWidth,n=h.offsetWidth;i(4,p=t>2),i(5,u=t+n<e-2)}function g(t){h.scroll({left:h.scrollLeft+.75*h.offsetWidth*("right"===t?1:-1),behavior:"smooth"})}return(0,k.H3)((()=>{i(7,f=!0),a(h),s&&m()})),(0,k.ev)((()=>{i(7,f=!1)})),t.$$set=t=>{"isDesktop"in t&&i(0,s=t.isDesktop),"onHorizontalMoveChange"in t&&i(1,o=t.onHorizontalMoveChange),"setListElement"in t&&i(11,a=t.setListElement),"theme"in t&&i(2,l=t.theme),"buttonWidth"in t&&i(3,c=t.buttonWidth),"$$scope"in t&&i(12,r=t.$$scope)},[s,o,l,c,p,u,h,f,d,m,g,a,r,n,function(t){x.VnY[t?"unshift":"push"]((()=>{h=t,i(6,h)}))},({detail:{value:t}})=>{o(t)},()=>g("left"),()=>g("right")]}class Mp extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,$p,Sp,x.N8,{isDesktop:0,onHorizontalMoveChange:1,setListElement:11,theme:2,buttonWidth:3},wp)}}const Ip=Mp;function Dp(t){(0,x.qOq)(t,"svelte-yze3h6",".alice__suggests_inners.svelte-yze3h6{white-space:nowrap;align-items:flex-start;flex-direction:column}.alice__suggests_row.svelte-yze3h6{display:flex;gap:6px;margin-bottom:6px;margin-right:25px;margin-left:25px}")}function Tp(t,e,i){const n=t.slice();return n[9]=e[i],n[11]=i,n}function Pp(t){let e,i;return e=new mp({props:{suggest:t[9],onClick:t[2],outputBus:t[0],index:t[11],theme:t[4],page:t[6]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};2&i&&(n.suggest=t[9]),4&i&&(n.onClick=t[2]),1&i&&(n.outputBus=t[0]),16&i&&(n.theme=t[4]),64&i&&(n.page=t[6]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Ap(t){let e,i,n,r=(0,x.NXn)(t[1]),s=[];for(let e=0;e<r.length;e+=1)s[e]=Pp(Tp(t,r,e));const o=t=>(0,x.etI)(s[t],1,1,(()=>{s[t]=null}));return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);i=(0,x.vT0)(n,"DIV",{class:!0});var r=(0,x.pIy)(i);for(let t=0;t<s.length;t+=1)s[t].l(r);r.forEach(x.ogt),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","alice__suggests_row svelte-yze3h6"),(0,x.Ljt)(e,"class","alice__suggests_inners svelte-yze3h6")},m(t,r){(0,x.ZMF)(t,e,r),(0,x.ztY)(e,i);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(i,null);n=!0},p(t,e){if(87&e){let n;for(r=(0,x.NXn)(t[1]),n=0;n<r.length;n+=1){const o=Tp(t,r,n);s[n]?(s[n].p(o,e),(0,x.Ui)(s[n],1)):(s[n]=Pp(o),s[n].c(),(0,x.Ui)(s[n],1),s[n].m(i,null))}for((0,x.dvw)(),n=r.length;n<s.length;n+=1)o(n);(0,x.gbL)()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)(0,x.Ui)(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)(0,x.etI)(s[t]);n=!1},d(t){t&&(0,x.ogt)(e),(0,x.RMB)(s,t)}}}function jp(t){let e,i;return e=new Ip({props:{isDesktop:t[5],onHorizontalMoveChange:t[3],setListElement:t[7],theme:t[4],$$slots:{default:[Ap]},$$scope:{ctx:t}}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,[i]){const n={};32&i&&(n.isDesktop=t[5]),8&i&&(n.onHorizontalMoveChange=t[3]),16&i&&(n.theme=t[4]),4183&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Lp(t,e,i){let n,{outputBus:r}=e,{suggests:s=[]}=e,{onClick:o}=e,{onHorizontalMoveChange:a}=e,{theme:l}=e,{isDesktop:c}=e,{page:d}=e;return t.$$set=t=>{"outputBus"in t&&i(0,r=t.outputBus),"suggests"in t&&i(1,s=t.suggests),"onClick"in t&&i(2,o=t.onClick),"onHorizontalMoveChange"in t&&i(3,a=t.onHorizontalMoveChange),"theme"in t&&i(4,l=t.theme),"isDesktop"in t&&i(5,c=t.isDesktop),"page"in t&&i(6,d=t.page)},t.$$.update=()=>{256&t.$$.dirty&&n&&i(8,n.scrollLeft=0,n)},[r,s,o,a,l,c,d,t=>{i(8,n=t)},n]}class Op extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Lp,jp,x.N8,{outputBus:0,suggests:1,onClick:2,onHorizontalMoveChange:3,theme:4,isDesktop:5,page:6},Dp)}}const Fp=Op;function Bp(t){(0,x.qOq)(t,"svelte-119nlk3",".alice__suggests_inners.svelte-119nlk3{align-items:flex-start;flex-direction:column}.alice__suggests_row.svelte-119nlk3{display:flex;flex-direction:column;gap:6px;margin-bottom:6px;align-items:baseline}")}function Vp(t,e,i){const n=t.slice();return n[5]=e[i],n[7]=i,n}function zp(t){let e,i;return e=new mp({props:{suggest:t[5],onClick:t[2],outputBus:t[0],index:t[7],theme:t[3],page:t[4]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};2&i&&(n.suggest=t[5]),4&i&&(n.onClick=t[2]),1&i&&(n.outputBus=t[0]),8&i&&(n.theme=t[3]),16&i&&(n.page=t[4]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Np(t){let e,i,n,r=(0,x.NXn)(t[1]),s=[];for(let e=0;e<r.length;e+=1)s[e]=zp(Vp(t,r,e));const o=t=>(0,x.etI)(s[t],1,1,(()=>{s[t]=null}));return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);i=(0,x.vT0)(n,"DIV",{class:!0});var r=(0,x.pIy)(i);for(let t=0;t<s.length;t+=1)s[t].l(r);r.forEach(x.ogt),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","alice__suggests_row svelte-119nlk3"),(0,x.Ljt)(e,"class","alice__suggests_inners svelte-119nlk3")},m(t,r){(0,x.ZMF)(t,e,r),(0,x.ztY)(e,i);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(i,null);n=!0},p(t,[e]){if(31&e){let n;for(r=(0,x.NXn)(t[1]),n=0;n<r.length;n+=1){const o=Vp(t,r,n);s[n]?(s[n].p(o,e),(0,x.Ui)(s[n],1)):(s[n]=zp(o),s[n].c(),(0,x.Ui)(s[n],1),s[n].m(i,null))}for((0,x.dvw)(),n=r.length;n<s.length;n+=1)o(n);(0,x.gbL)()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)(0,x.Ui)(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)(0,x.etI)(s[t]);n=!1},d(t){t&&(0,x.ogt)(e),(0,x.RMB)(s,t)}}}function Rp(t,e,i){let{outputBus:n}=e,{suggests:r=[]}=e,{onClick:s}=e,{theme:o}=e,{page:a}=e;return t.$$set=t=>{"outputBus"in t&&i(0,n=t.outputBus),"suggests"in t&&i(1,r=t.suggests),"onClick"in t&&i(2,s=t.onClick),"theme"in t&&i(3,o=t.theme),"page"in t&&i(4,a=t.page)},[n,r,s,o,a]}class Up extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Rp,Np,x.N8,{outputBus:0,suggests:1,onClick:2,theme:3,page:4},Bp)}}const Hp=Up;function qp(t){(0,x.qOq)(t,"svelte-18e73s6",".suggests-in-chat.svelte-18e73s6{margin:0 -25px}.suggests-in-chat_greetings.svelte-18e73s6{margin:0}")}function Gp(t){let e,i;return e=new Fp({props:{outputBus:t[0],page:t[1],onClick:t[2],theme:t[3],suggests:t[4],isDesktop:!t[5],onHorizontalMoveChange:t[6]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};1&i&&(n.outputBus=t[0]),2&i&&(n.page=t[1]),4&i&&(n.onClick=t[2]),8&i&&(n.theme=t[3]),16&i&&(n.suggests=t[4]),32&i&&(n.isDesktop=!t[5]),64&i&&(n.onHorizontalMoveChange=t[6]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Zp(t){let e,i;return e=new Hp({props:{outputBus:t[0],page:t[1],onClick:t[2],theme:t[3],suggests:t[4]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};1&i&&(n.outputBus=t[0]),2&i&&(n.page=t[1]),4&i&&(n.onClick=t[2]),8&i&&(n.theme=t[3]),16&i&&(n.suggests=t[4]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Yp(t){let e,i;return e=new kp({props:{outputBus:t[0],page:t[1],onClick:t[2],theme:t[3],suggests:t[4],isMobile:t[5]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};1&i&&(n.outputBus=t[0]),2&i&&(n.page=t[1]),4&i&&(n.onClick=t[2]),8&i&&(n.theme=t[3]),16&i&&(n.suggests=t[4]),32&i&&(n.isMobile=t[5]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Wp(t){let e,i,n,r;const s=[Yp,Zp,Gp],o=[];function a(t,e){return t[8]?0:t[7]?1:2}return i=a(t),n=o[i]=s[i](t),{c(){e=(0,x.bGB)("div"),n.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var i=(0,x.pIy)(e);n.l(i),i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","suggests-in-chat svelte-18e73s6"),(0,x.VHj)(e,"suggests-in-chat_greetings",t[7])},m(t,n){(0,x.ZMF)(t,e,n),o[i].m(e,null),r=!0},p(t,[l]){let c=i;i=a(t),i===c?o[i].p(t,l):((0,x.dvw)(),(0,x.etI)(o[c],1,1,(()=>{o[c]=null})),(0,x.gbL)(),n=o[i],n?n.p(t,l):(n=o[i]=s[i](t),n.c()),(0,x.Ui)(n,1),n.m(e,null)),(!r||128&l)&&(0,x.VHj)(e,"suggests-in-chat_greetings",t[7])},i(t){r||((0,x.Ui)(n),r=!0)},o(t){(0,x.etI)(n),r=!1},d(t){t&&(0,x.ogt)(e),o[i].d()}}}function Kp(t,e,i){let{outputBus:n}=e,{page:r}=e,{onClick:s}=e,{theme:o}=e,{suggests:a=[]}=e,{isMobile:c=!1}=e,{onHorizontalMoveChange:d=l.Z}=e,{isGreetings:h=!1}=e;const{isStandaloneBuild:p}=(0,M.Mn)();return t.$$set=t=>{"outputBus"in t&&i(0,n=t.outputBus),"page"in t&&i(1,r=t.page),"onClick"in t&&i(2,s=t.onClick),"theme"in t&&i(3,o=t.theme),"suggests"in t&&i(4,a=t.suggests),"isMobile"in t&&i(5,c=t.isMobile),"onHorizontalMoveChange"in t&&i(6,d=t.onHorizontalMoveChange),"isGreetings"in t&&i(7,h=t.isGreetings)},[n,r,s,o,a,c,d,h,p]}class Xp extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Kp,Wp,x.N8,{outputBus:0,page:1,onClick:2,theme:3,suggests:4,isMobile:5,onHorizontalMoveChange:6,isGreetings:7},qp)}}const Jp=Xp,Qp=t=>t.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"2-digit"}),tu=(t,e)=>t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate(),eu=t=>{let e;return t.map(((i,n)=>{if(!e)return e=i.date,iu(e);const r=t[n-1];return tu(i.date,e)||i.requestId&&i.requestId===(null==r?void 0:r.requestId)?void 0:(e=i.date,iu(e))}))},iu=t=>((t,e)=>{const i=new Date,n=((t,e)=>new Date(new Date(t).setDate(t.getDate()+-1)))(i),r=(t=>e=>{var i,n;return null!=(n=null!=(i=null==t?void 0:t[e])?i:null==t?void 0:t.default)?n:Qp})(e);return tu(t,i)?r("today")(t):tu(t,n)?r("yesterday")(t):t.getFullYear()===i.getFullYear()?r("sameYear")(t):r("default")(t)})(t,{today:()=>"Сегодня",yesterday:()=>"Вчера",sameYear:t=>t.toLocaleString("ru-RU",{day:"2-digit",month:"long"}),default:t=>t.toLocaleString("ru-RU",{day:"2-digit",month:"long",year:"numeric"})});function nu(t){(0,x.qOq)(t,"svelte-1i44xls",".chat-messages__suggests-wrapper.svelte-1i44xls{max-width:calc(100% + 50px);padding-top:var(--gap)}.chat-messages__before-animation.svelte-1i44xls,.chat-messages__after-animation.svelte-1i44xls{display:flex;flex-direction:column;align-items:flex-start;gap:var(--gap)}.chat-messages__after-animation.svelte-1i44xls{padding-top:var(--gap)}")}function ru(t,e,i){const n=t.slice();return n[44]=e[i],n[45]=e,n[46]=i,n}function su(t,e,i){const n=t.slice();return n[44]=e[i],n[47]=e,n[46]=i,n}function ou(t){let e,i,n=[],r=new Map,s=(0,x.NXn)(t[22]);const o=t=>t[44].id;for(let e=0;e<s.length;e+=1){let i=su(t,s,e),a=o(i);r.set(a,n[e]=au(a,i))}return{c(){e=(0,x.bGB)("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var i=(0,x.pIy)(e);for(let t=0;t<n.length;t+=1)n[t].l(i);i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","chat-messages__before-animation svelte-1i44xls")},m(t,r){(0,x.ZMF)(t,e,r);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,null);i=!0},p(t,i){62929943&i[0]&&(s=(0,x.NXn)(t[22]),(0,x.dvw)(),n=(0,x.GQg)(n,i,o,1,t,s,r,e,x.cly,au,null,su),(0,x.gbL)())},i(t){if(!i){for(let t=0;t<s.length;t+=1)(0,x.Ui)(n[t]);i=!0}},o(t){for(let t=0;t<n.length;t+=1)(0,x.etI)(n[t]);i=!1},d(t){t&&(0,x.ogt)(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function au(t,e){let i,n,r,s;const o=[e[44],{theme:e[0]},{date:e[25][e[46]]},{onHorizontalMoveChange:e[2]},{outputBus:e[4]},{onDivClick:e[10]},{onMessageClick:e[11]},{isExternalDialog:e[24]},{markdown:e[1]},{useMarkdown:e[12]},{isDialog:e[23]}];function a(t){e[33](t,e[46])}let l={};for(let t=0;t<o.length;t+=1)l=(0,x.f0i)(l,o[t]);return void 0!==e[13][e[46]]&&(l.element=e[13][e[46]]),n=new np({props:l}),x.VnY.push((()=>(0,x.akz)(n,"element",a))),{key:t,first:null,c(){i=(0,x.cSb)(),(0,x.YCL)(n.$$.fragment),this.h()},l(t){i=(0,x.cSb)(),(0,x.wOw)(n.$$.fragment,t),this.h()},h(){this.first=i},m(t,e){(0,x.ZMF)(t,i,e),(0,x.yef)(n,t,e),s=!0},p(t,i){e=t;const s=62921751&i[0]?(0,x.LoY)(o,[4194304&i[0]&&(0,x.gCg)(e[44]),1&i[0]&&{theme:e[0]},37748736&i[0]&&{date:e[25][e[46]]},4&i[0]&&{onHorizontalMoveChange:e[2]},16&i[0]&&{outputBus:e[4]},1024&i[0]&&{onDivClick:e[10]},2048&i[0]&&{onMessageClick:e[11]},16777216&i[0]&&{isExternalDialog:e[24]},2&i[0]&&{markdown:e[1]},4096&i[0]&&{useMarkdown:e[12]},8388608&i[0]&&{isDialog:e[23]}]):{};!r&&4202496&i[0]&&(r=!0,s.element=e[13][e[46]],(0,x.hjT)((()=>r=!1))),n.$set(s)},i(t){s||((0,x.Ui)(n.$$.fragment,t),s=!0)},o(t){(0,x.etI)(n.$$.fragment,t),s=!1},d(t){t&&(0,x.ogt)(i),(0,x.vpE)(n,t)}}}function lu(t){let e,i,n,s=[],o=new Map,a=(0,x.NXn)(t[21]);const l=t=>t[44].id;for(let e=0;e<a.length;e+=1){let i=ru(t,a,e),n=l(i);o.set(n,s[e]=cu(n,i))}let c=t[17]&&t[9]===r.U.THINKING&&du(t);return{c(){e=(0,x.bGB)("div");for(let t=0;t<s.length;t+=1)s[t].c();i=(0,x.DhX)(),c&&c.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);for(let t=0;t<s.length;t+=1)s[t].l(n);i=(0,x.qzd)(n),c&&c.l(n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","chat-messages__after-animation svelte-1i44xls")},m(t,r){(0,x.ZMF)(t,e,r);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);(0,x.ztY)(e,i),c&&c.m(e,null),n=!0},p(t,n){597785623&n[0]&&(a=(0,x.NXn)(t[21]),(0,x.dvw)(),s=(0,x.GQg)(s,n,l,1,t,a,o,e,x.cly,cu,i,ru),(0,x.gbL)()),t[17]&&t[9]===r.U.THINKING?c?(c.p(t,n),131584&n[0]&&(0,x.Ui)(c,1)):(c=du(t),c.c(),(0,x.Ui)(c,1),c.m(e,null)):c&&((0,x.dvw)(),(0,x.etI)(c,1,1,(()=>{c=null})),(0,x.gbL)())},i(t){if(!n){for(let t=0;t<a.length;t+=1)(0,x.Ui)(s[t]);(0,x.Ui)(c),n=!0}},o(t){for(let t=0;t<s.length;t+=1)(0,x.etI)(s[t]);(0,x.etI)(c),n=!1},d(t){t&&(0,x.ogt)(e);for(let t=0;t<s.length;t+=1)s[t].d();c&&c.d()}}}function cu(t,e){let i,n,r,s;const o=[e[44],{theme:e[0]},{phrase:e[29](e[46])===e[14].length-1&&e[16].outputStatus?vt.h[e[16].outputStatus]:void 0},{date:e[25][e[29](e[46])]},{onHorizontalMoveChange:e[2]},{outputBus:e[4]},{onDivClick:e[10]},{onMessageClick:e[11]},{isExternalDialog:e[24]},{markdown:e[1]},{useMarkdown:e[12]},{isDialog:e[23]}];function a(t){e[34](t,e[46])}let l={};for(let t=0;t<o.length;t+=1)l=(0,x.f0i)(l,o[t]);return void 0!==e[13][e[29](e[46])]&&(l.element=e[13][e[29](e[46])]),n=new np({props:l}),x.VnY.push((()=>(0,x.akz)(n,"element",a))),{key:t,first:null,c(){i=(0,x.cSb)(),(0,x.YCL)(n.$$.fragment),this.h()},l(t){i=(0,x.cSb)(),(0,x.wOw)(n.$$.fragment,t),this.h()},h(){this.first=i},m(t,e){(0,x.ZMF)(t,i,e),(0,x.yef)(n,t,e),s=!0},p(t,i){e=t;const s=597777431&i[0]?(0,x.LoY)(o,[2097152&i[0]&&(0,x.gCg)(e[44]),1&i[0]&&{theme:e[0]},539049984&i[0]&&{phrase:e[29](e[46])===e[14].length-1&&e[16].outputStatus?vt.h[e[16].outputStatus]:void 0},572522496&i[0]&&{date:e[25][e[29](e[46])]},4&i[0]&&{onHorizontalMoveChange:e[2]},16&i[0]&&{outputBus:e[4]},1024&i[0]&&{onDivClick:e[10]},2048&i[0]&&{onMessageClick:e[11]},16777216&i[0]&&{isExternalDialog:e[24]},2&i[0]&&{markdown:e[1]},4096&i[0]&&{useMarkdown:e[12]},8388608&i[0]&&{isDialog:e[23]}]):{};!r&&538976256&i[0]&&(r=!0,s.element=e[13][e[29](e[46])],(0,x.hjT)((()=>r=!1))),n.$set(s)},i(t){s||((0,x.Ui)(n.$$.fragment,t),s=!0)},o(t){(0,x.etI)(n.$$.fragment,t),s=!1},d(t){t&&(0,x.ogt)(i),(0,x.vpE)(n,t)}}}function du(t){let e,i;return e=new $t({props:{theme:t[0],isMobile:t[3],isExternalDialog:t[24]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};1&i[0]&&(n.theme=t[0]),8&i[0]&&(n.isMobile=t[3]),16777216&i[0]&&(n.isExternalDialog=t[24]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function hu(t){let e,i,n;return i=new Jp({props:{outputBus:t[4],page:t[8],onClick:t[5],theme:t[0],suggests:t[6],isMobile:t[3],onHorizontalMoveChange:t[2],isGreetings:t[7]}}),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","chat-messages__suggests-wrapper svelte-1i44xls")},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,e){const n={};16&e[0]&&(n.outputBus=t[4]),256&e[0]&&(n.page=t[8]),32&e[0]&&(n.onClick=t[5]),1&e[0]&&(n.theme=t[0]),64&e[0]&&(n.suggests=t[6]),8&e[0]&&(n.isMobile=t[3]),4&e[0]&&(n.onHorizontalMoveChange=t[2]),128&e[0]&&(n.isGreetings=t[7]),i.$set(n)},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function pu(t){let e,i,n,r=t[21].length&&lu(t),s=t[6].length&&hu(t);return{c(){r&&r.c(),e=(0,x.DhX)(),s&&s.c(),i=(0,x.cSb)()},l(t){r&&r.l(t),e=(0,x.qzd)(t),s&&s.l(t),i=(0,x.cSb)()},m(t,o){r&&r.m(t,o),(0,x.ZMF)(t,e,o),s&&s.m(t,o),(0,x.ZMF)(t,i,o),n=!0},p(t,n){t[21].length?r?(r.p(t,n),2097152&n[0]&&(0,x.Ui)(r,1)):(r=lu(t),r.c(),(0,x.Ui)(r,1),r.m(e.parentNode,e)):r&&((0,x.dvw)(),(0,x.etI)(r,1,1,(()=>{r=null})),(0,x.gbL)()),t[6].length?s?(s.p(t,n),64&n[0]&&(0,x.Ui)(s,1)):(s=hu(t),s.c(),(0,x.Ui)(s,1),s.m(i.parentNode,i)):s&&((0,x.dvw)(),(0,x.etI)(s,1,1,(()=>{s=null})),(0,x.gbL)())},i(t){n||((0,x.Ui)(r),(0,x.Ui)(s),n=!0)},o(t){(0,x.etI)(r),(0,x.etI)(s),n=!1},d(t){t&&((0,x.ogt)(e),(0,x.ogt)(i)),r&&r.d(t),s&&s.d(t)}}}function uu(t){let e,i,n,r=t[22].length&&ou(t),s={lastUserMessageElement:t[20],$$slots:{default:[pu]},$$scope:{ctx:t}};return i=new jt({props:s}),t[35](i),{c(){r&&r.c(),e=(0,x.DhX)(),(0,x.YCL)(i.$$.fragment)},l(t){r&&r.l(t),e=(0,x.qzd)(t),(0,x.wOw)(i.$$.fragment,t)},m(t,s){r&&r.m(t,s),(0,x.ZMF)(t,e,s),(0,x.yef)(i,t,s),n=!0},p(t,n){t[22].length?r?(r.p(t,n),4194304&n[0]&&(0,x.Ui)(r,1)):(r=ou(t),r.c(),(0,x.Ui)(r,1),r.m(e.parentNode,e)):r&&((0,x.dvw)(),(0,x.etI)(r,1,1,(()=>{r=null})),(0,x.gbL)());const s={};1048576&n[0]&&(s.lastUserMessageElement=t[20]),61046783&n[0]|131072&n[1]&&(s.$$scope={dirty:n,ctx:t}),i.$set(s)},i(t){n||((0,x.Ui)(r),(0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(r),(0,x.etI)(i.$$.fragment,t),n=!1},d(n){n&&(0,x.ogt)(e),r&&r.d(n),t[35](null),(0,x.vpE)(i,n)}}}function fu(t){let e,i,n,r,s=`${t[28]}px`;return i=new lp({props:{$$slots:{default:[uu]},$$scope:{ctx:t}}}),t[36](i),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","chat-messages"),(0,x.VHj)(e,"chat-messages_standalone",t[27]),(0,x.VHj)(e,"chat-messages_mobile",t[3]),(0,x.czc)(e,"--gap",s)},m(t,n){(0,x.ZMF)(t,e,n),(0,x.yef)(i,e,null),r=!0},p(t,n){const s={};66551807&n[0]|131072&n[1]&&(s.$$scope={dirty:n,ctx:t}),i.$set(s),(!r||8&n[0])&&(0,x.VHj)(e,"chat-messages_mobile",t[3])},i(t){r||((0,x.Ui)(i.$$.fragment,t),n||(0,x.P$F)((()=>{n=(0,x.HCz)(e,U,{duration:500}),n.start()})),r=!0)},o(t){(0,x.etI)(i.$$.fragment,t),r=!1},d(n){n&&(0,x.ogt)(e),t[36](null),(0,x.vpE)(i)}}}function mu(t,e,i){let n,r,s,a,c,d,h,p,u,f,m,g,y,v=x.ZTd;t.$$.on_destroy.push((()=>v()));let{theme:b}=e,{markdown:_}=e,{onHorizontalMoveChange:w=l.Z}=e,{isMobile:C=!1}=e,{outputBus:E}=e,{onSuggestClick:S}=e,{suggests:$=[]}=e,{isSuggestGreetings:I=!1}=e,{page:D}=e,{aliceState:T}=e,{onDivClick:P=l.Z}=e,{onMessageClick:A=l.Z}=e,{useMarkdown:j=!1}=e;const{allChatsStore:L,isStandaloneBuild:O}=(0,M.Mn)();(0,x.FIv)(t,L,(t=>i(32,y=t)));const F=(0,k.fw)(Mt);let B,V,z,N,R,U=[],H=!1;const q=O?C?12:16:8;(0,k.gx)((()=>{i(17,H=(null==m?void 0:m.isUserAuthor)&&Boolean(null==m?void 0:m.bubbles.length)||!(null==m?void 0:m.isUserAuthor)&&!(null==m?void 0:m.bubbles.length));const t=m&&m.bubbles!==(null==z?void 0:z.bubbles);C||d===N||-1===d?-1!==h&&t&&G():(i(30,B=d),t&&V.startAnimation()),z=m,N=d})),(0,k.H3)((()=>{F.scrollToBottom()}));const G=()=>{m&&(null==R||R.scrollWhileStreaming(f,Boolean(m.isUserAuthor)))};(0,k.v)(vt.e,{scrollChatWhileStreaming:G});const Z=t=>B?t+B:t;return t.$$set=t=>{"theme"in t&&i(0,b=t.theme),"markdown"in t&&i(1,_=t.markdown),"onHorizontalMoveChange"in t&&i(2,w=t.onHorizontalMoveChange),"isMobile"in t&&i(3,C=t.isMobile),"outputBus"in t&&i(4,E=t.outputBus),"onSuggestClick"in t&&i(5,S=t.onSuggestClick),"suggests"in t&&i(6,$=t.suggests),"isSuggestGreetings"in t&&i(7,I=t.isSuggestGreetings),"page"in t&&i(8,D=t.page),"aliceState"in t&&i(9,T=t.aliceState),"onDivClick"in t&&i(10,P=t.onDivClick),"onMessageClick"in t&&i(11,A=t.onMessageClick),"useMarkdown"in t&&i(12,j=t.useMarkdown)},t.$$.update=()=>{2&t.$$.dirty[1]&&(i(15,n=y.currentChat),v(),v=(0,x.LdU)(n,(t=>i(16,g=t)))),65536&t.$$.dirty[0]&&i(14,r=g.messages),49152&t.$$.dirty[0]&&i(25,s=n.isHistoryEmpty?[]:eu(r)),65536&t.$$.dirty[0]&&i(24,a=g.info.isExternalDialog),32768&t.$$.dirty[0]&&i(23,c=n.isDialog),65536&t.$$.dirty[0]&&(d=g.firstUserMessageInSessionIndex),65536&t.$$.dirty[0]&&i(31,h=g.lastUserMessageInSessionIndex),1073758208&t.$$.dirty[0]&&i(22,p=void 0!==B?r.slice(0,B):r),1073758208&t.$$.dirty[0]&&i(21,u=void 0!==B?r.slice(B):[]),8192&t.$$.dirty[0]|1&t.$$.dirty[1]&&i(20,f=U[h]),16384&t.$$.dirty[0]&&(m=(0,o.CT)(r))},[b,_,w,C,E,S,$,I,D,T,P,A,j,U,r,n,g,H,V,R,f,u,p,c,a,s,L,O,q,Z,B,h,y,function(e,n){t.$$.not_equal(U[n],e)&&(U[n]=e,i(13,U))},function(e,n){t.$$.not_equal(U[Z(n)],e)&&(U[Z(n)]=e,i(13,U))},function(t){x.VnY[t?"unshift":"push"]((()=>{V=t,i(18,V)}))},function(t){x.VnY[t?"unshift":"push"]((()=>{R=t,i(19,R)}))}]}class gu extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,mu,fu,x.N8,{theme:0,markdown:1,onHorizontalMoveChange:2,isMobile:3,outputBus:4,onSuggestClick:5,suggests:6,isSuggestGreetings:7,page:8,aliceState:9,onDivClick:10,onMessageClick:11,useMarkdown:12},nu,[-1,-1])}}const yu=gu;function vu(t){(0,x.qOq)(t,"svelte-1n17a3a",".chat.svelte-1n17a3a.svelte-1n17a3a{padding:0 24px;padding-bottom:var(--padding-bottom);display:flex;flex-direction:column;gap:8px}.chat_fullscreen.svelte-1n17a3a.svelte-1n17a3a{padding:initial}.chat_standalone.svelte-1n17a3a.svelte-1n17a3a{padding-left:0;padding-right:0}.chat__upper-disclaimer.svelte-1n17a3a.svelte-1n17a3a{font-size:14px;font-weight:400;line-height:16px;text-align:center;color:rgb(146, 157, 180);width:100%;box-sizing:border-box;padding:0 70px;margin-bottom:8px}.chat_standalone.svelte-1n17a3a .chat__upper-disclaimer.svelte-1n17a3a{color:var(--text-secondary-color)}")}function bu(t){let e,i,n=`Пока я умею помнить только последние ${t[14].maxMessagesInLS} фраз`;return{c(){e=(0,x.bGB)("div"),i=(0,x.fLW)(n),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var r=(0,x.pIy)(e);i=(0,x.Bno)(r,n),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","chat__upper-disclaimer svelte-1n17a3a")},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i)},p(t,e){16384&e&&n!==(n=`Пока я умею помнить только последние ${t[14].maxMessagesInLS} фраз`)&&(0,x.rTO)(i,n)},d(t){t&&(0,x.ogt)(e)}}}function _u(t){let e,i;return e=new yu({props:{theme:t[0],onHorizontalMoveChange:t[4],isMobile:t[5],outputBus:t[3],page:t[8],onSuggestClick:t[6],suggests:t[7],aliceState:t[9],onDivClick:t[10],onMessageClick:t[11],markdown:t[1],useMarkdown:t[2],isSuggestGreetings:t[12]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};1&i&&(n.theme=t[0]),16&i&&(n.onHorizontalMoveChange=t[4]),32&i&&(n.isMobile=t[5]),8&i&&(n.outputBus=t[3]),256&i&&(n.page=t[8]),64&i&&(n.onSuggestClick=t[6]),128&i&&(n.suggests=t[7]),512&i&&(n.aliceState=t[9]),1024&i&&(n.onDivClick=t[10]),2048&i&&(n.onMessageClick=t[11]),2&i&&(n.markdown=t[1]),4&i&&(n.useMarkdown=t[2]),4096&i&&(n.isSuggestGreetings=t[12]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function xu(t){let e,i,n,r=t[13]&&(0,F.Yl)(t[14]),s=`${t[19]}px`,o=r&&bu(t),a=t[15].length&&_u(t);return{c(){e=(0,x.bGB)("div"),o&&o.c(),i=(0,x.DhX)(),a&&a.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);o&&o.l(n),i=(0,x.qzd)(n),a&&a.l(n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","chat svelte-1n17a3a"),(0,x.VHj)(e,"chat_fullscreen",t[16]),(0,x.VHj)(e,"chat_standalone",t[17]),(0,x.VHj)(e,"chat_mobile",t[5]),(0,x.czc)(e,"--padding-bottom",s)},m(t,r){(0,x.ZMF)(t,e,r),o&&o.m(e,null),(0,x.ztY)(e,i),a&&a.m(e,null),n=!0},p(t,[s]){24576&s&&(r=t[13]&&(0,F.Yl)(t[14])),r?o?o.p(t,s):(o=bu(t),o.c(),o.m(e,i)):o&&(o.d(1),o=null),t[15].length?a?(a.p(t,s),32768&s&&(0,x.Ui)(a,1)):(a=_u(t),a.c(),(0,x.Ui)(a,1),a.m(e,null)):a&&((0,x.dvw)(),(0,x.etI)(a,1,1,(()=>{a=null})),(0,x.gbL)()),(!n||32&s)&&(0,x.VHj)(e,"chat_mobile",t[5])},i(t){n||((0,x.Ui)(a),n=!0)},o(t){(0,x.etI)(a),n=!1},d(t){t&&(0,x.ogt)(e),o&&o.d(),a&&a.d()}}}function ku(t,e,i){let n,r,s,o,a=x.ZTd;t.$$.on_destroy.push((()=>a()));let{theme:c}=e,{markdown:d}=e,{useMarkdown:h=!1}=e,{outputBus:p}=e,{onHorizontalMoveChange:u=l.Z}=e,{isMobile:f=!1}=e,{onSuggestClick:m}=e,{suggests:g}=e,{page:y}=e,{aliceState:v}=e,{onDivClick:b=l.Z}=e,{onMessageClick:_=l.Z}=e,{isSuggestGreetings:w=!1}=e;const{isFullscreenExp:C,isStandaloneBuild:E,allChatsStore:S}=(0,k.fw)(M.f1);(0,x.FIv)(t,S,(t=>i(21,o=t)));const $=E?f?V:B:0;let I=!1;return(0,k.gx)((()=>{i(13,I=(0,F.Yl)(n)&&r.length>=n.maxMessagesInLS)})),t.$$set=t=>{"theme"in t&&i(0,c=t.theme),"markdown"in t&&i(1,d=t.markdown),"useMarkdown"in t&&i(2,h=t.useMarkdown),"outputBus"in t&&i(3,p=t.outputBus),"onHorizontalMoveChange"in t&&i(4,u=t.onHorizontalMoveChange),"isMobile"in t&&i(5,f=t.isMobile),"onSuggestClick"in t&&i(6,m=t.onSuggestClick),"suggests"in t&&i(7,g=t.suggests),"page"in t&&i(8,y=t.page),"aliceState"in t&&i(9,v=t.aliceState),"onDivClick"in t&&i(10,b=t.onDivClick),"onMessageClick"in t&&i(11,_=t.onMessageClick),"isSuggestGreetings"in t&&i(12,w=t.isSuggestGreetings)},t.$$.update=()=>{2097152&t.$$.dirty&&(i(14,n=o.currentChat),a(),a=(0,x.LdU)(n,(t=>i(20,s=t)))),1048576&t.$$.dirty&&i(15,r=s.messages)},[c,d,h,p,u,f,m,g,y,v,b,_,w,I,n,r,C,E,S,$,s,o]}class wu extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,ku,xu,x.N8,{theme:0,markdown:1,useMarkdown:2,outputBus:3,onHorizontalMoveChange:4,isMobile:5,onSuggestClick:6,suggests:7,page:8,aliceState:9,onDivClick:10,onMessageClick:11,isSuggestGreetings:12},vu)}}const Cu=wu,Eu='<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g transform="translate(4, 4)">\n        <circle class="yamb-oknyx__arrow-circle" cx="16" cy="16" r="16" fill="none"/>\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0001 11.8005L22.6001 17.4005L24.0001 16.0005L16.0001 8.00049L8.00006 16.0005L9.40006 17.4005L15.0001 11.8005L15.0001 24.0005L17.0001 24.0005L17.0001 11.8005Z" fill="white"/>\n    </g>\n</svg>\n',Su="M 13.35 28 C 13.35 30.1809 13.8265 32.2504 14.6812 34.1102 C 15.7181 36.3666 17.3115 38.3142 19.2856 39.7774 C 21.721 41.5824 24.7358 42.65 27.9996 42.65 C 31.2351 42.65 34.2258 41.6009 36.6501 39.8242 C 38.6762 38.3394 40.3066 36.3466 41.3536 34.0334 C 42.1864 32.1934 42.65 30.1508 42.65 28 C 42.65 25.8083 42.1686 23.7289 41.3057 21.8619 C 40.101 19.2553 38.1529 17.0625 35.7334 15.5556 C 33.4888 14.1576 30.8386 13.35 28 13.35 C 25.1956 13.35 22.5751 14.1381 20.3479 15.505 C 17.8609 17.0313 15.8644 19.2794 14.6502 21.9577 C 13.815 23.7999 13.35 25.8456 13.35 28 Z",$u="M 13.145 37.695 c 2.2908 2.2654 8.3997 3.6271 14.6358 3.6526 6.2361 -0.0255 12.345 -1.3872 14.6358 -3.6526 5.7016 -5.5998 -8.1452 -27.1336 -14.6231 -27.159 -6.4907 0.0255 -20.3502 21.5465 -14.6358 27.159 Z",Mu="M 18 28.5 C 18 31.25 18 31.5006 18 33 C 18 36 20 38 23 38 C 25 38 25 38 28 38 C 31 38 30.8537 38 33 38 C 36 38 38 36 38 33 C 38 31.5 38 31.25 38 28.5 C 38 25.25 38 25.0584 38 23 C 38 20 36 18 33 18 C 30.8557 18 31 18 28 18 C 25 18 24.5 18 23 18 C 20 18 18 20 18 23 C 18 25.4558 18 25.25 18 28.5 Z",Iu="M 22 23.5 C 22 26.25 22 26.5006 22 28 C 22 31 24.1889 33.4473 27 33.9158 C 27.6088 34.0173 28.0678 34 28 34 C 27.9322 34 28.3722 34.0211 29 33.9158 C 31.79 33.448 34 31 34 28 C 34 26.5 34 26.25 34 23.5 C 34 20.25 34 20.0584 34 18 C 34 15 31.8721 12.605 29 12.0857 C 28.6364 12.0199 28.2706 12 28 12 C 27.7294 12 27.3007 12.037 27 12.0857 C 24.2154 12.5361 22 15 22 18 C 22 20.4558 22 20.25 22 23.5 Z",Du="M 27 38.9552 L 27 43.0033 C 27 43.5538 27.4439 44 28 44 L 28 44 C 28.5523 44 29 43.5523 29 43.0033 L 29 38.9552 C 34.6065 38.4499 39 33.738 39 28 C 39 28 39 27 38 27 C 37 27 37 28 37 28 C 37 32.9706 32.9706 37 28 37 C 23.0294 37 19 32.9706 19 28 C 19 28 19 27 18 27 C 17 27 17 28 17 28 C 17 33.738 21.3935 38.4499 27 38.9552 Z";function Tu(t){(0,x.qOq)(t,"svelte-1y4uc1g",".yamb-oknyx-core__transform-point.svelte-1y4uc1g{transform:scale(1)}")}function Pu(t){let e,i;return{c(){e=(0,x.bi5)("path"),this.h()},l(t){e=(0,x.Evd)(t,"path",{fill:!0,d:!0,transform:!0}),(0,x.pIy)(e).forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"fill","#fff"),(0,x.Ljt)(e,"d",i=t[3][t[0]]),(0,x.Ljt)(e,"transform","translate(-28, -28)")},m(t,i){(0,x.ZMF)(t,e,i)},p(t,n){1&n&&i!==(i=t[3][t[0]])&&(0,x.Ljt)(e,"d",i)},d(t){t&&(0,x.ogt)(e)}}}function Au(t){let e,i,n,r,s,o;return{c(){e=(0,x.bi5)("g"),i=(0,x.bi5)("path"),r=(0,x.bi5)("path"),this.h()},l(t){e=(0,x.Evd)(t,"g",{transform:!0});var n=(0,x.pIy)(e);i=(0,x.Evd)(n,"path",{fill:!0,d:!0}),(0,x.pIy)(i).forEach(x.ogt),r=(0,x.Evd)(n,"path",{fill:!0,opacity:!0,d:!0}),(0,x.pIy)(r).forEach(x.ogt),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"fill","#fff"),(0,x.Ljt)(i,"d",n=t[4][t[0]]),(0,x.Ljt)(r,"fill","#fff"),(0,x.Ljt)(r,"opacity",s=t[2]?1:0),(0,x.Ljt)(r,"d",o=Du),(0,x.Ljt)(e,"transform","translate(-28, -28)")},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i),(0,x.ztY)(e,r)},p(t,e){1&e&&n!==(n=t[4][t[0]])&&(0,x.Ljt)(i,"d",n),4&e&&s!==(s=t[2]?1:0)&&(0,x.Ljt)(r,"opacity",s)},d(t){t&&(0,x.ogt)(e)}}}function ju(t){let e,i;function n(t,e){return t[1]===r.z.MICROPHONE?Au:Pu}let s=n(t),o=s(t);return{c(){e=(0,x.bi5)("g"),i=(0,x.bi5)("g"),o.c(),this.h()},l(t){e=(0,x.Evd)(t,"g",{transform:!0});var n=(0,x.pIy)(e);i=(0,x.Evd)(n,"g",{class:!0});var r=(0,x.pIy)(i);o.l(r),r.forEach(x.ogt),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","yamb-oknyx-core__transform-point svelte-1y4uc1g"),(0,x.Ljt)(e,"transform","translate(28, 28)")},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i),o.m(i,null)},p(t,[e]){s===(s=n(t))&&o?o.p(t,e):(o.d(1),o=s(t),o&&(o.c(),o.m(i,null)))},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e),o.d()}}}function Lu(t,e,i){let n,{state:s}=e,{logo:o}=e;const a={[r.U.LISTENING]:Su,[r.U.SPEAKING]:Mu,[r.U.SUSPENDED]:$u,[r.U.THINKING]:""},l={[r.U.LISTENING]:Su,[r.U.SPEAKING]:Mu,[r.U.SUSPENDED]:Iu,[r.U.THINKING]:""};return t.$$set=t=>{"state"in t&&i(0,s=t.state),"logo"in t&&i(1,o=t.logo)},t.$$.update=()=>{1&t.$$.dirty&&i(2,n=s===r.U.SUSPENDED)},[s,o,n,a,l]}class Ou extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Lu,ju,x.N8,{state:0,logo:1},Tu)}}const Fu=Ou;function Bu(t){(0,x.qOq)(t,"svelte-wkac19",".yamb-oknyx.svelte-wkac19.svelte-wkac19{-webkit-tap-highlight-color:transparent;float:right;width:70px;height:70px;padding-left:10px;outline:none}.yamb-oknyx_standalone.svelte-wkac19.svelte-wkac19{padding:0;width:50px;height:50px}.yamb-oknyx_bottom.svelte-wkac19.svelte-wkac19{padding-left:3px}.yamb-oknyx__container.svelte-wkac19.svelte-wkac19{width:70px;height:70px;background:var(--alice-oknyx-background)}.yamb-oknyx_standalone.svelte-wkac19 .yamb-oknyx__container.svelte-wkac19{width:50px;height:50px}.yamb-oknyx__svg-wrapper.svelte-wkac19.svelte-wkac19{width:55px;height:55px;position:absolute;z-index:1;margin-top:7.5px;margin-left:7.5px}.yamb-oknyx_state_listening.svelte-wkac19:not(.yamb-oknyx_standalone) .yamb-oknyx__svg-wrapper.svelte-wkac19{width:70px;height:70px;margin:0}.yamb-oknyx_standalone.svelte-wkac19 .yamb-oknyx__svg-wrapper.svelte-wkac19{margin-top:-2.5px;margin-left:2.5px}.yamb-oknyx_standalone.yamb-oknyx_state_suspended.svelte-wkac19 .yamb-oknyx__svg-wrapper.svelte-wkac19,.yamb-oknyx__arrow-wrapper.svelte-wkac19.svelte-wkac19{width:40px;height:40px;margin-top:5px;margin-left:7.5px}.yamb-oknyx__arrow-wrapper.svelte-wkac19.svelte-wkac19{cursor:pointer}.yamb-oknyx__arrow-circle{fill:var(--arrow-circle-fill)}svg.svelte-wkac19.svelte-wkac19{width:100%;height:100%;position:relative;pointer-events:none}.yamb-oknyx_state_suspended.svelte-wkac19 .yamb-oknyx__svg-wrapper.svelte-wkac19::before{opacity:0.6}.yamb-oknyx_state_listening.svelte-wkac19 .yamb-oknyx__svg-wrapper.svelte-wkac19,.yamb-oknyx_state_speaking.svelte-wkac19 .yamb-oknyx__svg-wrapper.svelte-wkac19,.yamb-oknyx_state_suspended.svelte-wkac19 .yamb-oknyx__svg-wrapper.svelte-wkac19,.yamb-oknyx_state_thinking.svelte-wkac19 .yamb-oknyx__svg-wrapper.svelte-wkac19{cursor:pointer}.yamb-oknyx_disabled.svelte-wkac19 .yamb-oknyx__svg-wrapper.svelte-wkac19{cursor:default}.yamb-oknyx_state_listening.svelte-wkac19 .yamb-oknyx__svg-wrapper.svelte-wkac19{animation:svelte-wkac19-pulse 0.3s infinite ease-in-out alternate}.yamb-oknyx__svg-wrapper.svelte-wkac19.svelte-wkac19::after{will-change:contents, animation}.yamb-oknyx_state_thinking.svelte-wkac19 .yamb-oknyx__svg-wrapper.svelte-wkac19::after{content:'';position:absolute;box-shadow:0 -11.6px #fff,\n            -10.1px 5.82px #fff,\n            10.1px 5.82px #fff;height:10px;border-radius:100%;background:transparent;left:calc(50% - 5px);top:calc(50% - 5px);width:10px;z-index:1;animation:svelte-wkac19-thinking-scale 0.3s linear,\n            svelte-wkac19-thinking 1s 0.3s infinite linear}@keyframes svelte-wkac19-thinking-scale{0%{opacity:0;transform:scale(0) rotate(0)}100%{opacity:1;transform:scale(1) rotate(180deg)}}@keyframes svelte-wkac19-thinking{0%{transform:scale(1) rotate(180deg)}100%{transform:scale(1) rotate(540deg)}}@keyframes svelte-wkac19-pulse{0%{transform:scale(1)}100%{transform:scale(1.2)}}")}function Vu(t){let e,i;return{c(){e=(0,x.bGB)("div"),i=new x.Tv0(!1),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);i=(0,x.a7E)(n,!1),n.forEach(x.ogt),this.h()},h(){i.a=null,(0,x.Ljt)(e,"class","yamb-oknyx__arrow-wrapper svelte-wkac19")},m(t,n){(0,x.ZMF)(t,e,n),i.m(Eu,e)},p:x.ZTd,i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e)}}}function zu(t){let e,i,n,r,s,o,a;return o=new Fu({props:{logo:t[1],state:t[2]}}),{c(){e=(0,x.bGB)("div"),i=(0,x.bi5)("svg"),n=(0,x.bi5)("g"),r=(0,x.bi5)("g"),s=(0,x.bi5)("circle"),(0,x.YCL)(o.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var a=(0,x.pIy)(e);i=(0,x.Evd)(a,"svg",{viewBox:!0,class:!0});var l=(0,x.pIy)(i);n=(0,x.Evd)(l,"g",{transform:!0,class:!0});var c=(0,x.pIy)(n);r=(0,x.Evd)(c,"g",{transform:!0});var d=(0,x.pIy)(r);s=(0,x.Evd)(d,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),(0,x.pIy)(s).forEach(x.ogt),(0,x.wOw)(o.$$.fragment,d),d.forEach(x.ogt),c.forEach(x.ogt),l.forEach(x.ogt),a.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(s,"cx","28"),(0,x.Ljt)(s,"cy","28"),(0,x.Ljt)(s,"r","28"),(0,x.Ljt)(s,"fill",t[0]),(0,x.Ljt)(r,"transform","translate(-28, -28)"),(0,x.Ljt)(n,"transform","translate(35, 35)"),(0,x.Ljt)(n,"class","yamb-oknyx__circle"),(0,x.Ljt)(i,"viewBox","0 0 70 70"),(0,x.Ljt)(i,"class","svelte-wkac19"),(0,x.Ljt)(e,"class","yamb-oknyx__svg-wrapper svelte-wkac19")},m(t,l){(0,x.ZMF)(t,e,l),(0,x.ztY)(e,i),(0,x.ztY)(i,n),(0,x.ztY)(n,r),(0,x.ztY)(r,s),(0,x.yef)(o,r,null),a=!0},p(t,e){(!a||1&e)&&(0,x.Ljt)(s,"fill",t[0]);const i={};2&e&&(i.logo=t[1]),4&e&&(i.state=t[2]),o.$set(i)},i(t){a||((0,x.Ui)(o.$$.fragment,t),a=!0)},o(t){(0,x.etI)(o.$$.fragment,t),a=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(o)}}}function Nu(t){let e,i,n,s,o,a,l,c,d,h;const p=[zu,Vu],u=[];function f(t,e){return!t[5]||t[4].isEmpty?0:1}return n=f(t),s=u[n]=p[n](t),{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),s.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0,"aria-label":!0,tabindex:!0,role:!0});var n=(0,x.pIy)(e);i=(0,x.vT0)(n,"DIV",{class:!0});var r=(0,x.pIy)(i);s.l(r),r.forEach(x.ogt),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","yamb-oknyx__container svelte-wkac19"),(0,x.Ljt)(e,"class",o="yamb-oknyx yamb-oknyx_state_"+t[2]+" yamb-oknyx_logo_"+t[1]+" svelte-wkac19"),(0,x.Ljt)(e,"aria-label",a=t[7](t[2])),(0,x.Ljt)(e,"tabindex","0"),(0,x.Ljt)(e,"role","button"),(0,x.VHj)(e,"yamb-oknyx_bottom",t[3]),(0,x.VHj)(e,"yamb-oknyx_standalone",t[5]),(0,x.czc)(e,"--arrow-circle-fill",t[1]===r.z.ALICE?"#7A55FF":"#4E66FE")},m(r,s){(0,x.ZMF)(r,e,s),(0,x.ztY)(e,i),u[n].m(i,null),c=!0,d||(h=[(0,x.TVh)(l=cp.call(null,e)),(0,x.oLt)(e,"accessibleclick",t[8]),(0,x.oLt)(e,"touchend",(0,x.AT7)(t[8]),{passive:!1})],d=!0)},p(t,[l]){let d=n;n=f(t),n===d?u[n].p(t,l):((0,x.dvw)(),(0,x.etI)(u[d],1,1,(()=>{u[d]=null})),(0,x.gbL)(),s=u[n],s?s.p(t,l):(s=u[n]=p[n](t),s.c()),(0,x.Ui)(s,1),s.m(i,null)),(!c||6&l&&o!==(o="yamb-oknyx yamb-oknyx_state_"+t[2]+" yamb-oknyx_logo_"+t[1]+" svelte-wkac19"))&&(0,x.Ljt)(e,"class",o),(!c||4&l&&a!==(a=t[7](t[2])))&&(0,x.Ljt)(e,"aria-label",a),(!c||14&l)&&(0,x.VHj)(e,"yamb-oknyx_bottom",t[3]),(!c||38&l)&&(0,x.VHj)(e,"yamb-oknyx_standalone",t[5]),2&l&&(0,x.czc)(e,"--arrow-circle-fill",t[1]===r.z.ALICE?"#7A55FF":"#4E66FE")},i(t){c||((0,x.Ui)(s),c=!0)},o(t){(0,x.etI)(s),c=!1},d(t){t&&(0,x.ogt)(e),u[n].d(),d=!1,(0,x.j7q)(h)}}}function Ru(t,e,i){let n,{color:s}=e,{logo:o}=e,{state:a}=e,{onClick:l}=e,{isBottomChat:c=!1}=e;const{isStandaloneBuild:d,inputStore:h}=(0,M.Mn)();(0,x.FIv)(t,h,(t=>i(4,n=t)));const p=(0,k.fw)(zt.el),u=null==p?void 0:p.submitTextInInput;return t.$$set=t=>{"color"in t&&i(0,s=t.color),"logo"in t&&i(1,o=t.logo),"state"in t&&i(2,a=t.state),"onClick"in t&&i(9,l=t.onClick),"isBottomChat"in t&&i(3,c=t.isBottomChat)},[s,o,a,c,n,d,h,t=>t===r.U.SUSPENDED?"Алиса, начни слушать":"Алиса, стоп",()=>{!n.isEmpty&&u?u():l()},l]}class Uu extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Ru,Nu,x.N8,{color:0,logo:1,state:2,onClick:9,isBottomChat:3},Bu)}}const Hu=Uu;var qu=__webpack_require__(1248),Gu=__webpack_require__.n(qu);const Zu=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 3.5.4","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":178,"w":2000,"h":2000,"ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"sr":1.03,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[110.13,-0.44],[40.58,39.95],[-114.68,0.56],[100.66,-99.36]],"o":[[-110.13,-0.44],[-100.79,-99.22],[114.4,0.56],[-40.5,39.98]],"v":[[-0.97,268.12],[-259.7,203.75],[-0.86,-276.4],[257.7,203.75]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-195.98]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":313,"st":-275.98,"bm":16},{"ddd":0,"ind":2,"ty":4,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[999.85,1000.58,0]},"a":{"a":0,"k":[960,540,0]},"s":{"a":0,"k":[133,133,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.478430986404,0.33333298564,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":30.54},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":313,"st":-76,"bm":0},{"ddd":0,"ind":3,"ty":4,"tt":1,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-145,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[-30]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":97,"s":[-50]},{"t":137,"s":[-83.07]}]},"p":{"a":1,"k":[{"i":{"x":0.83,"y":0.91},"o":{"x":0.17,"y":0.17},"t":-47,"s":[722.7,1044.3,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.7,"y":0.51},"o":{"x":0.17,"y":0.27},"t":0,"s":[1990,300,0],"to":[0,0,0],"ti":[206,167.08,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.31,"y":0.32},"t":97,"s":[1185,792,0],"to":[-237.26,-192.43,0],"ti":[0,0,0]},{"t":172,"s":[680,-300,0]}]},"a":{"a":0,"k":[1190,440,0]},"s":{"a":0,"k":[231.52,245.28,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"gf","o":{"a":0,"k":100},"r":1,"bm":0,"g":{"p":5,"k":{"a":0,"k":[0,0.33,1,0.76,0.13,0.27,0.87,0.84,0.27,0.2,0.73,0.91,0.48,0.32,0.48,0.96,1,0.44,0.22,1,0,1,0.25,1,0.5,1,0.75,0.5,1,0]}},"s":{"a":0,"k":[333.44,22.96]},"e":{"a":0,"k":[-164.73,25.29]},"t":2,"h":{"a":0,"k":0},"a":{"a":0,"k":0}},{"ty":"tr","p":{"a":0,"k":[993.16,446.09]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":313,"st":-76,"bm":0},{"ddd":0,"ind":4,"ty":4,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[999.85,1000.58,0]},"a":{"a":0,"k":[960,540,0]},"s":{"a":0,"k":[133,133,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.443137258291,0.215686276555,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":313,"st":-76,"bm":0}],"markers":[]}'),Yu=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 3.5.4","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":59,"w":2000,"h":2000,"ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":58,"s":[0]},{"t":145,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":58,"s":[650,650]},{"t":145,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":58,"op":59,"st":-284.98,"bm":16},{"ddd":0,"ind":2,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":95,"s":[0]},{"t":182,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":95,"s":[650,650]},{"t":182,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":95,"op":95.62,"st":-247.98,"bm":16},{"ddd":0,"ind":3,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":125,"s":[0]},{"t":212,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":125,"s":[650,650]},{"t":212,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":125,"op":125.62,"st":-217.98,"bm":16},{"ddd":0,"ind":4,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":160,"s":[0]},{"t":247,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":160,"s":[650,650]},{"t":247,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":160,"op":160.62,"st":-182.98,"bm":16},{"ddd":0,"ind":5,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":197,"s":[0]},{"t":284,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":197,"s":[650,650]},{"t":284,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":197,"op":197.62,"st":-145.98,"bm":16},{"ddd":0,"ind":6,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":227,"s":[0]},{"t":314,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":227,"s":[650,650]},{"t":314,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":227,"op":227.62,"st":-115.98,"bm":16},{"ddd":0,"ind":7,"ty":4,"sr":1.03,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.68,"y":0.43},"o":{"x":0.37,"y":0},"t":0,"s":[1000.08,999.71,0],"to":[0,0,0],"ti":[-136.32,5.42,0]},{"i":{"x":0.65,"y":0.66},"o":{"x":0.32,"y":0.31},"t":12.97,"s":[1108.08,819.71,0],"to":[91.38,-3.63,0],"ti":[-3.56,-65.07,0]},{"i":{"x":0.64,"y":0.7},"o":{"x":0.31,"y":0.35},"t":19.86,"s":[1244.44,990.93,0],"to":[3.56,65.07,0],"ti":[86.4,11.56,0]},{"i":{"x":0.59,"y":1},"o":{"x":0.27,"y":0.58},"t":27.42,"s":[1120.66,1147.92,0],"to":[-96.25,-12.87,0],"ti":[0,0,0]},{"i":{"x":0.48,"y":0.48},"o":{"x":0.31,"y":0.31},"t":45,"s":[1000.08,999.71,0],"to":[0,0,0],"ti":[0,0,0]},{"t":58,"s":[1000.08,999.71,0]}]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":1,"k":[{"i":{"x":[0.54,0.54,0.54],"y":[1,1,1]},"o":{"x":[0.21,0.21,0.21],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"i":{"x":[0.61,0.61,0.61],"y":[1,1,1]},"o":{"x":[0.28,0.28,0.28],"y":[0,0,0]},"t":21,"s":[60,60,100]},{"i":{"x":[0.63,0.63,0.63],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.4],"y":[0,0,0]},"t":45,"s":[110,110,100]},{"t":58,"s":[110,110,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[1]},"o":{"x":[0.17],"y":[0]},"t":53,"s":[0]},{"t":54,"s":[0],"h":1},{"t":55,"s":[0],"h":1}]}},{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":28,"s":[400]},{"i":{"x":[0.83],"y":[1]},"o":{"x":[0.17],"y":[0]},"t":53,"s":[400]},{"t":54,"s":[329],"h":1},{"t":55,"s":[200],"h":1}]}},{"ty":0,"v":{"a":0,"k":1}},{"ty":0,"v":{"a":1,"k":[{"t":54,"s":[0.98],"h":1},{"t":55,"s":[0.9],"h":1}]}},{"ty":7,"v":{"a":0,"k":7}}]},{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":1,"k":[{"i":{"x":0.83,"y":0.83},"o":{"x":0.17,"y":0},"t":0,"s":[{"i":[[110.13,-0.44],[45.84,11.04],[20.29,19.98],[-62.97,107.56],[-57.34,0.28],[-62.92,-107.55],[50.33,-49.68]],"o":[[-55.06,-0.22],[-45.84,-11.04],[-50.4,-49.61],[62.97,-107.56],[57.2,0.28],[62.92,107.55],[-40.5,39.98]],"v":[[-0.97,268.12],[-156.42,250.75],[-259.7,203.75],[-211.09,-73.32],[-0.86,-276.4],[209.07,-73.37],[257.7,203.75]],"c":true}]},{"t":16,"s":[{"i":[[45.77,0.01],[2.8,0.2],[20.34,25.88],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.1,-16.91]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-1.8,146.59],[-10.29,146.28],[-96.3,100.7],[-121.71,26.48],[-1.79,-93.42],[118.12,26.48],[104.02,83.42]],"c":true}]}]}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-195.98]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83],"y":[0.83,0.83]},"o":{"x":[0.17,0.17],"y":[0.17,0.17]},"t":21,"s":[100,100]},{"t":45,"s":[140,140]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":59,"st":-275.98,"bm":16},{"ddd":0,"ind":8,"ty":4,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[999.85,1000.58,0]},"a":{"a":0,"k":[960,540,0]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83,0.83],"y":[0.75,0.75,1]},"o":{"x":[0.51,0.51,0.17],"y":[0,0,0]},"t":0,"s":[133,133,100]},{"i":{"x":[0.6,0.6,0.83],"y":[1.54,1.54,1]},"o":{"x":[0.32,0.32,0.17],"y":[1.2,1.2,0]},"t":25,"s":[200,200,100]},{"i":{"x":[0.59,0.59,0.83],"y":[1,1,1]},"o":{"x":[0.18,0.18,0.17],"y":[0.28,0.28,0]},"t":32,"s":[207.6,207.6,100]},{"t":40,"s":[200,200,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.478430986404,0.33333298564,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":30.54},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":59,"st":-76,"bm":0},{"ddd":0,"ind":9,"ty":4,"tt":1,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-145,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[-30]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":24,"s":[-30]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":58,"s":[-72.96]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":97,"s":[-50]},{"t":137,"s":[-83.07]}]},"p":{"a":1,"k":[{"i":{"x":0.6,"y":1},"o":{"x":0.17,"y":0.17},"t":0,"s":[1887.3,431.57,0],"to":[0,0,0],"ti":[119.33,160,0]},{"i":{"x":0.83,"y":0.83},"o":{"x":0.33,"y":0},"t":24,"s":[1331.3,823.57,0],"to":[-119.33,-160,0],"ti":[0,0,0]},{"t":58,"s":[1171.3,-528.43,0]}]},"a":{"a":0,"k":[1190,440,0]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,0.83]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0.17]},"t":0,"s":[231.52,245.28,100]},{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,0.83]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0.17]},"t":24,"s":[377.52,399.96,100]},{"t":58,"s":[374.52,396.78,100]}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"gf","o":{"a":0,"k":100},"r":1,"bm":0,"g":{"p":5,"k":{"a":0,"k":[0,0.33,1,0.76,0.13,0.27,0.87,0.84,0.27,0.2,0.73,0.91,0.48,0.32,0.48,0.96,1,0.44,0.22,1,0,1,0.25,1,0.5,1,0.75,0.5,1,0]}},"s":{"a":0,"k":[333.44,22.96]},"e":{"a":0,"k":[-164.73,25.29]},"t":2,"h":{"a":0,"k":0},"a":{"a":0,"k":0}},{"ty":"tr","p":{"a":0,"k":[993.16,446.09]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":313,"st":-76,"bm":0},{"ddd":0,"ind":10,"ty":4,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[999.85,1000.58,0]},"a":{"a":0,"k":[960,540,0]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83,0.83],"y":[0.75,0.75,1]},"o":{"x":[0.51,0.51,0.17],"y":[0,0,0]},"t":0,"s":[133,133,100]},{"i":{"x":[0.6,0.6,0.83],"y":[1.54,1.54,1]},"o":{"x":[0.32,0.32,0.17],"y":[1.2,1.2,0]},"t":25,"s":[200,200,100]},{"i":{"x":[0.59,0.59,0.83],"y":[1,1,1]},"o":{"x":[0.18,0.18,0.17],"y":[0.28,0.28,0]},"t":32,"s":[207.6,207.6,100]},{"t":40,"s":[200,200,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.443137254902,0.21568627451,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":59,"st":-76,"bm":0}],"markers":[{"tm":205,"cm":"","dr":0}]}'),Wu=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 3.5.4","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":77,"w":2000,"h":2000,"ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-248,"s":[0]},{"t":-161,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-248,"s":[650,650]},{"t":-161,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":-160.62,"op":-160,"st":-590.98,"bm":16},{"ddd":0,"ind":2,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-211,"s":[0]},{"t":-124,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-211,"s":[650,650]},{"t":-124,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":-123.62,"op":-123,"st":-553.98,"bm":16},{"ddd":0,"ind":3,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-181,"s":[0]},{"t":-94,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-181,"s":[650,650]},{"t":-94,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":-93.62,"op":-93,"st":-523.98,"bm":16},{"ddd":0,"ind":4,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-146,"s":[0]},{"t":-59,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-146,"s":[650,650]},{"t":-59,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":-58.62,"op":-58,"st":-488.98,"bm":16},{"ddd":0,"ind":5,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-109,"s":[0]},{"t":-22,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-109,"s":[650,650]},{"t":-22,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":-21.62,"op":-21,"st":-451.98,"bm":16},{"ddd":0,"ind":6,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-79,"s":[0]},{"t":8,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-79,"s":[650,650]},{"t":8,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":9,"st":-421.98,"bm":16},{"ddd":0,"ind":7,"ty":4,"sr":1.03,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.69,"y":0.69},"o":{"x":0.36,"y":0},"t":0,"s":[1000.08,999.71,0],"to":[0,0,0],"ti":[94.63,-2.95,0]},{"i":{"x":0.69,"y":1},"o":{"x":0.35,"y":0.14},"t":17.05,"s":[910.77,1141.89,0],"to":[-94.63,2.95,0],"ti":[-1.7,97.43,0]},{"i":{"x":0.76,"y":0.76},"o":{"x":0.42,"y":0},"t":25.21,"s":[780.3,993.43,0],"to":[1.7,-97.43,0],"ti":[-83.76,3.26,0]},{"i":{"x":0.21,"y":1},"o":{"x":0.25,"y":1},"t":36.29,"s":[900.24,835.26,0],"to":[83.77,-3.26,0],"ti":[0,0,0]},{"t":76,"s":[1000.08,999.71,0]}]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":1,"k":[{"i":{"x":[0.67,0.67,0.68],"y":[1.09,1.09,7.29]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":0,"s":[110,110,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.32,0.32,0.27],"y":[0.18,0.18,-8.88]},"t":28,"s":[60,60,100]},{"i":{"x":[0.4,0.4,0.4],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,0]},"t":76,"s":[100,100,100]},{"i":{"x":[0.4,0.4,0.4],"y":[1,1,1]},"o":{"x":[0.6,0.6,0.6],"y":[0,0,0]},"t":126,"s":[100,100,100]},{"t":138,"s":[0,0,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}},{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":28,"s":[400]},{"t":53,"s":[400]}]}},{"ty":0,"v":{"a":0,"k":1}},{"ty":0,"v":{"a":0,"k":0.98}},{"ty":7,"v":{"a":0,"k":7}}]},{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":1,"k":[{"i":{"x":0.83,"y":1},"o":{"x":0.17,"y":0.17},"t":28,"s":[{"i":[[45.77,0.01],[2.8,0.2],[20.34,25.88],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.1,-16.91]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-1.8,146.59],[-10.29,146.28],[-96.3,100.7],[-121.71,26.48],[-1.79,-93.42],[118.12,26.48],[104.02,83.42]],"c":true}]},{"t":53,"s":[{"i":[[110.13,-0.44],[45.84,11.04],[20.29,19.98],[-62.97,107.56],[-57.34,0.28],[-62.92,-107.55],[50.33,-49.68]],"o":[[-55.06,-0.22],[-45.84,-11.04],[-50.4,-49.61],[62.97,-107.56],[57.2,0.28],[62.92,107.55],[-40.5,39.98]],"v":[[-0.97,268.12],[-156.42,250.75],[-259.7,203.75],[-211.09,-73.32],[-0.86,-276.4],[209.07,-73.37],[257.7,203.75]],"c":true}]}]}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-195.98]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83],"y":[0.83,0.83]},"o":{"x":[0.17,0.17],"y":[0.17,0.17]},"t":0,"s":[140,140]},{"t":24,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":77,"st":-581.98,"bm":16},{"ddd":0,"ind":8,"ty":4,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.49},"t":-1527,"s":[999.85,1000.58,0],"to":[-6.67,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":-1490,"s":[959.85,1000.58,0],"to":[6.67,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.83,"y":1},"o":{"x":0.33,"y":0},"t":-1439,"s":[1039.85,1000.58,0],"to":[6.67,0,0],"ti":[13.33,0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.48},"t":-1402,"s":[999.85,1000.58,0],"to":[-13.33,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":-1365,"s":[959.85,1000.58,0],"to":[6.67,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.62,"y":0.43},"o":{"x":0.33,"y":0},"t":-1314,"s":[1039.85,1000.58,0],"to":[6.67,0,0],"ti":[6.67,0,0]},{"t":-1277,"s":[999.85,1000.58,0]}]},"a":{"a":0,"k":[960,540,0]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,1.12]},"o":{"x":[0.6,0.6,0.6],"y":[0,0,0]},"t":-1879,"s":[0,0,100]},{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,0.83]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0.17]},"t":-1869,"s":[133,133,100]},{"i":{"x":[0.83,0.83,0.83],"y":[0.75,0.75,-6.5]},"o":{"x":[0.51,0.51,0.17],"y":[0,0,7.5]},"t":-1833,"s":[133,133,100]},{"i":{"x":[0.83,0.83,0.83],"y":[-1229.63,-1229.63,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,-0.04]},"t":-1808,"s":[200,200,100]},{"i":{"x":[0.49,0.49,0.83],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0.25,0.25,0]},"t":0,"s":[200,200,100]},{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,0.83]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0.17]},"t":25,"s":[133,133,100]},{"i":{"x":[0.4,0.4,0.4],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0]},"t":131,"s":[133,133,100]},{"t":141,"s":[0,0,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.478430983599,0.333332974303,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":57},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":77,"st":-1929,"bm":0},{"ddd":0,"ind":9,"ty":4,"tt":1,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-145,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[-89.96]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":24,"s":[-90]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":31,"s":[-56.58]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":76,"s":[-8]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":97,"s":[-50]},{"t":137,"s":[-83.07]}]},"p":{"a":1,"k":[{"i":{"x":0.61,"y":1},"o":{"x":0.17,"y":0.17},"t":0,"s":[1171.3,-528.43,0],"to":[0,0,0],"ti":[-122,-233.33,0]},{"i":{"x":0.64,"y":1},"o":{"x":0.25,"y":0},"t":24,"s":[1067.3,663.57,0],"to":[122,233.33,0],"ti":[0,0,0]},{"t":76,"s":[1903.3,871.57,0]}]},"a":{"a":0,"k":[1190,440,0]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,0.83]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0.17]},"t":0,"s":[374.52,396.78,100]},{"t":24,"s":[209.52,221.97,100]}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"gf","o":{"a":0,"k":100},"r":1,"bm":0,"g":{"p":5,"k":{"a":0,"k":[0,0.33,1,0.76,0.13,0.27,0.87,0.84,0.27,0.2,0.73,0.91,0.48,0.32,0.48,0.96,1,0.44,0.22,1,0,1,0.25,1,0.5,1,0.75,0.5,1,0]}},"s":{"a":0,"k":[333.44,22.96]},"e":{"a":0,"k":[-164.73,25.29]},"t":2,"h":{"a":0,"k":0},"a":{"a":0,"k":0}},{"ty":"tr","p":{"a":0,"k":[993.16,446.09]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":313,"st":-76,"bm":0},{"ddd":0,"ind":10,"ty":4,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.49},"t":-1527,"s":[999.85,1000.58,0],"to":[-6.67,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":-1490,"s":[959.85,1000.58,0],"to":[6.67,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.83,"y":1},"o":{"x":0.33,"y":0},"t":-1439,"s":[1039.85,1000.58,0],"to":[6.67,0,0],"ti":[13.33,0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.48},"t":-1402,"s":[999.85,1000.58,0],"to":[-13.33,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":-1365,"s":[959.85,1000.58,0],"to":[6.67,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.62,"y":0.43},"o":{"x":0.33,"y":0},"t":-1314,"s":[1039.85,1000.58,0],"to":[6.67,0,0],"ti":[6.67,0,0]},{"t":-1277,"s":[999.85,1000.58,0]}]},"a":{"a":0,"k":[960,540,0]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,1.12]},"o":{"x":[0.6,0.6,0.6],"y":[0,0,0]},"t":-1879,"s":[0,0,100]},{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,0.83]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0.17]},"t":-1869,"s":[133,133,100]},{"i":{"x":[0.83,0.83,0.83],"y":[0.75,0.75,-6.5]},"o":{"x":[0.51,0.51,0.17],"y":[0,0,7.5]},"t":-1833,"s":[133,133,100]},{"i":{"x":[0.83,0.83,0.83],"y":[-1229.63,-1229.63,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,-0.04]},"t":-1808,"s":[200,200,100]},{"i":{"x":[0.49,0.49,0.83],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0.25,0.25,0]},"t":0,"s":[200,200,100]},{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,0.83]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0.17]},"t":25,"s":[133,133,100]},{"i":{"x":[0.4,0.4,0.4],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0]},"t":131,"s":[133,133,100]},{"t":141,"s":[0,0,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.443137254902,0.21568627451,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":77,"st":-1929,"bm":0}],"markers":[{"tm":-101,"cm":"","dr":0}]}'),Ku=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 3.5.4","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":2,"w":2000,"h":2000,"ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"sr":1.03,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}},{"ty":0,"v":{"a":0,"k":0}},{"ty":0,"v":{"a":0,"k":1}},{"ty":0,"v":{"a":0,"k":0.98}},{"ty":7,"v":{"a":0,"k":7}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[110.13,-0.44],[40.58,39.95],[-114.68,0.56],[100.66,-99.36]],"o":[[-110.13,-0.44],[-100.79,-99.22],[114.4,0.56],[-40.5,39.98]],"v":[[-0.97,268.12],[-259.7,203.75],[-0.86,-276.4],[257.7,203.75]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-195.98]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":2,"st":-229.98,"bm":16},{"ddd":0,"ind":2,"ty":4,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[999.85,1000.58,0]},"a":{"a":0,"k":[960,540,0]},"s":{"a":0,"k":[133,133,100]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.443137254902,0.21568627451,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":2,"st":-30,"bm":0}],"markers":[]}'),Xu=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 3.5.4","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":59,"w":2000,"h":2000,"ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":58,"s":[0]},{"t":145,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":58,"s":[650,650]},{"t":145,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":58,"op":59,"st":-284.98,"bm":16},{"ddd":0,"ind":2,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":95,"s":[0]},{"t":182,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":95,"s":[650,650]},{"t":182,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":95,"op":95.62,"st":-247.98,"bm":16},{"ddd":0,"ind":3,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":125,"s":[0]},{"t":212,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":125,"s":[650,650]},{"t":212,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":125,"op":125.62,"st":-217.98,"bm":16},{"ddd":0,"ind":4,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":160,"s":[0]},{"t":247,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":160,"s":[650,650]},{"t":247,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":160,"op":160.62,"st":-182.98,"bm":16},{"ddd":0,"ind":5,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":197,"s":[0]},{"t":284,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":197,"s":[650,650]},{"t":284,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":197,"op":197.62,"st":-145.98,"bm":16},{"ddd":0,"ind":6,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":227,"s":[0]},{"t":314,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":227,"s":[650,650]},{"t":314,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":227,"op":227.62,"st":-115.98,"bm":16},{"ddd":0,"ind":7,"ty":4,"sr":1.03,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.68,"y":0.43},"o":{"x":0.37,"y":0},"t":0,"s":[1000.08,999.71,0],"to":[0,0,0],"ti":[-136.32,5.42,0]},{"i":{"x":0.65,"y":0.66},"o":{"x":0.32,"y":0.31},"t":12.97,"s":[1108.08,819.71,0],"to":[91.38,-3.63,0],"ti":[-3.56,-65.07,0]},{"i":{"x":0.64,"y":0.7},"o":{"x":0.31,"y":0.35},"t":19.86,"s":[1244.44,990.93,0],"to":[3.56,65.07,0],"ti":[86.4,11.56,0]},{"i":{"x":0.59,"y":1},"o":{"x":0.27,"y":0.58},"t":27.42,"s":[1120.66,1147.92,0],"to":[-96.25,-12.87,0],"ti":[0,0,0]},{"i":{"x":0.48,"y":0.48},"o":{"x":0.31,"y":0.31},"t":45,"s":[1000.08,999.71,0],"to":[0,0,0],"ti":[0,0,0]},{"t":58,"s":[1000.08,999.71,0]}]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":1,"k":[{"i":{"x":[0.54,0.54,0.54],"y":[1,1,1]},"o":{"x":[0.21,0.21,0.21],"y":[0,0,0]},"t":0,"s":[100,100,100]},{"i":{"x":[0.61,0.61,0.61],"y":[1,1,1]},"o":{"x":[0.28,0.28,0.28],"y":[0,0,0]},"t":21,"s":[60,60,100]},{"i":{"x":[0.63,0.63,0.63],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.4],"y":[0,0,0]},"t":45,"s":[110,110,100]},{"t":58,"s":[110,110,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[1]},"o":{"x":[0.17],"y":[0]},"t":53,"s":[0]},{"t":54,"s":[0],"h":1},{"t":55,"s":[0],"h":1}]}},{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":28,"s":[400]},{"i":{"x":[0.83],"y":[1]},"o":{"x":[0.17],"y":[0]},"t":53,"s":[400]},{"t":54,"s":[329],"h":1},{"t":55,"s":[200],"h":1}]}},{"ty":0,"v":{"a":0,"k":1}},{"ty":0,"v":{"a":1,"k":[{"t":54,"s":[0.98],"h":1},{"t":55,"s":[0.9],"h":1}]}},{"ty":7,"v":{"a":0,"k":7}}]},{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":1,"k":[{"i":{"x":0.83,"y":0.83},"o":{"x":0.17,"y":0},"t":0,"s":[{"i":[[110.13,-0.44],[45.84,11.04],[20.29,19.98],[-62.97,107.56],[-57.34,0.28],[-62.92,-107.55],[50.33,-49.68]],"o":[[-55.06,-0.22],[-45.84,-11.04],[-50.4,-49.61],[62.97,-107.56],[57.2,0.28],[62.92,107.55],[-40.5,39.98]],"v":[[-0.97,268.12],[-156.42,250.75],[-259.7,203.75],[-211.09,-73.32],[-0.86,-276.4],[209.07,-73.37],[257.7,203.75]],"c":true}]},{"t":16,"s":[{"i":[[45.77,0.01],[2.8,0.2],[20.34,25.88],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.1,-16.91]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-1.8,146.59],[-10.29,146.28],[-96.3,100.7],[-121.71,26.48],[-1.79,-93.42],[118.12,26.48],[104.02,83.42]],"c":true}]}]}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-195.98]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83],"y":[0.83,0.83]},"o":{"x":[0.17,0.17],"y":[0.17,0.17]},"t":21,"s":[100,100]},{"t":45,"s":[140,140]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":59,"st":-275.98,"bm":16},{"ddd":0,"ind":8,"ty":4,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[999.85,1000.58,0]},"a":{"a":0,"k":[960,540,0]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83,0.83],"y":[0.75,0.75,1]},"o":{"x":[0.51,0.51,0.17],"y":[0,0,0]},"t":0,"s":[133,133,100]},{"i":{"x":[0.6,0.6,0.83],"y":[1.54,1.54,1]},"o":{"x":[0.32,0.32,0.17],"y":[1.2,1.2,0]},"t":25,"s":[200,200,100]},{"i":{"x":[0.59,0.59,0.83],"y":[1,1,1]},"o":{"x":[0.18,0.18,0.17],"y":[0.28,0.28,0]},"t":32,"s":[207.6,207.6,100]},{"t":40,"s":[200,200,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.443137254902,0.21568627451,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":59,"st":-76,"bm":0}],"markers":[{"tm":205,"cm":"","dr":0}]}'),Ju=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 3.5.4","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":77,"w":2000,"h":2000,"ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-248,"s":[0]},{"t":-161,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-248,"s":[650,650]},{"t":-161,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":-160.62,"op":-160,"st":-590.98,"bm":16},{"ddd":0,"ind":2,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-211,"s":[0]},{"t":-124,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-211,"s":[650,650]},{"t":-124,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":-123.62,"op":-123,"st":-553.98,"bm":16},{"ddd":0,"ind":3,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-181,"s":[0]},{"t":-94,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-181,"s":[650,650]},{"t":-94,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":-93.62,"op":-93,"st":-523.98,"bm":16},{"ddd":0,"ind":4,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-146,"s":[0]},{"t":-59,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-146,"s":[650,650]},{"t":-59,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":-58.62,"op":-58,"st":-488.98,"bm":16},{"ddd":0,"ind":5,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-109,"s":[0]},{"t":-22,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-109,"s":[650,650]},{"t":-22,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":-21.62,"op":-21,"st":-451.98,"bm":16},{"ddd":0,"ind":6,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-79,"s":[0]},{"t":8,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":-79,"s":[650,650]},{"t":8,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":9,"st":-421.98,"bm":16},{"ddd":0,"ind":7,"ty":4,"sr":1.03,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.69,"y":0.69},"o":{"x":0.36,"y":0},"t":0,"s":[1000.08,999.71,0],"to":[0,0,0],"ti":[94.63,-2.95,0]},{"i":{"x":0.69,"y":1},"o":{"x":0.35,"y":0.14},"t":17.05,"s":[910.77,1141.89,0],"to":[-94.63,2.95,0],"ti":[-1.7,97.43,0]},{"i":{"x":0.76,"y":0.76},"o":{"x":0.42,"y":0},"t":25.21,"s":[780.3,993.43,0],"to":[1.7,-97.43,0],"ti":[-83.76,3.26,0]},{"i":{"x":0.21,"y":1},"o":{"x":0.25,"y":1},"t":36.29,"s":[900.24,835.26,0],"to":[83.77,-3.26,0],"ti":[0,0,0]},{"t":76,"s":[1000.08,999.71,0]}]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":1,"k":[{"i":{"x":[0.67,0.67,0.68],"y":[1.09,1.09,7.29]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":0,"s":[110,110,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.32,0.32,0.27],"y":[0.18,0.18,-8.88]},"t":28,"s":[60,60,100]},{"i":{"x":[0.4,0.4,0.4],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,0]},"t":76,"s":[100,100,100]},{"i":{"x":[0.4,0.4,0.4],"y":[1,1,1]},"o":{"x":[0.6,0.6,0.6],"y":[0,0,0]},"t":126,"s":[100,100,100]},{"t":138,"s":[0,0,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}},{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":28,"s":[400]},{"t":53,"s":[400]}]}},{"ty":0,"v":{"a":0,"k":1}},{"ty":0,"v":{"a":0,"k":0.98}},{"ty":7,"v":{"a":0,"k":7}}]},{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":1,"k":[{"i":{"x":0.83,"y":1},"o":{"x":0.17,"y":0.17},"t":28,"s":[{"i":[[45.77,0.01],[2.8,0.2],[20.34,25.88],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.1,-16.91]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-1.8,146.59],[-10.29,146.28],[-96.3,100.7],[-121.71,26.48],[-1.79,-93.42],[118.12,26.48],[104.02,83.42]],"c":true}]},{"t":53,"s":[{"i":[[110.13,-0.44],[45.84,11.04],[20.29,19.98],[-62.97,107.56],[-57.34,0.28],[-62.92,-107.55],[50.33,-49.68]],"o":[[-55.06,-0.22],[-45.84,-11.04],[-50.4,-49.61],[62.97,-107.56],[57.2,0.28],[62.92,107.55],[-40.5,39.98]],"v":[[-0.97,268.12],[-156.42,250.75],[-259.7,203.75],[-211.09,-73.32],[-0.86,-276.4],[209.07,-73.37],[257.7,203.75]],"c":true}]}]}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-195.98]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83],"y":[0.83,0.83]},"o":{"x":[0.17,0.17],"y":[0.17,0.17]},"t":0,"s":[140,140]},{"t":24,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":77,"st":-581.98,"bm":16},{"ddd":0,"ind":8,"ty":4,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.49},"t":-1527,"s":[999.85,1000.58,0],"to":[-6.67,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":-1490,"s":[959.85,1000.58,0],"to":[6.67,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.83,"y":1},"o":{"x":0.33,"y":0},"t":-1439,"s":[1039.85,1000.58,0],"to":[6.67,0,0],"ti":[13.33,0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.48},"t":-1402,"s":[999.85,1000.58,0],"to":[-13.33,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":-1365,"s":[959.85,1000.58,0],"to":[6.67,0,0],"ti":[-6.67,0,0]},{"i":{"x":0.62,"y":0.43},"o":{"x":0.33,"y":0},"t":-1314,"s":[1039.85,1000.58,0],"to":[6.67,0,0],"ti":[6.67,0,0]},{"t":-1277,"s":[999.85,1000.58,0]}]},"a":{"a":0,"k":[960,540,0]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,1.12]},"o":{"x":[0.6,0.6,0.6],"y":[0,0,0]},"t":-1879,"s":[0,0,100]},{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,0.83]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0.17]},"t":-1869,"s":[133,133,100]},{"i":{"x":[0.83,0.83,0.83],"y":[0.75,0.75,-6.5]},"o":{"x":[0.51,0.51,0.17],"y":[0,0,7.5]},"t":-1833,"s":[133,133,100]},{"i":{"x":[0.83,0.83,0.83],"y":[-1229.63,-1229.63,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,-0.04]},"t":-1808,"s":[200,200,100]},{"i":{"x":[0.49,0.49,0.83],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0.25,0.25,0]},"t":0,"s":[200,200,100]},{"i":{"x":[0.83,0.83,0.83],"y":[0.83,0.83,0.83]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0.17]},"t":25,"s":[133,133,100]},{"i":{"x":[0.4,0.4,0.4],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0.17,0.17,0]},"t":131,"s":[133,133,100]},{"t":141,"s":[0,0,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.443137254902,0.21568627451,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":77,"st":-1929,"bm":0}],"markers":[{"tm":-101,"cm":"","dr":0}]}'),Qu=JSON.parse('{"v":"5.12.1","fr":60,"ip":0,"op":249,"w":2000,"h":2000,"ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"sr":1.03,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.47,"y":1},"o":{"x":0.32,"y":0},"t":-150,"s":[1000.08,999.71,0],"to":[0,0,0],"ti":[-136.32,5.42,0]},{"i":{"x":0.67,"y":0.96},"o":{"x":0.33,"y":0},"t":-137.03,"s":[1108.08,819.71,0],"to":[91.38,-3.63,0],"ti":[-3.56,-65.07,0]},{"i":{"x":0.7,"y":0.91},"o":{"x":0.35,"y":0.05},"t":-130.14,"s":[1244.44,990.93,0],"to":[3.56,65.07,0],"ti":[86.4,11.56,0]},{"i":{"x":0.48,"y":1},"o":{"x":0.35,"y":0.28},"t":-122.58,"s":[1120.66,1147.92,0],"to":[-96.25,-12.87,0],"ti":[0,0,0]},{"i":{"x":0.83,"y":1},"o":{"x":0.31,"y":0},"t":-105,"s":[1000.08,999.71,0],"to":[0,0,0],"ti":[1.64,0.5,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":-92,"s":[999.98,999.66,0],"to":[-127.31,0,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":-57,"s":[687.6,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":-28.49,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":0,"s":[1307.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":32,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":66.72,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":95.53,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":124.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":156,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":191,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":219.67,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":248.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":280,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":314.72,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":343.53,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":372.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":404,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":439,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":467.67,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":496.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":528,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":562.72,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":591.53,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":620.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":652,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":687,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":715.67,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":744.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[124.52,1.35,0]},{"t":776,"s":[999.98,999.66,0]}],"l":2},"a":{"a":0,"k":[-5.4,-162.38,0],"l":2},"s":{"a":1,"k":[{"i":{"x":[0.54,0.54,0.54],"y":[1,1,1]},"o":{"x":[0.21,0.21,0.21],"y":[0,0,0]},"t":-150,"s":[100,100,100]},{"i":{"x":[0.61,0.61,0.61],"y":[1,1,1]},"o":{"x":[0.28,0.28,0.28],"y":[0,0,0]},"t":-129,"s":[60,60,100]},{"i":{"x":[0.63,0.63,0.63],"y":[1,1,1]},"o":{"x":[0.4,0.4,0.4],"y":[0,0,0]},"t":-105,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":-92,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":-30,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":32,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":94,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":156,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":218,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":280,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":342,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":404,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":466,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":528.01,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":590,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":652.01,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":714.01,"s":[110,110,100]},{"t":776.01,"s":[65,65,100]}],"l":2}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[1]},"o":{"x":[0.17],"y":[0]},"t":-97,"s":[0]},{"t":-96,"s":[0],"h":1},{"t":-95,"s":[0],"h":1},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-92,"s":[0]},{"t":-49,"s":[0]}]}},{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-150,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-122,"s":[400]},{"i":{"x":[0.83],"y":[1]},"o":{"x":[0.17],"y":[0]},"t":-97,"s":[400]},{"t":-96,"s":[329],"h":1},{"t":-95,"s":[200],"h":1}]}},{"ty":0,"v":{"a":0,"k":1}},{"ty":0,"v":{"a":1,"k":[{"t":-96,"s":[0.98],"h":1},{"t":-95,"s":[0.9],"h":1},{"t":-92,"s":[0.98],"h":1}]}},{"ty":7,"v":{"a":0,"k":7}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":1,"k":[{"i":{"x":0.83,"y":0.83},"o":{"x":0.17,"y":0},"t":-150,"s":[{"i":[[110.13,-0.44],[45.84,11.04],[20.29,19.98],[-62.97,107.56],[-57.34,0.28],[-62.92,-107.55],[50.33,-49.68]],"o":[[-55.06,-0.22],[-45.84,-11.04],[-50.4,-49.61],[62.97,-107.56],[57.2,0.28],[62.92,107.55],[-40.5,39.98]],"v":[[-0.97,268.12],[-156.42,250.75],[-259.7,203.75],[-211.09,-73.32],[-0.86,-276.4],[209.07,-73.37],[257.7,203.75]],"c":true}]},{"t":-134,"s":[{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}]}]}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-195.98]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":1,"k":[{"i":{"x":[0.83,0.83],"y":[0.83,0.83]},"o":{"x":[0.17,0.17],"y":[0.17,0.17]},"t":-129,"s":[100,100]},{"t":-105,"s":[120,120]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":249,"st":-425.98,"ct":1,"bm":16},{"ddd":0,"ind":2,"ty":4,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[999.85,1000.58,0],"l":2},"a":{"a":0,"k":[960,540,0],"l":2},"s":{"a":0,"k":[200,200,100],"l":2}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.443137258291,0.215686276555,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.51},"t":-92,"s":[960.11,539.59],"to":[-7.52,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":-55,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":-27.48,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":0,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.51},"t":32,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":69,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":96.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":124,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.52},"t":156,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":193,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":220.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.5},"o":{"x":0.33,"y":0},"t":248,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.53},"t":279,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":317,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":344.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":372,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.52},"t":404,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":441,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":468.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":496,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.51},"t":528,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":565,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":592.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":620,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.52},"t":652,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":689,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":716.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":744,"s":[1005.11,539.59],"to":[0,0],"ti":[7.5,0]},{"t":776,"s":[960.11,539.59]}]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":249,"st":-226,"ct":1,"bm":0}],"markers":[{"tm":99,"cm":"","dr":0}],"props":{}}'),tf=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 3.5.4","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":93,"w":2000,"h":2000,"ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"sr":1.03,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":0,"s":[999.98,999.66,0],"to":[-127.31,0,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":35,"s":[687.6,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":63.51,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":92,"s":[1307.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":124,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":158.72,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":187.53,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":216.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":248,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":283,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":311.67,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":340.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":372,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":406.72,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":435.53,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":464.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":496,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":531,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":559.67,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":588.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":620,"s":[999.98,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":654.72,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":683.53,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":712.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[120.48,0.16,0]},{"i":{"x":0.45,"y":0.92},"o":{"x":0,"y":0},"t":744,"s":[999.95,999.66,0],"to":[-120.48,-0.15,0],"ti":[0.33,-19.25,0]},{"i":{"x":0.66,"y":0.73},"o":{"x":0.45,"y":0.06},"t":779,"s":[687.1,1039.2,0],"to":[-0.33,19.25,0],"ti":[-108.32,0,0]},{"i":{"x":0.55,"y":0.94},"o":{"x":0.27,"y":0.22},"t":807.67,"s":[999.98,1076.74,0],"to":[144.31,0,0],"ti":[-0.83,20.28,0]},{"i":{"x":0.85,"y":0.79},"o":{"x":0.4,"y":0.06},"t":836.26,"s":[1306.87,1041.21,0],"to":[0.83,-20.28,0],"ti":[124.52,1.35,0]},{"t":868,"s":[999.98,999.66,0]}]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":1,"k":[{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":0,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":62,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":124,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":186,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":248,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":310,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":372,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":434,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":496,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":558,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":620.01,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":682,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":744.01,"s":[65,65,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":806.01,"s":[110,110,100]},{"t":868.01,"s":[65,65,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[0]},{"t":43,"s":[0]}]}},{"ty":0,"v":{"a":0,"k":200}},{"ty":0,"v":{"a":0,"k":1}},{"ty":0,"v":{"a":0,"k":0.98}},{"ty":7,"v":{"a":0,"k":7}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-195.98]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":93,"st":-333.98,"bm":16},{"ddd":0,"ind":2,"ty":4,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[999.85,1000.58,0]},"a":{"a":0,"k":[960,540,0]},"s":{"a":0,"k":[200,200,100]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.443137258291,0.215686276555,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.51},"t":0,"s":[960.11,539.59],"to":[-7.52,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":37,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":64.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":92,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.51},"t":124,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":161,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":188.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":216,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.52},"t":248,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":285,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":312.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.5},"o":{"x":0.33,"y":0},"t":340,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.53},"t":371,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":409,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":436.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":464,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.52},"t":496,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":533,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":560.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":588,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.51},"t":620,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":657,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":684.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":712,"s":[1005.11,539.59],"to":[0,0],"ti":[15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0.52},"t":744,"s":[960.11,539.59],"to":[-15.02,0],"ti":[0,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":781,"s":[915,539.59],"to":[0,0],"ti":[-15.02,0]},{"i":{"x":0.67,"y":1},"o":{"x":0.33,"y":0},"t":808.52,"s":[960.11,539.59],"to":[15.02,0],"ti":[0,0]},{"i":{"x":0.66,"y":0.48},"o":{"x":0.33,"y":0},"t":836,"s":[1005.11,539.59],"to":[0,0],"ti":[7.5,0]},{"t":868,"s":[960.11,539.59]}]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[120,120]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":93,"st":-134,"bm":0}],"markers":[{"tm":191,"cm":"","dr":0}]}'),ef=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 3.5.4","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":248,"w":2000,"h":2000,"ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[0]},{"t":87,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":0,"s":[650,650]},{"t":87,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":88,"st":-342.98,"bm":16},{"ddd":0,"ind":2,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":37,"s":[0]},{"t":124,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":37,"s":[650,650]},{"t":124,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":37,"op":125,"st":-305.98,"bm":16},{"ddd":0,"ind":3,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":67,"s":[0]},{"t":154,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":67,"s":[650,650]},{"t":154,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":67,"op":155,"st":-275.98,"bm":16},{"ddd":0,"ind":4,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":102,"s":[0]},{"t":189,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":102,"s":[650,650]},{"t":189,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":102,"op":190,"st":-240.98,"bm":16},{"ddd":0,"ind":5,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":139,"s":[0]},{"t":226,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":139,"s":[650,650]},{"t":226,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":139,"op":227,"st":-203.98,"bm":16},{"ddd":0,"ind":6,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":169,"s":[0]},{"t":256,"s":[8]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.85,0.85],"y":[1,1]},"o":{"x":[0.82,0.82],"y":[0,0]},"t":169,"s":[650,650]},{"t":256,"s":[100,100]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":169,"op":248,"st":-173.98,"bm":16},{"ddd":0,"ind":7,"ty":4,"sr":1.03,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.75,"y":0.75},"o":{"x":0.31,"y":0.31},"t":0,"s":[1000.08,999.71,0],"to":[0,0,0],"ti":[0,0,0]},{"t":248,"s":[1000.08,999.71,0]}]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":1,"k":[{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":0,"s":[110,110,100]},{"i":{"x":[0.63,0.63,0.63],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":62,"s":[160,160,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":124,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":124,"s":[110,110,100]},{"i":{"x":[0.5,0.5,0.5],"y":[1,1,1]},"o":{"x":[0.5,0.5,0.5],"y":[0,0,0]},"t":186,"s":[160,160,100]},{"t":248,"s":[110,110,100]}]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":31.4,"s":[150]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":62,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":93.4,"s":[150]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":124,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":124,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":155.4,"s":[150]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":186,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":217.4,"s":[150]},{"t":248,"s":[0]}]}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0.01],[2.8,0.2],[20.34,25.88],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.1,-16.91]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-1.8,146.59],[-10.29,146.28],[-96.3,100.7],[-121.71,26.48],[-1.79,-93.42],[118.12,26.48],[104.02,83.42]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-195.98]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[140,140]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":248,"st":-333.98,"bm":16},{"ddd":0,"ind":8,"ty":4,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[999.85,1000.58,0]},"a":{"a":0,"k":[960,540,0]},"s":{"a":0,"k":[200,200,100]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.443137254902,0.21568627451,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":1,"k":[{"i":{"x":[0.88,0.88],"y":[1,1]},"o":{"x":[0.61,0.61],"y":[0,0]},"t":0,"s":[120,120]},{"i":{"x":[0.83,0.83],"y":[1,1]},"o":{"x":[0.17,0.17],"y":[0,0]},"t":73.85,"s":[151,151]},{"i":{"x":[0.88,0.88],"y":[1,1]},"o":{"x":[0.61,0.61],"y":[0,0]},"t":124,"s":[120,120]},{"i":{"x":[0.83,0.83],"y":[1,1]},"o":{"x":[0.17,0.17],"y":[0,0]},"t":197.85,"s":[151,151]},{"t":248,"s":[120,120]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":248,"st":-134,"bm":0}],"markers":[{"tm":147,"cm":"","dr":0}]}'),nf=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 3.5.4","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":235,"w":2000,"h":2000,"ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":-2,"s":[8]},{"t":85,"s":[0]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.18,0.18],"y":[1,1]},"o":{"x":[0.15,0.15],"y":[0,0]},"t":-2,"s":[0,0]},{"t":85,"s":[700,700]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":86,"st":-344.98,"bm":16},{"ddd":0,"ind":2,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":37,"s":[8]},{"t":124,"s":[0]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.18,0.18],"y":[1,1]},"o":{"x":[0.15,0.15],"y":[0,0]},"t":37,"s":[0,0]},{"t":124,"s":[700,700]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":37,"op":125,"st":-305.98,"bm":16},{"ddd":0,"ind":3,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":64,"s":[8]},{"t":151,"s":[0]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.18,0.18],"y":[1,1]},"o":{"x":[0.15,0.15],"y":[0,0]},"t":64,"s":[0,0]},{"t":151,"s":[700,700]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":64,"op":152,"st":-278.98,"bm":16},{"ddd":0,"ind":4,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":123,"s":[8]},{"t":210,"s":[0]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.18,0.18],"y":[1,1]},"o":{"x":[0.15,0.15],"y":[0,0]},"t":123,"s":[0,0]},{"t":210,"s":[700,700]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":123,"op":211,"st":-219.98,"bm":16},{"ddd":0,"ind":5,"ty":4,"sr":1.03,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":162,"s":[8]},{"t":249,"s":[0]}]},"r":{"a":0,"k":0},"p":{"a":0,"k":[1000.08,999.71,0]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"ef":[{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":75}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0],[2.8,0.2],[20.33,25.89],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.12,-16.9]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-2.32,153.9],[-10.81,153.59],[-96.83,108],[-122.23,33.79],[-2.32,-86.11],[117.59,33.79],[103.49,90.72]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-5.57,-162.49]},"a":{"a":0,"k":[-2.59,33.49]},"s":{"a":1,"k":[{"i":{"x":[0.18,0.18],"y":[1,1]},"o":{"x":[0.15,0.15],"y":[0,0]},"t":162,"s":[0,0]},{"t":249,"s":[700,700]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":162,"op":235,"st":-180.98,"bm":16},{"ddd":0,"ind":7,"ty":4,"sr":1.03,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.75,"y":0.75},"o":{"x":0.31,"y":0.31},"t":0,"s":[1000.08,999.71,0],"to":[0,0,0],"ti":[0,0,0]},{"t":234,"s":[1000.08,999.71,0]}]},"a":{"a":0,"k":[-5.4,-162.38,0]},"s":{"a":1,"k":[{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":0,"s":[110,110,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":4,"s":[160,160,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":19,"s":[85,85,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":23,"s":[160,160,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,0]},"t":55,"s":[85,85,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":59,"s":[160,160,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,0]},"t":68,"s":[85,85,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":72,"s":[160,160,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":87,"s":[85,85,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":91,"s":[160,160,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,0]},"t":118,"s":[85,85,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":122,"s":[160,160,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":137,"s":[85,85,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":141,"s":[160,160,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,0]},"t":152,"s":[85,85,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":156,"s":[160,160,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,0]},"t":162,"s":[85,85,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":166,"s":[160,160,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.17,0.17,0.17],"y":[0,0,0]},"t":186,"s":[85,85,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":190,"s":[160,160,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":205,"s":[85,85,100]},{"i":{"x":[0.67,0.67,0.67],"y":[1,1,1]},"o":{"x":[0.33,0.33,0.33],"y":[0,0,0]},"t":209,"s":[160,160,100]},{"t":230,"s":[110,110,100]}]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[1]},"o":{"x":[0.17],"y":[0]},"t":-5,"s":[0]},{"t":-4,"s":[0],"h":1},{"t":-3,"s":[0],"h":1},{"t":234,"s":[0],"h":1}]}},{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[1]},"o":{"x":[0.17],"y":[0]},"t":-5,"s":[400]},{"t":-4,"s":[329],"h":1},{"t":-3,"s":[200],"h":1},{"t":234,"s":[0],"h":1}]}},{"ty":0,"v":{"a":0,"k":1}},{"ty":0,"v":{"a":1,"k":[{"t":-4,"s":[0.98],"h":1},{"t":-3,"s":[0.9],"h":1},{"t":234,"s":[0.98],"h":1}]}},{"ty":7,"v":{"a":0,"k":7}}]},{"ty":29,"en":1,"ef":[{"ty":0,"v":{"a":1,"k":[{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":0,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":4,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":19,"s":[181.5]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":23,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":55,"s":[181.5]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":59,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":68,"s":[181.5]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":72,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":87,"s":[181.5]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":91,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":118,"s":[181.5]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":122,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":137,"s":[181.5]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":141,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":152,"s":[181.5]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":156,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":162,"s":[181.5]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":166,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":186,"s":[181.5]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":190,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":205,"s":[181.5]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":209,"s":[0]},{"i":{"x":[0.83],"y":[0.83]},"o":{"x":[0.17],"y":[0.17]},"t":225,"s":[181.5]},{"t":234,"s":[0]}]}},{"ty":7,"v":{"a":0,"k":1}},{"ty":7,"v":{"a":0,"k":0}}]}],"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[45.77,0.01],[2.8,0.2],[20.34,25.88],[-0.09,28.01],[-66.14,0],[-0.09,-66.21],[9.1,-16.91]],"o":[[-2.86,0],[-34.89,-2.39],[-16.03,-20.4],[0.09,-66.21],[66.14,0],[0.09,20.61],[-20.23,37.61]],"v":[[-1.8,146.59],[-10.29,146.28],[-96.3,100.7],[-121.71,26.48],[-1.79,-93.42],[118.12,26.48],[104.02,83.42]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[1,1,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-195.98]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[100,100]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0},{"ty":"tr","p":{"a":0,"k":[-2.98,-186.1]},"a":{"a":0,"k":[-2.98,-186.1]},"s":{"a":0,"k":[140,140]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":235,"st":-333.98,"bm":16},{"ddd":0,"ind":8,"ty":4,"sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[999.85,1000.58,0]},"a":{"a":0,"k":[960,540,0]},"s":{"a":0,"k":[200,200,100]}},"ao":0,"ef":[{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":0}}]},{"ty":5,"en":1,"ef":[{"ty":0,"v":{"a":0,"k":10}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,-170.43],[170.43,0],[0,170.43],[-170.43,0]],"o":[[0,170.43],[-170.43,0],[0,-170.43],[170.43,0]],"v":[[308.59,0],[0,308.59],[-308.59,0],[0,-308.59]],"c":true}}},{"ty":"fl","c":{"a":0,"k":[0.443137254902,0.21568627451,1,1]},"o":{"a":0,"k":100},"r":1,"bm":0},{"ty":"tr","p":{"a":0,"k":[960.11,539.59]},"a":{"a":0,"k":[0,0]},"s":{"a":1,"k":[{"i":{"x":[0.21,0.21],"y":[1,1]},"o":{"x":[0.22,0.22],"y":[0,0]},"t":0,"s":[120,120]},{"i":{"x":[0.65,0.65],"y":[1,1]},"o":{"x":[0.39,0.39],"y":[0,0]},"t":32,"s":[157,157]},{"i":{"x":[0.21,0.21],"y":[1,1]},"o":{"x":[0.22,0.22],"y":[0,0]},"t":136,"s":[120,120]},{"i":{"x":[0.63,0.63],"y":[1,1]},"o":{"x":[0.39,0.39],"y":[0,0]},"t":160,"s":[157,157]},{"t":240,"s":[120,120]}]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0}}],"bm":0}],"ip":0,"op":235,"st":-134,"bm":0}],"markers":[]}');var rf=Object.defineProperty,sf=Object.defineProperties,of=Object.getOwnPropertyDescriptors,af=Object.getOwnPropertySymbols,lf=Object.prototype.hasOwnProperty,cf=Object.prototype.propertyIsEnumerable,df=(t,e,i)=>e in t?rf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,hf=(t,e)=>{for(var i in e||(e={}))lf.call(e,i)&&df(t,i,e[i]);if(af)for(var i of af(e))cf.call(e,i)&&df(t,i,e[i]);return t},pf=(t,e)=>sf(t,of(e));const uf=t=>{var e;return pf(hf({},t),{ef:null==(e=t.ef)?void 0:e.filter((t=>29!==t.ty)).map(uf)})},ff=(t,e,i)=>{switch(t){case"standby":return e?Zu:Ku;case"in":return e?Yu:Xu;case"out":return e?Wu:Ju;case"thinkingIn":return tf;case"thinking":return Qu;case"listening":return i?(t=>{var e;return pf(hf({},t),{layers:null==(e=t.layers)?void 0:e.map(uf)})})(ef):ef;case"speaking":return nf}},mf=(t,e,i)=>{var n;const r=Gu().getRegisteredAnimations().find((e=>e.name===t));return r?(i.appendChild(null==(n=r.renderer)?void 0:n.svgElement),r):((t,e,i)=>Gu().loadAnimation({renderer:"svg",name:t,animationData:e,container:i,autoplay:!1,loop:!1}))(t,e,i)},gf=(t,e,i)=>({standby:mf("standby",ff("standby",e,i),t),in:mf("in",ff("in",e,i),t),out:mf("out",ff("out",e,i),t),thinking:mf("thinking",ff("thinking",e,i),t),thinkingIn:mf("thinkingIn",ff("thinkingIn",e,i),t),listening:mf("listening",ff("listening",e,i),t),speaking:mf("speaking",ff("speaking",e,i),t)}),yf=t=>{var e;t.stop(),t.hide(),null==(e=t.renderer)||e.svgElement.classList.add("animation-hidden")},vf=t=>{var e;t.goToAndPlay(0),t.show(),null==(e=t.renderer)||e.svgElement.classList.remove("animation-hidden")},bf=(t,e)=>{const i=(t=>{switch(t){case"suspended":return"standby";case"listening":case"speaking":case"thinking":return t}})(t);return e&&e!==i?"standby"===e?"in":"suspended"===t?"out"===e?"standby":"out":"out"===e?"in":"thinking"===t?"thinkingIn"===e?"thinking":"thinkingIn":i:i},_f=t=>"in"!==t;function xf(t){(0,x.qOq)(t,"svelte-uc9g0v",".yamb-oknyx-lottie.svelte-uc9g0v{width:64px;height:64px;flex-shrink:0}.animation-hidden{display:none}")}function kf(t){let e;return{c(){e=(0,x.bGB)("div"),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0}),(0,x.pIy)(e).forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","yamb-oknyx-lottie svelte-uc9g0v")},m(i,n){(0,x.ZMF)(i,e,n),t[3](e)},p:x.ZTd,i:x.ZTd,o:x.ZTd,d(i){i&&(0,x.ogt)(e),t[3](null)}}}function wf(t,e,i){let{state:n}=e;const{isSafari:r,status:s}=(0,k.fw)(M.f1),o=s===Ft.O.PRO;let a,l,c,d;const h=()=>{const t=bf(n,c);u(t)},p=()=>{window.clearTimeout(d),d=void 0},u=t=>{l&&(c&&c!==t&&(yf(l[c]),"standby"===c&&p()),vf(l[t]),"standby"===t&&(()=>{if(d)p();else{if(o){const t=c?1e4:3e3;d=window.setTimeout(h,t)}null==l||l.standby.goToAndStop(0)}})(),c=t)};return(0,k.ev)((()=>{l&&(p(),Object.values(l).forEach((t=>{t.removeEventListener("complete",h),yf(t)})))})),t.$$set=t=>{"state"in t&&i(1,n=t.state)},t.$$.update=()=>{1&t.$$.dirty&&a&&(i(2,l=gf(a,o,r)),Object.values(l).forEach((t=>{yf(t),t.addEventListener("complete",h)}))),6&t.$$.dirty&&n&&l&&(c&&!_f(c)||h())},[a,n,l,function(t){x.VnY[t?"unshift":"push"]((()=>{a=t,i(0,a)}))}]}class Cf extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,wf,kf,x.N8,{state:1},xf)}}const Ef=Cf;function Sf(t){(0,x.qOq)(t,"svelte-13wig46",".yamb-oknyx.svelte-13wig46{display:flex;height:48px;width:48px;align-items:center;justify-content:center;transform:translateX(8px);-webkit-tap-highlight-color:transparent}.yamb-oknyx__arrow-circle{fill:var(--brand-color)}")}function $f(t){let e,i;return{c(){e=new x.Tv0(!1),i=(0,x.cSb)(),this.h()},l(t){e=(0,x.a7E)(t,!1),i=(0,x.cSb)(),this.h()},h(){e.a=i},m(t,n){e.m(Eu,t,n),(0,x.ZMF)(t,i,n)},p:x.ZTd,i:x.ZTd,o:x.ZTd,d(t){t&&((0,x.ogt)(i),e.d())}}}function Mf(t){let e,i;return e=new Ef({props:{state:t[0]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};1&i&&(n.state=t[0]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function If(t){let e,i,n,r,s,o,a;const l=[Mf,$f],c=[];function d(t,e){return t[2].isEmpty?0:1}return i=d(t),n=c[i]=l[i](t),{c(){e=(0,x.bGB)("div"),n.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0,"aria-label":!0,tabindex:!0,role:!0});var i=(0,x.pIy)(e);n.l(i),i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","yamb-oknyx svelte-13wig46"),(0,x.Ljt)(e,"aria-label",t[1]),(0,x.Ljt)(e,"tabindex","0"),(0,x.Ljt)(e,"role","button")},m(n,l){(0,x.ZMF)(n,e,l),c[i].m(e,null),s=!0,o||(a=[(0,x.TVh)(r=cp.call(null,e)),(0,x.oLt)(e,"accessibleclick",t[4]),(0,x.oLt)(e,"touchend",(0,x.AT7)(t[4]),{passive:!1})],o=!0)},p(t,[r]){let o=i;i=d(t),i===o?c[i].p(t,r):((0,x.dvw)(),(0,x.etI)(c[o],1,1,(()=>{c[o]=null})),(0,x.gbL)(),n=c[i],n?n.p(t,r):(n=c[i]=l[i](t),n.c()),(0,x.Ui)(n,1),n.m(e,null)),(!s||2&r)&&(0,x.Ljt)(e,"aria-label",t[1])},i(t){s||((0,x.Ui)(n),s=!0)},o(t){(0,x.etI)(n),s=!1},d(t){t&&(0,x.ogt)(e),c[i].d(),o=!1,(0,x.j7q)(a)}}}function Df(t,e,i){let n,r;var s;let{state:o}=e,{onClick:a}=e;const{submitTextInInput:l}=null!=(s=(0,k.fw)(zt.el))?s:{},{inputStore:c}=(0,M.Mn)();return(0,x.FIv)(t,c,(t=>i(2,r=t))),t.$$set=t=>{"state"in t&&i(0,o=t.state),"onClick"in t&&i(5,a=t.onClick)},t.$$.update=()=>{1&t.$$.dirty&&i(1,n="suspended"===o?"Алиса, начни слушать":"Алиса, стоп")},[o,n,r,c,()=>{!r.isEmpty&&l?l():a()},a]}class Tf extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Df,If,x.N8,{state:0,onClick:5},Sf)}}const Pf=Tf;function Af(t){let e,i;return e=new Hu({props:{color:t[0],logo:t[1],state:t[2],onClick:t[3],isBottomChat:t[4]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};1&i&&(n.color=t[0]),2&i&&(n.logo=t[1]),4&i&&(n.state=t[2]),8&i&&(n.onClick=t[3]),16&i&&(n.isBottomChat=t[4]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function jf(t){let e,i;return e=new Pf({props:{state:t[2],onClick:t[3]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};4&i&&(n.state=t[2]),8&i&&(n.onClick=t[3]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Lf(t){let e,i,n,r;const s=[jf,Af],o=[];return e=function(t,e){return t[5]?0:1}(t),i=o[e]=s[e](t),{c(){i.c(),n=(0,x.cSb)()},l(t){i.l(t),n=(0,x.cSb)()},m(t,i){o[e].m(t,i),(0,x.ZMF)(t,n,i),r=!0},p(t,[e]){i.p(t,e)},i(t){r||((0,x.Ui)(i),r=!0)},o(t){(0,x.etI)(i),r=!1},d(t){t&&(0,x.ogt)(n),o[e].d(t)}}}function Of(t,e,i){let{color:n}=e,{logo:r}=e,{state:s}=e,{onClick:o}=e,{isBottomChat:a=!1}=e;const{isAliceEnableNewOknyxExp:l}=(0,k.fw)(M.f1);return t.$$set=t=>{"color"in t&&i(0,n=t.color),"logo"in t&&i(1,r=t.logo),"state"in t&&i(2,s=t.state),"onClick"in t&&i(3,o=t.onClick),"isBottomChat"in t&&i(4,a=t.isBottomChat)},[n,r,s,o,a,l]}class Ff extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Of,Lf,x.N8,{color:0,logo:1,state:2,onClick:3,isBottomChat:4})}}const Bf=Ff;function Vf(t){(0,x.qOq)(t,"svelte-15l3ynd",".dialog_header.svelte-15l3ynd.svelte-15l3ynd{margin:0 17px;padding-top:17px;display:flex;flex-direction:row;align-items:center}.dialog_header__close.svelte-15l3ynd.svelte-15l3ynd{background-color:inherit;border:0;width:24px;height:24px;cursor:pointer}.dialog_header__image.svelte-15l3ynd.svelte-15l3ynd{border-radius:50%;width:32px;height:32px}.dialog_header__title.svelte-15l3ynd.svelte-15l3ynd{font-weight:500;font-size:16px;line-height:120%;flex-grow:1}.dialog_header__actions.svelte-15l3ynd.svelte-15l3ynd{margin-right:10px}.dialog_header__close_path.svelte-15l3ynd.svelte-15l3ynd{fill:#000}.dialog_header_theme_dark.svelte-15l3ynd .dialog_header__close_path.svelte-15l3ynd{fill:#fff}.dialog_header__oknyx_container.svelte-15l3ynd.svelte-15l3ynd{flex-shrink:0}")}function zf(t){let e,i,n;return i=new Bf({props:{onClick:t[1],color:t[9],state:t[5],logo:t[6]}}),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","dialog_header__oknyx_container svelte-15l3ynd")},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,e){const n={};2&e&&(n.onClick=t[1]),32&e&&(n.state=t[5]),64&e&&(n.logo=t[6]),i.$set(n)},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function Nf(t){let e,i,n,r,s,o,a,l,c,d,h,p,u,f,m,g='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="18" fill="none"><path class="dialog_header__close_path svelte-15l3ynd" opacity=".9" d="M7.25 0H10L2.75 9 10 18H7.25L0 9l7.25-9Z"></path></svg>',y=!t[8]&&zf(t);return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("button"),i.innerHTML=g,r=(0,x.DhX)(),s=(0,x.bGB)("a"),o=(0,x.bGB)("img"),l=(0,x.DhX)(),c=(0,x.bGB)("span"),d=(0,x.fLW)(t[4]),h=(0,x.DhX)(),y&&y.c(),this.h()},l(n){e=(0,x.vT0)(n,"DIV",{class:!0});var a=(0,x.pIy)(e);i=(0,x.vT0)(a,"BUTTON",{"aria-label":!0,class:!0,"data-svelte-h":!0}),"svelte-nynqke"!==(0,x.nSQ)(i)&&(i.innerHTML=g),r=(0,x.qzd)(a),s=(0,x.vT0)(a,"A",{class:!0,href:!0});var p=(0,x.pIy)(s);o=(0,x.vT0)(p,"IMG",{class:!0,src:!0,alt:!0}),p.forEach(x.ogt),l=(0,x.qzd)(a),c=(0,x.vT0)(a,"SPAN",{class:!0});var u=(0,x.pIy)(c);d=(0,x.Bno)(u,t[4]),u.forEach(x.ogt),h=(0,x.qzd)(a),y&&y.l(a),a.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"aria-label",n="Закрыть"),(0,x.Ljt)(i,"class","dialog_header__close svelte-15l3ynd"),(0,x.Ljt)(o,"class","dialog_header__image svelte-15l3ynd"),(0,x.Jn4)(o.src,a=t[3])||(0,x.Ljt)(o,"src",a),(0,x.Ljt)(o,"alt",t[4]),(0,x.Ljt)(s,"class","dialog_header__actions svelte-15l3ynd"),(0,x.Ljt)(s,"href",t[2]),(0,x.Ljt)(c,"class","dialog_header__title svelte-15l3ynd"),(0,x.Ljt)(e,"class",p=(0,x.H1I)(`dialog_header dialog_header_theme_${t[7]}`)+" svelte-15l3ynd")},m(n,a){(0,x.ZMF)(n,e,a),(0,x.ztY)(e,i),(0,x.ztY)(e,r),(0,x.ztY)(e,s),(0,x.ztY)(s,o),(0,x.ztY)(e,l),(0,x.ztY)(e,c),(0,x.ztY)(c,d),(0,x.ztY)(e,h),y&&y.m(e,null),u=!0,f||(m=(0,x.oLt)(i,"click",(0,x.AT7)((function(){(0,x.sBU)(t[0])&&t[0].apply(this,arguments)}))),f=!0)},p(i,[n]){t=i,(!u||8&n&&!(0,x.Jn4)(o.src,a=t[3]))&&(0,x.Ljt)(o,"src",a),(!u||16&n)&&(0,x.Ljt)(o,"alt",t[4]),(!u||4&n)&&(0,x.Ljt)(s,"href",t[2]),(!u||16&n)&&(0,x.rTO)(d,t[4]),t[8]?y&&((0,x.dvw)(),(0,x.etI)(y,1,1,(()=>{y=null})),(0,x.gbL)()):y?(y.p(t,n),256&n&&(0,x.Ui)(y,1)):(y=zf(t),y.c(),(0,x.Ui)(y,1),y.m(e,null)),(!u||128&n&&p!==(p=(0,x.H1I)(`dialog_header dialog_header_theme_${t[7]}`)+" svelte-15l3ynd"))&&(0,x.Ljt)(e,"class",p)},i(t){u||((0,x.Ui)(y),u=!0)},o(t){(0,x.etI)(y),u=!1},d(t){t&&(0,x.ogt)(e),y&&y.d(),f=!1,m()}}}const Rf="#7137FF",Uf="#4E66FF";function Hf(t,e,i){let{closeDialog:n}=e,{onOknyxClick:s}=e,{dialogUrl:o}=e,{dialogImageUrl:a}=e,{dialogTitle:l}=e,{state:c}=e,{logo:d}=e,{theme:h}=e,{useChat:p=!1}=e;const u=d===r.z.ALICE?Rf:Uf;return(0,k.H3)((()=>{M.xx.emit("stat",{path:"dialog",eventType:"show",customParams:{title:l}})})),t.$$set=t=>{"closeDialog"in t&&i(0,n=t.closeDialog),"onOknyxClick"in t&&i(1,s=t.onOknyxClick),"dialogUrl"in t&&i(2,o=t.dialogUrl),"dialogImageUrl"in t&&i(3,a=t.dialogImageUrl),"dialogTitle"in t&&i(4,l=t.dialogTitle),"state"in t&&i(5,c=t.state),"logo"in t&&i(6,d=t.logo),"theme"in t&&i(7,h=t.theme),"useChat"in t&&i(8,p=t.useChat)},[n,s,o,a,l,c,d,h,p,u]}class qf extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Hf,Nf,x.N8,{closeDialog:0,onOknyxClick:1,dialogUrl:2,dialogImageUrl:3,dialogTitle:4,state:5,logo:6,theme:7,useChat:8},Vf)}}const Gf=qf;function Zf(t){(0,x.qOq)(t,"svelte-1sp6f8e",".greetings-plug.svelte-1sp6f8e.svelte-1sp6f8e{display:flex;flex-wrap:wrap;padding:0 24px;gap:6px;margin-bottom:10px}.greetings-plug__ghost.svelte-1sp6f8e.svelte-1sp6f8e{border:1px solid #e6e1f5;border-radius:16px;box-sizing:border-box;height:44px}.greetings-plug_theme_dark.svelte-1sp6f8e .greetings-plug__ghost.svelte-1sp6f8e{border-color:rgba(122, 85, 255, 0.4)}.greetings-plug__ghost.svelte-1sp6f8e.svelte-1sp6f8e:nth-child(1){width:30%;margin-bottom:6px}.greetings-plug__ghost.svelte-1sp6f8e.svelte-1sp6f8e:nth-child(2){width:50%;margin-bottom:6px}.greetings-plug__ghost.svelte-1sp6f8e.svelte-1sp6f8e:nth-child(3){width:40%}.greetings-plug__ghost.svelte-1sp6f8e.svelte-1sp6f8e:nth-child(4){width:20%}")}function Yf(t){let e,i,n,r,s,o,a,l,c;return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),n=(0,x.DhX)(),r=(0,x.bGB)("div"),s=(0,x.DhX)(),o=(0,x.bGB)("div"),a=(0,x.DhX)(),l=(0,x.bGB)("div"),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var c=(0,x.pIy)(e);i=(0,x.vT0)(c,"DIV",{class:!0}),(0,x.pIy)(i).forEach(x.ogt),n=(0,x.qzd)(c),r=(0,x.vT0)(c,"DIV",{class:!0}),(0,x.pIy)(r).forEach(x.ogt),s=(0,x.qzd)(c),o=(0,x.vT0)(c,"DIV",{class:!0}),(0,x.pIy)(o).forEach(x.ogt),a=(0,x.qzd)(c),l=(0,x.vT0)(c,"DIV",{class:!0}),(0,x.pIy)(l).forEach(x.ogt),c.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","greetings-plug__ghost svelte-1sp6f8e"),(0,x.Ljt)(r,"class","greetings-plug__ghost svelte-1sp6f8e"),(0,x.Ljt)(o,"class","greetings-plug__ghost svelte-1sp6f8e"),(0,x.Ljt)(l,"class","greetings-plug__ghost svelte-1sp6f8e"),(0,x.Ljt)(e,"class",c=(0,x.H1I)(`greetings-plug greetings-plug_theme_${t[0]}`)+" svelte-1sp6f8e")},m(t,c){(0,x.ZMF)(t,e,c),(0,x.ztY)(e,i),(0,x.ztY)(e,n),(0,x.ztY)(e,r),(0,x.ztY)(e,s),(0,x.ztY)(e,o),(0,x.ztY)(e,a),(0,x.ztY)(e,l)},p(t,[i]){1&i&&c!==(c=(0,x.H1I)(`greetings-plug greetings-plug_theme_${t[0]}`)+" svelte-1sp6f8e")&&(0,x.Ljt)(e,"class",c)},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e)}}}function Wf(t,e,i){let{theme:n}=e;return t.$$set=t=>{"theme"in t&&i(0,n=t.theme)},[n]}class Kf extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Wf,Yf,x.N8,{theme:0},Zf)}}const Xf=Kf,Jf='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <circle class="input-container__text-input-send-ring" cx="12" cy="12" r="10" fill="none" />\n    <circle class="input-container__text-input-send-circle" cx="12" cy="12" r="8" fill="none" />\n    <circle class="input-container__text-input-send-hover" cx="12" cy="12" r="10" fill="none" fill-opacity="0" />\n    <path d="M13.25 12L9.25 7H12L16 12L12 17H9.25L13.25 12Z" fill="none" />\n</svg>\n';var Qf=(t=>(t.PURPLE="purple",t.BLUE="blue",t))(Qf||{});const tm=(0,a.h)((()=>{const t=document.createElement("div");try{t.contentEditable="plaintext-only"}catch(t){return!1}return"plaintext-only"===t.contentEditable}));function em(t){(0,x.qOq)(t,"svelte-223isq",".input-container.svelte-223isq.svelte-223isq{position:relative}.input-container__text-input-send.svelte-223isq.svelte-223isq{border:none;background-color:transparent;padding:0;margin:0;position:absolute;bottom:17px;right:14px;width:24px;height:24px;cursor:pointer}.input-container__text-input-send-ring{fill:var(--ring-color)}.input-container__text-input-send-circle{fill:var(--circle-color)}.input-container__text-input-send-hover{fill:var(--hover-color)}.input-container__text-input-send.svelte-223isq path{fill:var(--mark-color)}.input-container__text-input-send.svelte-223isq:hover .input-container__text-input-send-hover{fill-opacity:0.12}.input-container__text-input.svelte-223isq.svelte-223isq{display:block;padding:17px 40px 17px 20px;box-sizing:border-box;border:1px solid #e6e1f5;border-radius:16px;width:100%;font-weight:400;font-size:16px;line-height:120%;outline:none;max-height:calc(var(--lines) * 20px);overflow:scroll;-ms-overflow-style:none;scrollbar-width:none;-webkit-user-select:text;-moz-user-select:text;user-select:text}.input-container__text-input_disabled.svelte-223isq.svelte-223isq{max-height:none;background-color:var(--disabled-bg-color);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.input-container_theme_dark.svelte-223isq .input-container__text-input.svelte-223isq{border-color:rgba(122, 85, 255, 0.4)}.input-container__text-input.svelte-223isq.svelte-223isq::-webkit-scrollbar{display:none}.input-container__text-input.svelte-223isq.svelte-223isq:empty:before{content:attr(placeholder);pointer-events:none;display:block;opacity:0.25}.input-container_standalone.svelte-223isq .input-container__text-input.svelte-223isq{max-height:280px;line-height:22px;border:1px solid var(--border-color);padding:12px 16px}.input-container_standalone.input-container_mobile.svelte-223isq .input-container__text-input.svelte-223isq{max-height:196px}.input-container_standalone.svelte-223isq .input-container__text-input.svelte-223isq:focus-visible{border:2px solid var(--brand-color);padding:11px 15px}.input-container_standalone.input-container_color_blue.svelte-223isq .input-container__text-input.svelte-223isq:focus-visible{border-color:var(--main-color)}.input-container_standalone.svelte-223isq .input-container__text-input-send.svelte-223isq{bottom:13px}.input-container_standalone.svelte-223isq .input-container__text-input-send.svelte-223isq circle{fill:var(--brand-color)}.input-container_standalone.svelte-223isq .input-container__text-input-send.svelte-223isq:hover circle{fill:var(--primary-button-hover-color)}.input-container_standalone.input-container_empty.svelte-223isq .input-container__text-input-send.svelte-223isq circle{fill:var(--user-bubble-color)}.input-container_standalone.svelte-223isq .input-container__text-input-send.svelte-223isq path{fill:#fff}.input-container_standalone.input-container_empty.svelte-223isq .input-container__text-input-send.svelte-223isq path{fill:var(--text-secondary-color)}")}function im(t){let e,i,n,r;return{c(){e=(0,x.bGB)("span"),this.h()},l(t){e=(0,x.vT0)(t,"SPAN",{class:!0,contenteditable:!0,tabindex:!0,role:!0,placeholder:!0}),(0,x.pIy)(e).forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","input-container__text-input svelte-223isq"),(0,x.Ljt)(e,"contenteditable","true"),(0,x.Ljt)(e,"tabindex","0"),(0,x.Ljt)(e,"role","textbox"),(0,x.Ljt)(e,"placeholder",i=t[15]?"Как вам помочь?":"Напишите мне"),void 0===t[12]&&(0,x.P$F)((()=>t[33].call(e))),(0,x.czc)(e,"--lines",t[3]),(0,x.czc)(e,"--main-color",t[5])},m(i,s){(0,x.ZMF)(i,e,s),t[32](e),void 0!==t[12]&&(e.textContent=t[12]),n||(r=[(0,x.oLt)(e,"input",t[33]),(0,x.oLt)(e,"paste",t[20]),(0,x.oLt)(e,"keydown",t[22]),(0,x.oLt)(e,"keypress",t[21]),(0,x.oLt)(e,"input",(function(){(0,x.sBU)(t[1])&&t[1].apply(this,arguments)})),(0,x.oLt)(e,"input",t[23])],n=!0)},p(i,n){t=i,4096&n[0]&&t[12]!==e.textContent&&(e.textContent=t[12]),8&n[0]&&(0,x.czc)(e,"--lines",t[3]),32&n[0]&&(0,x.czc)(e,"--main-color",t[5])},d(i){i&&(0,x.ogt)(e),t[32](null),n=!1,(0,x.j7q)(r)}}}function nm(t){let e;return{c(){e=(0,x.bGB)("span"),this.h()},l(t){e=(0,x.vT0)(t,"SPAN",{class:!0,placeholder:!0}),(0,x.pIy)(e).forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","input-container__text-input input-container__text-input_disabled svelte-223isq"),(0,x.Ljt)(e,"placeholder","Как вам помочь?")},m(t,i){(0,x.ZMF)(t,e,i)},p:x.ZTd,d(t){t&&(0,x.ogt)(e)}}}function rm(t){let e,i,n;function r(t,e){return t[4]?nm:im}let s=r(t),o=s(t),a=!t[15]&&function(t){let e,i,n,r,s;return{c(){e=(0,x.bGB)("button"),i=new x.Tv0(!1),this.h()},l(t){e=(0,x.vT0)(t,"BUTTON",{"aria-label":!0,class:!0});var n=(0,x.pIy)(e);i=(0,x.a7E)(n,!1),n.forEach(x.ogt),this.h()},h(){i.a=null,(0,x.Ljt)(e,"aria-label",n="Отправить запрос Алисе"),(0,x.Ljt)(e,"class","input-container__text-input-send svelte-223isq"),(0,x.czc)(e,"--ring-color",t[10]),(0,x.czc)(e,"--circle-color",t[9]),(0,x.czc)(e,"--mark-color",t[8]),(0,x.czc)(e,"--hover-color",t[7])},m(n,o){(0,x.ZMF)(n,e,o),i.m(Jf,e),r||(s=(0,x.oLt)(e,"click",(0,x.AT7)(t[19])),r=!0)},p(t,i){1024&i[0]&&(0,x.czc)(e,"--ring-color",t[10]),512&i[0]&&(0,x.czc)(e,"--circle-color",t[9]),256&i[0]&&(0,x.czc)(e,"--mark-color",t[8]),128&i[0]&&(0,x.czc)(e,"--hover-color",t[7])},d(t){t&&(0,x.ogt)(e),r=!1,s()}}}(t);return{c(){e=(0,x.bGB)("div"),o.c(),i=(0,x.DhX)(),a&&a.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);o.l(n),i=(0,x.qzd)(n),a&&a.l(n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class",n="input-container input-container_theme_"+t[0]+" input-container_color_"+t[2]+" svelte-223isq"),(0,x.VHj)(e,"input-container_standalone",t[15]),(0,x.VHj)(e,"input-container_mobile",t[14]),(0,x.VHj)(e,"input-container_empty",t[6].isEmpty)},m(t,n){(0,x.ZMF)(t,e,n),o.m(e,null),(0,x.ztY)(e,i),a&&a.m(e,null)},p(t,l){s===(s=r(t))&&o?o.p(t,l):(o.d(1),o=s(t),o&&(o.c(),o.m(e,i))),t[15]||a.p(t,l),5&l[0]&&n!==(n="input-container input-container_theme_"+t[0]+" input-container_color_"+t[2]+" svelte-223isq")&&(0,x.Ljt)(e,"class",n),32773&l[0]&&(0,x.VHj)(e,"input-container_standalone",t[15]),16389&l[0]&&(0,x.VHj)(e,"input-container_mobile",t[14]),69&l[0]&&(0,x.VHj)(e,"input-container_empty",t[6].isEmpty)},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e),o.d(),a&&a.d()}}}const sm=4e3;function om(t,e,i){let n,r,s,o,a,l,c,d,h,p,u,{onSubmit:f}=e,{theme:m}=e,{outputBus:g}=e,{onChange:y}=e,{shouldFocusInput:v=!1}=e,{buttonTheme:b}=e,{isTablet:_=!1}=e,{page:w}=e,{lines:C=5}=e,{isDisabled:E=!1}=e;const{allChatsStore:S,isMobile:$,isYabroBuild:I,isStandaloneBuild:D,inputStore:T}=(0,k.fw)(M.f1);(0,x.FIv)(t,S,(t=>i(31,h=t))),(0,x.FIv)(t,T,(t=>i(6,p=t)));const{inputField:P,textContent:A}=T;(0,x.FIv)(t,P,(t=>i(11,d=t))),(0,x.FIv)(t,A,(t=>i(12,u=t)));const j=()=>T.submit(f);return(0,k.H3)((()=>{!D&&v&&setTimeout(T.focus,0),d&&tm()&&(0,x.fxP)(P,d.contentEditable="plaintext-only",d),g.emit("stat",{path:(w?w+".":"")+"keyboard_question",eventType:"show"})})),t.$$set=t=>{"onSubmit"in t&&i(24,f=t.onSubmit),"theme"in t&&i(0,m=t.theme),"outputBus"in t&&i(25,g=t.outputBus),"onChange"in t&&i(1,y=t.onChange),"shouldFocusInput"in t&&i(26,v=t.shouldFocusInput),"buttonTheme"in t&&i(2,b=t.buttonTheme),"isTablet"in t&&i(27,_=t.isTablet),"page"in t&&i(28,w=t.page),"lines"in t&&i(3,C=t.lines),"isDisabled"in t&&i(4,E=t.isDisabled)},t.$$.update=()=>{1&t.$$.dirty[0]&&i(29,n="light"===m?"#fff":"#161617"),4&t.$$.dirty[0]&&i(5,r=b===Qf.BLUE?"#4E66FF":"#7137FF"),1&t.$$.dirty[0]&&i(30,s="light"===m?"#BFBFBF":"#505050"),1073741920&t.$$.dirty[0]&&i(10,o=p.isEmpty?s:r),536871008&t.$$.dirty[0]&&i(9,a=p.isEmpty?n:r),1610612800&t.$$.dirty[0]&&i(8,l=p.isEmpty?s:n),64&t.$$.dirty[0]&&i(7,c=p.isEmpty?"none":"#000"),67108880&t.$$.dirty[0]|1&t.$$.dirty[1]&&D&&v&&void 0!==h.activeChatId&&!E&&T.focus()},[m,y,b,C,E,r,p,c,l,a,o,d,u,S,$,D,T,P,A,j,t=>{if(t.preventDefault(),t.clipboardData){const e=t.clipboardData.getData("text/plain").trim();document.execCommand("inserttext",!1,e)}},t=>{var e;(null!=(e=null==d?void 0:d.textContent)?e:"").length>=sm&&t.preventDefault()},t=>{if(t.ctrlKey||t.metaKey)switch(t.code){case"KeyB":case"KeyI":case"KeyU":t.preventDefault()}"Enter"===t.key&&(t.preventDefault(),$&&!I||_||t.shiftKey||t.ctrlKey||t.metaKey?document.execCommand("inserttext",!1,"\n"):j())},()=>{var t;const e=null!=(t=null==d?void 0:d.textContent)?t:"";""===e.trim()&&T.setText(""),e.length>sm&&T.setText(e.slice(0,sm))},f,g,v,_,w,n,s,h,function(t){x.VnY[t?"unshift":"push"]((()=>{d=t,P.set(d)}))},function(){u=this.textContent,A.set(u)}]}class am extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,om,rm,x.N8,{onSubmit:24,theme:0,outputBus:25,onChange:1,shouldFocusInput:26,buttonTheme:2,isTablet:27,page:28,lines:3,isDisabled:4},em,[-1,-1])}}const lm=am,cm='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">\n<rect width="40" height="40" rx="20" fill="currentColor" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17.5 24.875C16.8526 24.875 16.2243 24.7991 15.6251 24.6565C14.6441 25.3832 13.3033 25.8151 11.6029 25.9522C11.4805 25.9621 11.3593 25.9226 11.2662 25.8426C11.0735 25.6771 11.0514 25.3867 11.217 25.1939C11.7913 24.5252 12.1397 23.7615 12.2621 22.9029C10.8665 21.643 10 19.8838 10 17.9375C10 14.106 13.3579 11 17.5 11C21.6421 11 25 14.106 25 17.9375C25 21.769 21.6421 24.875 17.5 24.875ZM27.0002 17.9374C27.0002 22.434 23.4946 26.1069 18.9683 26.7686C20.1081 27.5128 21.499 27.9499 23.0002 27.9499C24.1465 27.9499 25.2284 27.695 26.1833 27.2433C27.052 27.7621 28.1699 28.0767 29.537 28.1871C29.6513 28.1964 29.7646 28.1595 29.8517 28.0848C30.0319 27.9301 30.0526 27.6586 29.8979 27.4784L29.8979 27.4784C29.2833 26.7624 28.9462 25.9297 28.8865 24.9805C29.5912 23.9701 30.0002 22.7667 30.0002 21.4749C30.0002 19.1881 28.7186 17.1781 26.7835 16.0261C26.9254 16.6411 27.0002 17.2805 27.0002 17.9374Z" fill="#FFB300" />\n</svg>\n',dm='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19.2071 6.20711C19.5976 5.81658 19.5976 5.18342 19.2071 4.79289C18.8166 4.40237 18.1834 4.40237 17.7929 4.79289L12 10.5858L6.20711 4.79289C5.81658 4.40237 5.18342 4.40237 4.79289 4.79289C4.40237 5.18342 4.40237 5.81658 4.79289 6.20711L10.5858 12L4.79289 17.7929C4.40237 18.1834 4.40237 18.8166 4.79289 19.2071C5.18342 19.5976 5.81658 19.5976 6.20711 19.2071L12 13.4142L17.7929 19.2071C18.1834 19.5976 18.8166 19.5976 19.2071 19.2071C19.5976 18.8166 19.5976 18.1834 19.2071 17.7929L13.4142 12L19.2071 6.20711Z" fill="currentColor" />\n</svg>\n',hm='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">\n<rect width="40" height="40" rx="20" fill="currentColor" />\n<path fill-rule="evenodd" clip-rule="evenodd" d="M20 10C18.3431 10 17 11.3431 17 13V20C17 21.6569 18.3431 23 20 23C21.6569 23 23 21.6569 23 20V13C23 11.3431 21.6569 10 20 10ZM13 20C13 19.4477 13.4477 19 14 19C14.5523 19 15 19.4477 15 20C15 22.7614 17.2386 25 20 25C22.7614 25 25 22.7614 25 20C25 19.4477 25.4477 19 26 19C26.5523 19 27 19.4477 27 20C27 23.5265 24.3923 26.4439 21 26.9291V29C21 29.5523 20.5523 30 20 30C19.4477 30 19 29.5523 19 29V26.9291C15.6077 26.4439 13 23.5265 13 20Z" fill="#FFB300"/>\n</svg>\n';function pm(t){(0,x.qOq)(t,"svelte-sx0bdj",".notifier.svelte-sx0bdj.svelte-sx0bdj{background:rgba(0, 0, 0, 0.06);border-radius:16px;padding:12px 80px 12px 14px;font-weight:500;font-size:14px;line-height:18px;position:relative}.notifier_theme_dark.svelte-sx0bdj.svelte-sx0bdj{background:rgba(255, 255, 255, 0.06)}.notifier_standalone.svelte-sx0bdj.svelte-sx0bdj{display:flex;align-items:center;gap:12px;padding:16px;background:var(--notifier-bg-color);font-size:16px;line-height:22px;font-weight:400;color:var(--text-bubble-color)}.notifier_standalone.notifier_mobile.svelte-sx0bdj.svelte-sx0bdj{font-size:14px;line-height:20px}.notifier.svelte-sx0bdj>svg{position:absolute;top:18px;left:16px}.notifier_standalone.svelte-sx0bdj>svg{position:static;width:40px;height:40px;flex-shrink:0;color:var(--notifier-circle-color)}.notifier_standalone.svelte-sx0bdj .notifier__content.svelte-sx0bdj{display:flex;flex-direction:column;align-items:flex-start;gap:2px;min-height:46px;justify-content:center;flex-grow:1}.notifier_standalone.notifier__mobile.svelte-sx0bdj .notifier__content.svelte-sx0bdj{gap:4px}.notifier__link.svelte-sx0bdj.svelte-sx0bdj{cursor:pointer}.notifier_standalone.svelte-sx0bdj .notifier__link.svelte-sx0bdj{text-decoration:none;color:var(--brand-color)}.notifier_standalone.svelte-sx0bdj .notifier__link.svelte-sx0bdj:visited{color:var(--brand-color)}.notifier_standalone.svelte-sx0bdj .notifier__link.svelte-sx0bdj:hover{color:var(--link-hover-color)}.notifier_standalone.notifier_mobile.svelte-sx0bdj .notifier__link.svelte-sx0bdj{font-weight:500;line-height:22px}.notifier__close.svelte-sx0bdj.svelte-sx0bdj{position:absolute;top:12px;right:12px;background-image:url('https://yastatic.net/s3/home/alice_popup/Close_permission_denied_v2.svg');background-repeat:no-repeat;background-position:center;background-color:initial;border:0;border-radius:50%;width:20px;height:20px;cursor:pointer;opacity:0.45}.notifier_standalone.svelte-sx0bdj .notifier__close.svelte-sx0bdj{position:static;opacity:0.8;width:24px;height:24px;flex-shrink:0;background:none;padding:0;color:var(--text-bubble-color)}.notifier_standalone.svelte-sx0bdj .notifier__close.svelte-sx0bdj:hover{opacity:0.4}")}function um(t){let e,i;return{c(){e=new x.Tv0(!1),i=(0,x.cSb)(),this.h()},l(t){e=(0,x.a7E)(t,!1),i=(0,x.cSb)(),this.h()},h(){e.a=i},m(t,n){e.m(cm,t,n),(0,x.ZMF)(t,i,n)},d(t){t&&((0,x.ogt)(i),e.d())}}}function fm(t){let e,i;return{c(){e=new x.Tv0(!1),i=(0,x.cSb)(),this.h()},l(t){e=(0,x.a7E)(t,!1),i=(0,x.cSb)(),this.h()},h(){e.a=i},m(t,n){e.m(hm,t,n),(0,x.ZMF)(t,i,n)},d(t){t&&((0,x.ogt)(i),e.d())}}}function mm(t){let e,i,n,r;return{c(){e=(0,x.bGB)("a"),i=(0,x.fLW)(t[4]),this.h()},l(n){e=(0,x.vT0)(n,"A",{class:!0,target:!0,rel:!0,href:!0});var r=(0,x.pIy)(e);i=(0,x.Bno)(r,t[4]),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","notifier__link svelte-sx0bdj"),(0,x.Ljt)(e,"target","_blank"),(0,x.Ljt)(e,"rel","noopener"),(0,x.Ljt)(e,"href",t[3])},m(s,o){(0,x.ZMF)(s,e,o),(0,x.ztY)(e,i),n||(r=(0,x.oLt)(e,"click",t[15]),n=!0)},p(t,n){16&n&&(0,x.rTO)(i,t[4]),8&n&&(0,x.Ljt)(e,"href",t[3])},d(t){t&&(0,x.ogt)(e),n=!1,r()}}}function gm(t){let e,i,n,r,s,o,a,l,c,d,h;function p(t,e){return"microphone"===t[6]?fm:"chat-limit"===t[6]?um:void 0}let u=p(t),f=u&&u(t),m=(t[3]||t[1])&&t[4]&&mm(t),g=t[9]&&function(t){let e,i;return{c(){e=new x.Tv0(!1),i=(0,x.cSb)(),this.h()},l(t){e=(0,x.a7E)(t,!1),i=(0,x.cSb)(),this.h()},h(){e.a=i},m(t,n){e.m(dm,t,n),(0,x.ZMF)(t,i,n)},d(t){t&&((0,x.ogt)(i),e.d())}}}();return{c(){e=(0,x.bGB)("div"),f&&f.c(),i=(0,x.DhX)(),n=(0,x.bGB)("div"),r=(0,x.fLW)(t[2]),s=(0,x.DhX)(),m&&m.c(),o=(0,x.DhX)(),a=(0,x.bGB)("button"),g&&g.c(),this.h()},l(l){e=(0,x.vT0)(l,"DIV",{class:!0});var c=(0,x.pIy)(e);f&&f.l(c),i=(0,x.qzd)(c),n=(0,x.vT0)(c,"DIV",{class:!0});var d=(0,x.pIy)(n);r=(0,x.Bno)(d,t[2]),s=(0,x.qzd)(d),m&&m.l(d),d.forEach(x.ogt),o=(0,x.qzd)(c),a=(0,x.vT0)(c,"BUTTON",{"aria-label":!0,class:!0});var h=(0,x.pIy)(a);g&&g.l(h),h.forEach(x.ogt),c.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(n,"class","notifier__content svelte-sx0bdj"),(0,x.Ljt)(a,"aria-label",l="Закрыть"),(0,x.Ljt)(a,"class","notifier__close svelte-sx0bdj"),(0,x.Ljt)(e,"class",c="notifier notifier_theme_"+t[7]+" svelte-sx0bdj"),(0,x.VHj)(e,"notifier_standalone",t[9]),(0,x.VHj)(e,"notifier_mobile",t[8])},m(l,c){(0,x.ZMF)(l,e,c),f&&f.m(e,null),(0,x.ztY)(e,i),(0,x.ztY)(e,n),(0,x.ztY)(n,r),(0,x.ztY)(n,s),m&&m.m(n,null),(0,x.ztY)(e,o),(0,x.ztY)(e,a),g&&g.m(a,null),d||(h=(0,x.oLt)(a,"click",(0,x.AT7)(t[16])),d=!0)},p(t,[s]){u!==(u=p(t))&&(f&&f.d(1),f=u&&u(t),f&&(f.c(),f.m(e,i))),4&s&&(0,x.rTO)(r,t[2]),(t[3]||t[1])&&t[4]?m?m.p(t,s):(m=mm(t),m.c(),m.m(n,null)):m&&(m.d(1),m=null),128&s&&c!==(c="notifier notifier_theme_"+t[7]+" svelte-sx0bdj")&&(0,x.Ljt)(e,"class",c),640&s&&(0,x.VHj)(e,"notifier_standalone",t[9]),384&s&&(0,x.VHj)(e,"notifier_mobile",t[8])},i:x.ZTd,o:x.ZTd,d(t){t&&(0,x.ogt)(e),f&&f.d(),m&&m.d(),g&&g.d(),d=!1,h()}}}function ym(t,e,i){let n,r,{onClose:s}=e,{onClick:o}=e,{text:a}=e,{href:l=""}=e,{linkText:c}=e,{statName:d}=e,{page:h}=e,{type:p}=e;const{isMobile:u,isStandaloneBuild:f,outputBus:m,themeStore:g}=(0,k.fw)(M.f1);(0,x.FIv)(t,g,(t=>i(14,r=t)));let y=`${h?h+".":""}${d}`;return(0,k.H3)((()=>{d&&m.emit("stat",{path:`${y}_notifier`,eventType:"show"})})),t.$$set=t=>{"onClose"in t&&i(0,s=t.onClose),"onClick"in t&&i(1,o=t.onClick),"text"in t&&i(2,a=t.text),"href"in t&&i(3,l=t.href),"linkText"in t&&i(4,c=t.linkText),"statName"in t&&i(5,d=t.statName),"page"in t&&i(13,h=t.page),"type"in t&&i(6,p=t.type)},t.$$.update=()=>{16384&t.$$.dirty&&i(7,n=r.theme)},[s,o,a,l,c,d,p,n,u,f,m,g,y,h,r,t=>{o&&(t.preventDefault(),o())},()=>{d&&m.emit("stat",{path:`${y}_notifier_closed`,eventType:"click"}),s()}]}class vm extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,ym,gm,x.N8,{onClose:0,onClick:1,text:2,href:3,linkText:4,statName:5,page:13,type:6},pm)}}const bm=vm;function _m(t){let e,i;return e=new bm({props:{text:"Чтобы мы могли разговаривать, разрешите в браузере микрофон",linkText:"Как настроить микрофон",href:t[3]?void 0:t[2],statName:"denied",onClose:t[1],page:t[0]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,[i]){const n={};2&i&&(n.onClose=t[1]),1&i&&(n.page=t[0]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function xm(t,e,i){let{page:n}=e,{onClose:r}=e;const{howToSetUpMicLink:s,isMobile:o}=(0,k.fw)(M.f1);return t.$$set=t=>{"page"in t&&i(0,n=t.page),"onClose"in t&&i(1,r=t.onClose)},[n,r,s,o]}class km extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,xm,_m,x.N8,{page:0,onClose:1})}}const wm=km;var Cm=__webpack_require__(7047);const Em=t=>({}),Sm=t=>({onScroll:t[0]});function $m(t){let e;const i=t[4].default,n=(0,x.nuO)(i,t,t[3],Sm);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,i){n&&n.m(t,i),e=!0},p(t,[r]){n&&n.p&&(!e||8&r)&&(0,x.kmG)(n,i,t,t[3],e?(0,x.u2N)(i,t[3],r,Em):(0,x.VOJ)(t[3]),Sm)},i(t){e||((0,x.Ui)(n,t),e=!0)},o(t){(0,x.etI)(n,t),e=!1},d(t){n&&n.d(t)}}}function Mm(t,e,i){let n,{$$slots:r={},$$scope:s}=e,{scrollableElement:o}=e,{headerHeight:a=0}=e,l=!1;const c=(0,Cm.P)((()=>{const{scrollTop:t,scrollHeight:e,offsetHeight:i}=o;l=Math.abs(e-i-t)>=5}));return(0,k.v)(Mt,{scrollTo:t=>{i(1,o.scrollTop=t,o)},scrollToBottom:()=>{i(1,o.scrollTop=o.scrollHeight,o)},scrollToElementTop:t=>{i(1,o.scrollTop=t.offsetTop-n,o)},addScrollListener:(t,e=0)=>{const i=(0,Cm.P)((()=>{requestAnimationFrame(t)}),e);return o.addEventListener("scroll",i,It),()=>o.removeEventListener("scroll",i,It)},getScrollableElementProps:()=>({offsetHeight:o.offsetHeight,scrollHeight:o.scrollHeight,scrollTop:o.scrollTop,boundingClientRect:o.getBoundingClientRect()}),getScrollWrapperProps:()=>({isScrolledFromBottom:l})}),t.$$set=t=>{"scrollableElement"in t&&i(1,o=t.scrollableElement),"headerHeight"in t&&i(2,a=t.headerHeight),"$$scope"in t&&i(3,s=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&(n=a+8)},[c,o,a,s,r]}class Im extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Mm,$m,x.N8,{scrollableElement:1,headerHeight:2})}}const Dm=Im;function Tm(t){(0,x.qOq)(t,"svelte-pwsra",".scrollbar.svelte-pwsra.svelte-pwsra{position:relative;display:flex;width:100%;margin-top:auto;min-height:0;flex-grow:1}.scrollbar__scrollable.svelte-pwsra.svelte-pwsra{display:flex;width:100%;z-index:0;position:relative;-webkit-overflow-scrolling:touch;overscroll-behavior-y:none;scrollbar-width:none;-ms-overflow-style:none;margin-right:-30px;padding-right:30px;overflow-x:hidden;overflow-y:auto}.scrollbar__scrollable.svelte-pwsra.svelte-pwsra::-webkit-scrollbar{display:none}.scrollbar_disabled.svelte-pwsra .scrollbar__scrollable.svelte-pwsra{overflow:hidden}.scrollbar_is-content-starts-top.svelte-pwsra.svelte-pwsra{margin-top:0}.scrollbar__inner.svelte-pwsra.svelte-pwsra{width:100%}.scrollbar__track.svelte-pwsra.svelte-pwsra{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;top:32px;right:0;width:12px;bottom:32px}.scrollbar__track_hidden.svelte-pwsra.svelte-pwsra{display:none}.scrollbar__thumb.svelte-pwsra.svelte-pwsra{position:relative;top:0;border-radius:2px;cursor:pointer;background:rgba(0, 0, 0, 0.15);transition:0.15s ease-out;transition-property:width, height, background, border-radius;touch-action:none;width:4px;height:0;margin:0 auto}.scrollbar_theme_dark.svelte-pwsra .scrollbar__thumb.svelte-pwsra{background:rgba(255, 255, 255, 0.25)}.scrollbar__track.svelte-pwsra:hover .scrollbar__thumb.svelte-pwsra,.scrollbar__thumb_active_yes.svelte-pwsra.svelte-pwsra{background:rgba(0, 0, 0, 0.2);border-radius:4px;width:8px}.scrollbar_theme_dark.svelte-pwsra .scrollbar__track:hover .scrollbar__thumb.svelte-pwsra{background:rgba(255, 255, 255, 0.35)}.scrollbar__body-styles{-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none}")}function Pm(t){let e;const i=t[19].default,n=(0,x.nuO)(i,t,t[23],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,i){n&&n.m(t,i),e=!0},p(t,r){n&&n.p&&(!e||8388608&r[0])&&(0,x.kmG)(n,i,t,t[23],e?(0,x.u2N)(i,t[23],r,null):(0,x.VOJ)(t[23]),null)},i(t){e||((0,x.Ui)(n,t),e=!0)},o(t){(0,x.etI)(n,t),e=!1},d(t){n&&n.d(t)}}}function Am(t){let e,i,n,r,s,o,a,l,c,d,h=t[4]&&Pm(t);return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),n=(0,x.bGB)("div"),h&&h.c(),r=(0,x.DhX)(),s=(0,x.bGB)("div"),o=(0,x.bGB)("div"),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var a=(0,x.pIy)(e);i=(0,x.vT0)(a,"DIV",{class:!0});var l=(0,x.pIy)(i);n=(0,x.vT0)(l,"DIV",{class:!0});var c=(0,x.pIy)(n);h&&h.l(c),c.forEach(x.ogt),l.forEach(x.ogt),r=(0,x.qzd)(a),s=(0,x.vT0)(a,"DIV",{class:!0});var d=(0,x.pIy)(s);o=(0,x.vT0)(d,"DIV",{class:!0}),(0,x.pIy)(o).forEach(x.ogt),d.forEach(x.ogt),a.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(n,"class","scrollbar__inner svelte-pwsra"),(0,x.Ljt)(i,"class","scrollbar__scrollable svelte-pwsra"),(0,x.Ljt)(o,"class","scrollbar__thumb svelte-pwsra"),(0,x.Ljt)(s,"class","scrollbar__track svelte-pwsra"),(0,x.VHj)(s,"scrollbar__track_hidden",!t[6]),(0,x.Ljt)(e,"class",a=(0,x.H1I)(`scrollbar scrollbar_theme_${t[0]}`)+" svelte-pwsra"),(0,x.VHj)(e,"scrollbar_disabled",t[1]),(0,x.VHj)(e,"scrollbar_is-content-starts-top",t[2])},m(a,p){(0,x.ZMF)(a,e,p),(0,x.ztY)(e,i),(0,x.ztY)(i,n),h&&h.m(n,null),t[20](i),(0,x.ztY)(e,r),(0,x.ztY)(e,s),(0,x.ztY)(s,o),t[21](o),t[22](e),l=!0,c||(d=[(0,x.oLt)(i,"scroll",t[7]),(0,x.oLt)(i,"scroll",(function(){(0,x.sBU)(t[35])&&t[35].apply(this,arguments)})),(0,x.oLt)(o,"pointerdown",t[8]),(0,x.oLt)(e,"touchstart",t[9],{passive:!0}),(0,x.oLt)(e,"touchmove",t[10],{passive:!0}),(0,x.oLt)(e,"touchend",t[11],{passive:!0})],c=!0)},p(i,r){(t=i)[4]?h?(h.p(t,r),16&r[0]&&(0,x.Ui)(h,1)):(h=Pm(t),h.c(),(0,x.Ui)(h,1),h.m(n,null)):h&&((0,x.dvw)(),(0,x.etI)(h,1,1,(()=>{h=null})),(0,x.gbL)()),(!l||64&r[0])&&(0,x.VHj)(s,"scrollbar__track_hidden",!t[6]),(!l||1&r[0]&&a!==(a=(0,x.H1I)(`scrollbar scrollbar_theme_${t[0]}`)+" svelte-pwsra"))&&(0,x.Ljt)(e,"class",a),(!l||3&r[0])&&(0,x.VHj)(e,"scrollbar_disabled",t[1]),(!l||5&r[0])&&(0,x.VHj)(e,"scrollbar_is-content-starts-top",t[2])},i(t){l||((0,x.Ui)(h),l=!0)},o(t){(0,x.etI)(h),l=!1},d(i){i&&(0,x.ogt)(e),h&&h.d(),t[20](null),t[21](null),t[22](null),c=!1,(0,x.j7q)(d)}}}function jm(t){let e,i;return e=new Dm({props:{scrollableElement:t[4],$$slots:{default:[Am,({onScroll:t})=>({35:t}),({onScroll:t})=>[0,t?16:0]]},$$scope:{ctx:t}}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};16&i[0]&&(n.scrollableElement=t[4]),8388735&i[0]|16&i[1]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}const Lm=100;function Om(t,e,i){let n,r,s,o,a,c,d,h,p,u,{$$slots:f={},$$scope:m}=e,{theme:g}=e,{shouldHideScrollbar:y=!1}=e,{onScrollStart:v}=e,{onScrollEnd:b}=e,{afterScroll:_}=e,{disableScroll:w=!1}=e,{bottomOrientOnResize:C=!1}=e,{contentStartsTop:E=!1}=e,{baseOnScroll:S=l.Z}=e,$=!1,M=!1;(0,k.H3)((()=>{I(),o=new ResizeObserver(I),o.observe(n)})),(0,k.ev)((()=>{window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",T),null==o||o.unobserve(n)}));const I=()=>{S(),u&&clearTimeout(u);const t=r.scrollHeight,e=r.offsetHeight,n=r.scrollTop;C&&p&&p!==e&&r.scrollTo(0,n-e+p),p=e,i(6,$=!y&&void 0!==e&&e<t);let o=$?e/t:0,l=0;a!==o||c!==n?(c=n,a=o,$&&(a=Math.max(a,.1),l=100*(1-a)/(t-e)),void 0!==c&&requestAnimationFrame((()=>{s&&(i(5,s.style.height=(100*a).toFixed(2)+"%",s),i(5,s.style.top=(l*c).toFixed(2)+"%",s))})),null==_||_()):null==_||_()},D=t=>{const e=t.screenY-h;i(4,r.scrollTop=d+e/a,r)},T=()=>{window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",T),document.body.classList.remove("scrollbar__body-styles"),s.classList.remove("scrollbar__thumb_active_yes")};return t.$$set=t=>{"theme"in t&&i(0,g=t.theme),"shouldHideScrollbar"in t&&i(12,y=t.shouldHideScrollbar),"onScrollStart"in t&&i(13,v=t.onScrollStart),"onScrollEnd"in t&&i(14,b=t.onScrollEnd),"afterScroll"in t&&i(15,_=t.afterScroll),"disableScroll"in t&&i(1,w=t.disableScroll),"bottomOrientOnResize"in t&&i(16,C=t.bottomOrientOnResize),"contentStartsTop"in t&&i(2,E=t.contentStartsTop),"baseOnScroll"in t&&i(17,S=t.baseOnScroll),"$$scope"in t&&i(23,m=t.$$scope)},[g,w,E,n,r,s,$,I,t=>{I(),d=r.scrollTop,h=t.screenY,document.body.classList.add("scrollbar__body-styles"),s.classList.add("scrollbar__thumb_active_yes"),window.addEventListener("pointermove",D,{passive:!0}),window.addEventListener("pointerup",T)},()=>{null==v||v(),M=!0},()=>{M&&(b&&(u=window.setTimeout(b,Lm)),M=!1)},()=>{setTimeout((()=>null==b?void 0:b()),Lm)},y,v,b,_,C,S,(t,e)=>{null==r||r.scrollTo(t,e)},f,function(t){x.VnY[t?"unshift":"push"]((()=>{r=t,i(4,r)}))},function(t){x.VnY[t?"unshift":"push"]((()=>{s=t,i(5,s)}))},function(t){x.VnY[t?"unshift":"push"]((()=>{n=t,i(3,n)}))},m]}class Fm extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Om,jm,x.AqN,{theme:0,shouldHideScrollbar:12,onScrollStart:13,onScrollEnd:14,afterScroll:15,disableScroll:1,bottomOrientOnResize:16,contentStartsTop:2,baseOnScroll:17,scrollScrollbarTo:18},Tm,[-1,-1])}get scrollScrollbarTo(){return this.$$.ctx[18]}}const Bm=Fm;function Vm(t){(0,x.qOq)(t,"svelte-ti0dlo",".alice__shortcut-text.svelte-ti0dlo.svelte-ti0dlo{margin:10px 12px 5px}.alice__shortcut-wrapper_animate-border.svelte-ti0dlo .alice__shortcut-text.svelte-ti0dlo{margin:8px 10px 5px}.alice__shortcut-wrapper_type_promo.svelte-ti0dlo .alice__shortcut-text.svelte-ti0dlo{margin-bottom:0}.alice__shortcut-img.svelte-ti0dlo.svelte-ti0dlo{margin-left:12px;position:absolute;bottom:12px}.alice__shortcut-wrapper_animate-border.svelte-ti0dlo .alice__shortcut-img.svelte-ti0dlo{margin-left:10px;bottom:10px}.alice__shortcut-wrapper_type_image.svelte-ti0dlo .alice__shortcut-img.svelte-ti0dlo{top:0;left:0;right:0;bottom:0;margin:0;background-image:var(--image);background-repeat:no-repeat;background-size:contain}.alice__shortcut-wrapper_type_promo.svelte-ti0dlo .alice__shortcut-img.svelte-ti0dlo{font-size:11px;font-weight:500;line-height:13px;color:#fff;background-color:#7a55ff;padding:2px 7px 3px 7px;border-radius:47px;bottom:12px}.alice__shortcut-subtext.svelte-ti0dlo.svelte-ti0dlo{color:#8b93a5;font-weight:400;font-size:10px;line-height:10px;margin:0 12px}.alice__shortcut-wrapper_animate-border.svelte-ti0dlo .alice__shortcut-subtext.svelte-ti0dlo{margin:0 10px}.alice__shortcut-wrapper_type_promo.svelte-ti0dlo .alice__shortcut-subtext.svelte-ti0dlo{font-size:14px;font-weight:500;line-height:16px;color:#7a55ff}.alice__shortcut-wrapper.svelte-ti0dlo.svelte-ti0dlo{width:100px;height:100px;border-radius:20px;cursor:pointer;position:relative;overflow:hidden;flex:none;order:0;flex-grow:0}.alice__shortcut-wrapper.svelte-ti0dlo.svelte-ti0dlo:first-child{margin-left:25px}.alice__shortcut-wrapper.svelte-ti0dlo.svelte-ti0dlo:last-child{margin-right:25px}.alice__shortcut-wrapper_animate-border.svelte-ti0dlo.svelte-ti0dlo{transform:translate3d(0, 0, 0)}.alice__shortcut-wrapper_animate-border.svelte-ti0dlo.svelte-ti0dlo::before{content:'';position:absolute;width:calc(100% + 26px);height:calc(100% + 26px);top:-13px;left:-13px;background:linear-gradient(#6444f8, #e88aff80);animation:svelte-ti0dlo-rotate 1.2s linear infinite}.alice__shortcut.svelte-ti0dlo.svelte-ti0dlo{position:absolute;top:0;left:0;bottom:0;right:0;background:#f1effd;border-radius:20px;font-style:normal;font-weight:500;font-size:14px;line-height:14px}.alice__shortcut-wrapper_animate-border.svelte-ti0dlo .alice__shortcut.svelte-ti0dlo{top:2px;left:2px;bottom:2px;right:2px;border-radius:18px}.alice__shortcut_theme_dark.svelte-ti0dlo.svelte-ti0dlo{background:#2f264d;color:#ffffff}@keyframes svelte-ti0dlo-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}")}function zm(t){let e,i,n,r,s,o=t[1].title+"",a=t[1].subtitle&&Rm(t);function l(t,e){return"default"===t[1].type?Hm:Um}let c=l(t),d=c(t);return{c(){e=(0,x.bGB)("div"),i=(0,x.fLW)(o),n=(0,x.DhX)(),a&&a.c(),r=(0,x.DhX)(),d.c(),s=(0,x.cSb)(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var l=(0,x.pIy)(e);i=(0,x.Bno)(l,o),l.forEach(x.ogt),n=(0,x.qzd)(t),a&&a.l(t),r=(0,x.qzd)(t),d.l(t),s=(0,x.cSb)(),this.h()},h(){(0,x.Ljt)(e,"class","alice__shortcut-text svelte-ti0dlo")},m(t,o){(0,x.ZMF)(t,e,o),(0,x.ztY)(e,i),(0,x.ZMF)(t,n,o),a&&a.m(t,o),(0,x.ZMF)(t,r,o),d.m(t,o),(0,x.ZMF)(t,s,o)},p(t,e){2&e&&o!==(o=t[1].title+"")&&(0,x.rTO)(i,o),t[1].subtitle?a?a.p(t,e):(a=Rm(t),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null),c===(c=l(t))&&d?d.p(t,e):(d.d(1),d=c(t),d&&(d.c(),d.m(s.parentNode,s)))},d(t){t&&((0,x.ogt)(e),(0,x.ogt)(n),(0,x.ogt)(r),(0,x.ogt)(s)),a&&a.d(t),d.d(t)}}}function Nm(t){let e;return{c(){e=(0,x.bGB)("div"),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0}),(0,x.pIy)(e).forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__shortcut-img svelte-ti0dlo"),(0,x.czc)(e,"--image",`url(${"dark"===t[3]&&t[1].urlDark?t[1].urlDark:t[1].url})`)},m(t,i){(0,x.ZMF)(t,e,i)},p(t,i){10&i&&(0,x.czc)(e,"--image",`url(${"dark"===t[3]&&t[1].urlDark?t[1].urlDark:t[1].url})`)},d(t){t&&(0,x.ogt)(e)}}}function Rm(t){let e,i,n=t[1].subtitle+"";return{c(){e=(0,x.bGB)("div"),i=(0,x.fLW)(n),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var r=(0,x.pIy)(e);i=(0,x.Bno)(r,n),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__shortcut-subtext svelte-ti0dlo")},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i)},p(t,e){2&e&&n!==(n=t[1].subtitle+"")&&(0,x.rTO)(i,n)},d(t){t&&(0,x.ogt)(e)}}}function Um(t){let e,i,n=t[1].text+"";return{c(){e=(0,x.bGB)("span"),i=(0,x.fLW)(n),this.h()},l(t){e=(0,x.vT0)(t,"SPAN",{class:!0});var r=(0,x.pIy)(e);i=(0,x.Bno)(r,n),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__shortcut-img svelte-ti0dlo")},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i)},p(t,e){2&e&&n!==(n=t[1].text+"")&&(0,x.rTO)(i,n)},d(t){t&&(0,x.ogt)(e)}}}function Hm(t){let e,i,n;return{c(){e=(0,x.bGB)("img"),this.h()},l(t){e=(0,x.vT0)(t,"IMG",{class:!0,src:!0,alt:!0,"aria-hidden":!0}),this.h()},h(){(0,x.Ljt)(e,"class","alice__shortcut-img svelte-ti0dlo"),(0,x.Jn4)(e.src,i=t[1].url)||(0,x.Ljt)(e,"src",i),(0,x.Ljt)(e,"alt",n=t[1].title),(0,x.Ljt)(e,"aria-hidden","true")},m(t,i){(0,x.ZMF)(t,e,i)},p(t,r){2&r&&!(0,x.Jn4)(e.src,i=t[1].url)&&(0,x.Ljt)(e,"src",i),2&r&&n!==(n=t[1].title)&&(0,x.Ljt)(e,"alt",n)},d(t){t&&(0,x.ogt)(e)}}}function qm(t){let e,i,n,r,s,o,a;function l(t,e){return"image"===t[1].type?Nm:zm}let c=l(t),d=c(t);return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),d.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);i=(0,x.vT0)(n,"DIV",{class:!0,role:!0,tabindex:!0});var r=(0,x.pIy)(i);d.l(r),r.forEach(x.ogt),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class",n=(0,x.H1I)(`alice__shortcut alice__shortcut_theme_${t[3]}`)+" svelte-ti0dlo"),(0,x.Ljt)(i,"role","button"),(0,x.Ljt)(i,"tabindex","0"),(0,x.Ljt)(e,"class",s="alice__shortcut-wrapper alice__shortcut-wrapper_type_"+t[1].type+" svelte-ti0dlo"),(0,x.VHj)(e,"alice__shortcut-wrapper_animate-border",t[1].shouldAnimateBorder)},m(n,s){(0,x.ZMF)(n,e,s),(0,x.ztY)(e,i),d.m(i,null),t[7](i),o||(a=[(0,x.TVh)(r=cp.call(null,i)),(0,x.oLt)(i,"accessibleclick",t[6])],o=!0)},p(t,[r]){c===(c=l(t))&&d?d.p(t,r):(d.d(1),d=c(t),d&&(d.c(),d.m(i,null))),8&r&&n!==(n=(0,x.H1I)(`alice__shortcut alice__shortcut_theme_${t[3]}`)+" svelte-ti0dlo")&&(0,x.Ljt)(i,"class",n),2&r&&s!==(s="alice__shortcut-wrapper alice__shortcut-wrapper_type_"+t[1].type+" svelte-ti0dlo")&&(0,x.Ljt)(e,"class",s),2&r&&(0,x.VHj)(e,"alice__shortcut-wrapper_animate-border",t[1].shouldAnimateBorder)},i:x.ZTd,o:x.ZTd,d(i){i&&(0,x.ogt)(e),d.d(),t[7](null),o=!1,(0,x.j7q)(a)}}}function Gm(t,e,i){let n,{onClick:r}=e,{shortcut:s}=e,{outputBus:o}=e,{index:a}=e,{theme:l}=e;return(0,k.H3)((()=>{dp(n).then((()=>{o.emit("stat",{path:`shortcut.${a}`,eventType:"show",customParams:{title:s.title,id:s.id}})}))})),t.$$set=t=>{"onClick"in t&&i(0,r=t.onClick),"shortcut"in t&&i(1,s=t.shortcut),"outputBus"in t&&i(5,o=t.outputBus),"index"in t&&i(2,a=t.index),"theme"in t&&i(3,l=t.theme)},[r,s,a,l,n,o,()=>r(s,a),function(t){x.VnY[t?"unshift":"push"]((()=>{n=t,i(4,n)}))}]}class Zm extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Gm,qm,x.N8,{onClick:0,shortcut:1,outputBus:5,index:2,theme:3},Vm)}}const Ym=Zm;function Wm(t,e,i){const n=t.slice();return n[6]=e[i],n[8]=i,n}function Km(t){let e,i;return e=new Ym({props:{shortcut:t[6],onClick:t[1],outputBus:t[0],index:t[8],theme:t[3]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};2&i&&(n.onClick=t[1]),1&i&&(n.outputBus=t[0]),8&i&&(n.theme=t[3]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Xm(t){let e,i,n=(0,x.NXn)(t[5]),r=[];for(let e=0;e<n.length;e+=1)r[e]=Km(Wm(t,n,e));const s=t=>(0,x.etI)(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=(0,x.cSb)()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=(0,x.cSb)()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);(0,x.ZMF)(t,e,n),i=!0},p(t,i){if(43&i){let o;for(n=(0,x.NXn)(t[5]),o=0;o<n.length;o+=1){const s=Wm(t,n,o);r[o]?(r[o].p(s,i),(0,x.Ui)(r[o],1)):(r[o]=Km(s),r[o].c(),(0,x.Ui)(r[o],1),r[o].m(e.parentNode,e))}for((0,x.dvw)(),o=n.length;o<r.length;o+=1)s(o);(0,x.gbL)()}},i(t){if(!i){for(let t=0;t<n.length;t+=1)(0,x.Ui)(r[t]);i=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)(0,x.etI)(r[t]);i=!1},d(t){t&&(0,x.ogt)(e),(0,x.RMB)(r,t)}}}function Jm(t){let e,i;return e=new Ip({props:{isDesktop:t[4],onHorizontalMoveChange:t[2],theme:t[3],$$slots:{default:[Xm]},$$scope:{ctx:t}}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,[i]){const n={};16&i&&(n.isDesktop=t[4]),4&i&&(n.onHorizontalMoveChange=t[2]),8&i&&(n.theme=t[3]),523&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Qm(t,e,i){let{outputBus:n}=e,{onClick:r}=e,{onHorizontalMoveChange:s}=e,{theme:o}=e,{isDesktop:a}=e;const{shortcuts:l=[]}=(0,k.fw)(M.f1);return t.$$set=t=>{"outputBus"in t&&i(0,n=t.outputBus),"onClick"in t&&i(1,r=t.onClick),"onHorizontalMoveChange"in t&&i(2,s=t.onHorizontalMoveChange),"theme"in t&&i(3,o=t.theme),"isDesktop"in t&&i(4,a=t.isDesktop)},[n,r,s,o,a,l]}class tg extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Qm,Jm,x.N8,{outputBus:0,onClick:1,onHorizontalMoveChange:2,theme:3,isDesktop:4})}}const eg=tg;function ig(t){(0,x.qOq)(t,"svelte-1bgyakg",".alice__suggests_inners.svelte-1bgyakg{white-space:nowrap;align-items:flex-start;flex-direction:column;margin-right:25px;margin-left:25px}.alice__suggests_row.svelte-1bgyakg{display:flex;gap:6px;margin-bottom:6px}")}function ng(t,e,i){const n=t.slice();return n[12]=e[i],n[14]=i,n}function rg(t,e,i){const n=t.slice();return n[12]=e[i],n[14]=i,n}function sg(t){let e,i;return e=new mp({props:{suggest:t[12],onClick:t[1],outputBus:t[0],index:t[14],theme:t[3]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};32&i&&(n.suggest=t[12]),2&i&&(n.onClick=t[1]),1&i&&(n.outputBus=t[0]),8&i&&(n.theme=t[3]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function og(t){let e,i;return e=new mp({props:{suggest:t[12],onClick:t[1],outputBus:t[0],index:t[5].length+t[14],theme:t[3]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};64&i&&(n.suggest=t[12]),2&i&&(n.onClick=t[1]),1&i&&(n.outputBus=t[0]),32&i&&(n.index=t[5].length+t[14]),8&i&&(n.theme=t[3]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function ag(t){let e,i,n,r,s,o=(0,x.NXn)(t[5]),a=[];for(let e=0;e<o.length;e+=1)a[e]=sg(rg(t,o,e));const l=t=>(0,x.etI)(a[t],1,1,(()=>{a[t]=null}));let c=(0,x.NXn)(t[6]),d=[];for(let e=0;e<c.length;e+=1)d[e]=og(ng(t,c,e));const h=t=>(0,x.etI)(d[t],1,1,(()=>{d[t]=null}));return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div");for(let t=0;t<a.length;t+=1)a[t].c();n=(0,x.DhX)(),r=(0,x.bGB)("div");for(let t=0;t<d.length;t+=1)d[t].c();this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var s=(0,x.pIy)(e);i=(0,x.vT0)(s,"DIV",{class:!0});var o=(0,x.pIy)(i);for(let t=0;t<a.length;t+=1)a[t].l(o);o.forEach(x.ogt),n=(0,x.qzd)(s),r=(0,x.vT0)(s,"DIV",{class:!0});var l=(0,x.pIy)(r);for(let t=0;t<d.length;t+=1)d[t].l(l);l.forEach(x.ogt),s.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","alice__suggests_row svelte-1bgyakg"),(0,x.Ljt)(r,"class","alice__suggests_row svelte-1bgyakg"),(0,x.Ljt)(e,"class","alice__suggests_inners svelte-1bgyakg")},m(t,o){(0,x.ZMF)(t,e,o),(0,x.ztY)(e,i);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(i,null);(0,x.ztY)(e,n),(0,x.ztY)(e,r);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(r,null);s=!0},p(t,e){if(43&e){let n;for(o=(0,x.NXn)(t[5]),n=0;n<o.length;n+=1){const r=rg(t,o,n);a[n]?(a[n].p(r,e),(0,x.Ui)(a[n],1)):(a[n]=sg(r),a[n].c(),(0,x.Ui)(a[n],1),a[n].m(i,null))}for((0,x.dvw)(),n=o.length;n<a.length;n+=1)l(n);(0,x.gbL)()}if(107&e){let i;for(c=(0,x.NXn)(t[6]),i=0;i<c.length;i+=1){const n=ng(t,c,i);d[i]?(d[i].p(n,e),(0,x.Ui)(d[i],1)):(d[i]=og(n),d[i].c(),(0,x.Ui)(d[i],1),d[i].m(r,null))}for((0,x.dvw)(),i=c.length;i<d.length;i+=1)h(i);(0,x.gbL)()}},i(t){if(!s){for(let t=0;t<o.length;t+=1)(0,x.Ui)(a[t]);for(let t=0;t<c.length;t+=1)(0,x.Ui)(d[t]);s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)(0,x.etI)(a[t]);d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)(0,x.etI)(d[t]);s=!1},d(t){t&&(0,x.ogt)(e),(0,x.RMB)(a,t),(0,x.RMB)(d,t)}}}function lg(t){let e,i;return e=new Ip({props:{isDesktop:t[4],onHorizontalMoveChange:t[2],setListElement:t[7],theme:t[3],$$slots:{default:[ag]},$$scope:{ctx:t}}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,[i]){const n={};16&i&&(n.isDesktop=t[4]),4&i&&(n.onHorizontalMoveChange=t[2]),8&i&&(n.theme=t[3]),65643&i&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function cg(t,e,i){var n;let r,{outputBus:s}=e,{suggests:o=[]}=e,{onClick:a}=e,{onHorizontalMoveChange:l}=e,{theme:c}=e,{isDesktop:d}=e,h=[],p=[],u=[];return t.$$set=t=>{"outputBus"in t&&i(0,s=t.outputBus),"suggests"in t&&i(8,o=t.suggests),"onClick"in t&&i(1,a=t.onClick),"onHorizontalMoveChange"in t&&i(2,l=t.onHorizontalMoveChange),"theme"in t&&i(3,c=t.theme),"isDesktop"in t&&i(4,d=t.isDesktop)},t.$$.update=()=>{if(3936&t.$$.dirty){if(o!==h){const t=o.reduce(((t,e)=>{var i;return t+((null==(i=e.title)?void 0:i.length)||0)}),0);i(5,p=[]),i(6,u=[]);let e=0;for(let r=0;r<o.length;r++)2*e<t?p.push(o[r]):u.push(o[r]),e+=(null==i(9,n=o[r].title)?void 0:n.length)||0;r&&i(11,r.scrollLeft=0,r)}i(10,h=o)}},[s,a,l,c,d,p,u,t=>{i(11,r=t)},o,n,h,r]}class dg extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,cg,lg,x.N8,{outputBus:0,suggests:8,onClick:1,onHorizontalMoveChange:2,theme:3,isDesktop:4},ig)}}const hg=dg;var pg=__webpack_require__(8037);function ug(t){let e,i;return e=new bm({props:{text:t[1],linkText:t[2],statName:"voice_activation",page:t[0],onClose:t[7],onClick:t[4]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,[i]){const n={};2&i&&(n.text=t[1]),4&i&&(n.linkText=t[2]),1&i&&(n.page=t[0]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function fg(t,e,i){let{onClose:n}=e,{lsKey:r}=e,{page:s}=e,o="Запускайте Алису голосом",a="Включить";const l=()=>{n(),(0,pg.$o)().setItem(r,"0")};return(0,k.H3)((()=>{(0,pg.$o)().setItem(r,String(Number((0,pg.$o)().getItem(r)||3)-1))})),(0,k.ev)((()=>{l()})),t.$$set=t=>{"onClose"in t&&i(5,n=t.onClose),"lsKey"in t&&i(6,r=t.lsKey),"page"in t&&i(0,s=t.page)},[s,o,a,l,()=>{var t,e;null==(e=null==(t=window.yandex)?void 0:t.speechkit)||e.enableVoiceActivation(!0,!0),i(1,o='А теперь скажите "Алиса, давай поболтаем"'),i(2,a=void 0)},n,r,()=>{l()}]}class mg extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,fg,ug,x.N8,{onClose:5,lsKey:6,page:0})}}const gg=mg,yg={intro:"Чем я могу помочь?",noMic:"Чтобы вы со мной могли разговаривать, понадобится микрофон",noPermission:"Чтобы вы со мной могли разговаривать, нужно разрешение на микрофон"},vg="#7137FF",bg="voice_activation_notifier_closed",_g=(t,e)=>{const i=e.length/20+(t.length?1:0);return i<2?"small":i<3?"medium":"large"};function xg(t){(0,x.qOq)(t,"svelte-xw10ff",".alice__main.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{display:flex;flex-direction:column;padding-bottom:30px}.alice__main_is-mobile.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{width:100%}.alice__main_is-mobile.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{padding-bottom:0}.alice__main_is-mobile.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff::-webkit-scrollbar{display:none}.alice__communication.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{box-sizing:border-box;width:100%;margin:17px 0;padding:0 17px 0 30px;min-height:70px}.alice__main_promo_yes.svelte-xw10ff .alice__communication.svelte-xw10ff.svelte-xw10ff{margin:30px 0}.alice__communication_is-mobile.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{margin-top:44px}.alice__main.svelte-xw10ff:not(.alice__main_dialog_yes) .alice__communication.svelte-xw10ff>.alice__text_shrinked.svelte-xw10ff{padding-top:10px}.alice__communication_theme_dark.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{color:#ffffff}.alice__communication-back-button.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{border:none;background:transparent;margin:0 0 10px 4px;padding:0;cursor:pointer;color:rgba(0, 0, 0, 0.33);font-size:14px;line-height:16px;display:flex;align-items:center}.alice__communication_theme_dark.svelte-xw10ff .alice__communication-back-button.svelte-xw10ff.svelte-xw10ff{color:rgba(255, 255, 255, 0.33)}.alice__communication-back-icon.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{margin-right:13px}.alice__communication-back-icon.svelte-xw10ff path.svelte-xw10ff.svelte-xw10ff{fill:#000}.alice__communication_theme_dark.svelte-xw10ff path.svelte-xw10ff.svelte-xw10ff{fill:#fff}.alice__text_shrinked.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{opacity:50%;font-weight:500;font-size:14px;line-height:16px;letter-spacing:-0.078px;order:-1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex-shrink:0;-webkit-user-select:text;-moz-user-select:text;user-select:text}.alice__text-main.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{flex-shrink:0;white-space:pre-wrap;-webkit-user-select:text;-moz-user-select:text;user-select:text}.alice__text-main.alice__text-main_size_small.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{font-size:24px;line-height:29px}.alice__text-main.alice__text-main_size_medium.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{font-size:21px;line-height:25px}.alice__main.svelte-xw10ff:not(.alice__main_dialog_yes) .alice__text-main.alice__text-main_single.svelte-xw10ff.svelte-xw10ff{padding-top:10px}.alice__text-main.alice__text-main_size_large.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{font-size:18px;line-height:22px}.alice__main_dialog_yes.svelte-xw10ff .alice__text-main.svelte-xw10ff.svelte-xw10ff{margin-bottom:17px}.alice__text-wrapper.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{display:flex;min-height:70px;flex-direction:column;justify-content:center}.alice__main_dialog_yes.alice__main_is-mobile.svelte-xw10ff .alice__suggests_container.svelte-xw10ff.svelte-xw10ff{margin-bottom:0px}.alice__main_dialog_yes.svelte-xw10ff .alice__communication.svelte-xw10ff.svelte-xw10ff{min-height:30px;margin-top:0px;margin-bottom:0px}.alice__div_answer.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{padding-left:25px;padding-right:25px}.alice__input-container.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{margin:0px 24px}.alice__input-container_focused.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{order:1}.alice__main_keyboard-input_yes.svelte-xw10ff .alice__shortcuts_container.svelte-xw10ff.svelte-xw10ff{margin-bottom:30px}.alice__notifier_container.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{margin:0 24px 10px 24px}.alice__main_dialog_yes.svelte-xw10ff .alice__text-wrapper.svelte-xw10ff.svelte-xw10ff{height:initial}.alice__div-card-container.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{margin-bottom:8px;-webkit-user-select:text;-moz-user-select:text;user-select:text}.alice__div-card-container_card_yes.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{margin:0 17px 8px 30px}.alice__main_should-show-shortcuts.svelte-xw10ff .alice__div-card-container.svelte-xw10ff.svelte-xw10ff{margin-bottom:20px}.alice__main_chat.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff:not(.alice__main_is-mobile){box-sizing:border-box;overflow:hidden;height:100%}.alice__main_chat.svelte-xw10ff .alice__dialog-header-container.svelte-xw10ff.svelte-xw10ff{padding-bottom:5px}.alice__main_chat.svelte-xw10ff:not(.alice__main_is-mobile) .alice__dialog-header-container.oknyx-bottom.svelte-xw10ff.svelte-xw10ff{padding-top:13px;padding-bottom:16px}.alice__main_is-mobile.svelte-xw10ff .alice__dialog-header-container.svelte-xw10ff.svelte-xw10ff{padding-top:12px;padding-bottom:1px}.alice__main_is-mobile.svelte-xw10ff .alice__dialog-header-container.oknyx-bottom.svelte-xw10ff.svelte-xw10ff{padding-top:25px;padding-bottom:15px}.alice__main_chat.svelte-xw10ff .alice__input-container.svelte-xw10ff.svelte-xw10ff{margin-top:6px}.alice__main_chat.svelte-xw10ff .alice__input-oknyx-container .alice__input-container__input.svelte-xw10ff.svelte-xw10ff{margin-top:0px}.alice__main_chat.svelte-xw10ff .alice__suggest_container.svelte-xw10ff.svelte-xw10ff{margin-top:-6px}.alice__main_chat.svelte-xw10ff .alice__notifier_container.svelte-xw10ff.svelte-xw10ff{margin-bottom:0;padding:8px 0 2px}.alice__onkyx-in-non-dialog-chat.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{position:absolute;right:35px;top:17px}.alice__input-oknyx-container.svelte-xw10ff.svelte-xw10ff.svelte-xw10ff{margin:9px 11px -7px 24px;display:flex;justify-content:space-between;flex-wrap:nowrap;align-items:center}.alice__input-oknyx-container.svelte-xw10ff .alice__input-container__input.svelte-xw10ff.svelte-xw10ff{margin:0;width:78%}")}const kg=t=>({}),wg=t=>({});function Cg(t){let e,i,n,r,s;n=new lm({props:{onSubmit:t[39],theme:t[4],outputBus:t[3],onChange:t[40],shouldFocusInput:!0,buttonTheme:t[28]?Qf.BLUE:Qf.PURPLE,isTablet:t[11]}});let o=t[1]&&Eg(t);return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),(0,x.YCL)(n.$$.fragment),r=(0,x.DhX)(),o&&o.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var s=(0,x.pIy)(e);i=(0,x.vT0)(s,"DIV",{class:!0});var a=(0,x.pIy)(i);(0,x.wOw)(n.$$.fragment,a),a.forEach(x.ogt),r=(0,x.qzd)(s),o&&o.l(s),s.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","alice__input-container__input svelte-xw10ff"),(0,x.Ljt)(e,"class","alice__input-container svelte-xw10ff"),(0,x.VHj)(e,"alice__input-container_focused",!0),(0,x.VHj)(e,"alice__input-oknyx-container",t[1])},m(t,a){(0,x.ZMF)(t,e,a),(0,x.ztY)(e,i),(0,x.yef)(n,i,null),(0,x.ztY)(e,r),o&&o.m(e,null),s=!0},p(t,i){const r={};16&i[0]&&(r.theme=t[4]),8&i[0]&&(r.outputBus=t[3]),268435456&i[0]&&(r.buttonTheme=t[28]?Qf.BLUE:Qf.PURPLE),2048&i[0]&&(r.isTablet=t[11]),n.$set(r),t[1]?o?(o.p(t,i),2&i[0]&&(0,x.Ui)(o,1)):(o=Eg(t),o.c(),(0,x.Ui)(o,1),o.m(e,null)):o&&((0,x.dvw)(),(0,x.etI)(o,1,1,(()=>{o=null})),(0,x.gbL)()),(!s||2&i[0])&&(0,x.VHj)(e,"alice__input-oknyx-container",t[1])},i(t){s||((0,x.Ui)(n.$$.fragment,t),(0,x.Ui)(o),s=!0)},o(t){(0,x.etI)(n.$$.fragment,t),(0,x.etI)(o),s=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(n),o&&o.d()}}}function Eg(t){let e,i;return e=new Bf({props:{onClick:t[37],color:vg,state:t[13],logo:r.z.ALICE,isBottomChat:t[1]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};8192&i[0]&&(n.state=t[13]),2&i[0]&&(n.isBottomChat=t[1]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Sg(t){let e,i,n;const r=[{closeDialog:t[38]},{onOknyxClick:t[37]},{state:t[13]},{theme:t[4]},t[16],{useChat:t[1]}];let s={};for(let t=0;t<r.length;t+=1)s=(0,x.f0i)(s,r[t]);return i=new Gf({props:s}),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__dialog-header-container svelte-xw10ff"),(0,x.VHj)(e,"oknyx-bottom",t[1])},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,s){const o=73746&s[0]|192&s[1]?(0,x.LoY)(r,[128&s[1]&&{closeDialog:t[38]},64&s[1]&&{onOknyxClick:t[37]},8192&s[0]&&{state:t[13]},16&s[0]&&{theme:t[4]},65536&s[0]&&(0,x.gCg)(t[16]),2&s[0]&&{useChat:t[1]}]):{};i.$set(o),(!n||2&s[0])&&(0,x.VHj)(e,"oknyx-bottom",t[1])},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function $g(t){let e,i,n,r,s,o,a,l,c,d=(t[30]||t[29])&&t[2]&&Ig(t),h=!t[16]&&Dg(t);function p(t,e){return"small"!==t[18]||t[16]&&t[22]?Tg:Pg}let u=p(t),f=u(t),m=!t[2]&&(t[22]||t[19])&&Fg(t),g=t[17].length&&!t[2]&&zg(t),y=!t[2]&&!t[16]&&t[7]&&!t[12]&&!t[0]&&Ng(t);return{c(){e=(0,x.bGB)("div"),d&&d.c(),i=(0,x.DhX)(),h&&h.c(),n=(0,x.DhX)(),f.c(),s=(0,x.DhX)(),m&&m.c(),o=(0,x.DhX)(),g&&g.c(),a=(0,x.DhX)(),y&&y.c(),l=(0,x.cSb)(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var r=(0,x.pIy)(e);d&&d.l(r),i=(0,x.qzd)(r),h&&h.l(r),n=(0,x.qzd)(r),f.l(r),r.forEach(x.ogt),s=(0,x.qzd)(t),m&&m.l(t),o=(0,x.qzd)(t),g&&g.l(t),a=(0,x.qzd)(t),y&&y.l(t),l=(0,x.cSb)(),this.h()},h(){(0,x.Ljt)(e,"class",r=(0,x.H1I)(`alice__communication alice__communication_theme_${t[4]}`)+" svelte-xw10ff"),(0,x.VHj)(e,"alice__communication_text-large","small"!==t[18]),(0,x.VHj)(e,"alice__communication_is-mobile",t[31])},m(t,r){(0,x.ZMF)(t,e,r),d&&d.m(e,null),(0,x.ztY)(e,i),h&&h.m(e,null),(0,x.ztY)(e,n),f.m(e,null),(0,x.ZMF)(t,s,r),m&&m.m(t,r),(0,x.ZMF)(t,o,r),g&&g.m(t,r),(0,x.ZMF)(t,a,r),y&&y.m(t,r),(0,x.ZMF)(t,l,r),c=!0},p(t,s){(t[30]||t[29])&&t[2]?d?d.p(t,s):(d=Ig(t),d.c(),d.m(e,i)):d&&(d.d(1),d=null),t[16]?h&&((0,x.dvw)(),(0,x.etI)(h,1,1,(()=>{h=null})),(0,x.gbL)()):h?(h.p(t,s),65536&s[0]&&(0,x.Ui)(h,1)):(h=Dg(t),h.c(),(0,x.Ui)(h,1),h.m(e,n)),u===(u=p(t))&&f?f.p(t,s):(f.d(1),f=u(t),f&&(f.c(),f.m(e,null))),(!c||16&s[0]&&r!==(r=(0,x.H1I)(`alice__communication alice__communication_theme_${t[4]}`)+" svelte-xw10ff"))&&(0,x.Ljt)(e,"class",r),(!c||262160&s[0])&&(0,x.VHj)(e,"alice__communication_text-large","small"!==t[18]),(!c||16&s[0]|1&s[1])&&(0,x.VHj)(e,"alice__communication_is-mobile",t[31]),t[2]||!t[22]&&!t[19]?m&&((0,x.dvw)(),(0,x.etI)(m,1,1,(()=>{m=null})),(0,x.gbL)()):m?(m.p(t,s),4718596&s[0]&&(0,x.Ui)(m,1)):(m=Fg(t),m.c(),(0,x.Ui)(m,1),m.m(o.parentNode,o)),t[17].length&&!t[2]?g?(g.p(t,s),131076&s[0]&&(0,x.Ui)(g,1)):(g=zg(t),g.c(),(0,x.Ui)(g,1),g.m(a.parentNode,a)):g&&((0,x.dvw)(),(0,x.etI)(g,1,1,(()=>{g=null})),(0,x.gbL)()),t[2]||t[16]||!t[7]||t[12]||t[0]?y&&((0,x.dvw)(),(0,x.etI)(y,1,1,(()=>{y=null})),(0,x.gbL)()):y?(y.p(t,s),69765&s[0]&&(0,x.Ui)(y,1)):(y=Ng(t),y.c(),(0,x.Ui)(y,1),y.m(l.parentNode,l))},i(t){c||((0,x.Ui)(h),(0,x.Ui)(m),(0,x.Ui)(g),(0,x.Ui)(y),c=!0)},o(t){(0,x.etI)(h),(0,x.etI)(m),(0,x.etI)(g),(0,x.etI)(y),c=!1},d(t){t&&((0,x.ogt)(e),(0,x.ogt)(s),(0,x.ogt)(o),(0,x.ogt)(a),(0,x.ogt)(l)),d&&d.d(),h&&h.d(),f.d(),m&&m.d(t),g&&g.d(t),y&&y.d(t)}}}function Mg(t){let e,i;return e=new Bm({props:{theme:t[4],shouldHideScrollbar:t[31],onScrollStart:t[33],onScrollEnd:t[34],disableScroll:t[10],bottomOrientOnResize:t[20]&&!t[21],afterScroll:t[42],$$slots:{default:[Rg]},$$scope:{ctx:t}}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};16&i[0]&&(n.theme=t[4]),1024&i[0]&&(n.disableScroll=t[10]),3145728&i[0]&&(n.bottomOrientOnResize=t[20]&&!t[21]),117579836&i[0]|64&i[2]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Ig(t){let e,i,n,r,s,o,a,l="Назад";return{c(){e=(0,x.bGB)("button"),i=(0,x.bi5)("svg"),n=(0,x.bi5)("path"),r=(0,x.DhX)(),s=(0,x.fLW)(l),this.h()},l(t){e=(0,x.vT0)(t,"BUTTON",{class:!0});var o=(0,x.pIy)(e);i=(0,x.Evd)(o,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0});var a=(0,x.pIy)(i);n=(0,x.Evd)(a,"path",{opacity:!0,d:!0,"fill-opacity":!0,class:!0}),(0,x.pIy)(n).forEach(x.ogt),a.forEach(x.ogt),r=(0,x.qzd)(o),s=(0,x.Bno)(o,l),o.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(n,"opacity","0.9"),(0,x.Ljt)(n,"d","M5.49999 2.11272e-07L7.33332 2.91409e-07L2.49999 6L7.33332 12L5.49999 12L0.666657 6L5.49999 2.11272e-07Z"),(0,x.Ljt)(n,"fill-opacity",".25"),(0,x.Ljt)(n,"class","svelte-xw10ff"),(0,x.Ljt)(i,"class","alice__communication-back-icon svelte-xw10ff"),(0,x.Ljt)(i,"width","8"),(0,x.Ljt)(i,"height","12"),(0,x.Ljt)(i,"viewBox","0 0 8 12"),(0,x.Ljt)(i,"fill","none"),(0,x.Ljt)(e,"class","alice__communication-back-button svelte-xw10ff")},m(l,c){(0,x.ZMF)(l,e,c),(0,x.ztY)(e,i),(0,x.ztY)(i,n),(0,x.ztY)(e,r),(0,x.ztY)(e,s),o||(a=(0,x.oLt)(e,"click",t[38]),o=!0)},p:x.ZTd,d(t){t&&(0,x.ogt)(e),o=!1,a()}}}function Dg(t){let e,i;return e=new Bf({props:{onClick:t[37],color:vg,state:t[13],logo:r.z.ALICE}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};8192&i[0]&&(n.state=t[13]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Tg(t){let e,i,n=t[14].length&&Ag(t),r=t[15]&&jg(t);return{c(){n&&n.c(),e=(0,x.DhX)(),r&&r.c(),i=(0,x.cSb)()},l(t){n&&n.l(t),e=(0,x.qzd)(t),r&&r.l(t),i=(0,x.cSb)()},m(t,s){n&&n.m(t,s),(0,x.ZMF)(t,e,s),r&&r.m(t,s),(0,x.ZMF)(t,i,s)},p(t,s){t[14].length?n?n.p(t,s):(n=Ag(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),t[15]?r?r.p(t,s):(r=jg(t),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(t){t&&((0,x.ogt)(e),(0,x.ogt)(i)),n&&n.d(t),r&&r.d(t)}}}function Pg(t){let e,i,n=t[14].length&&Lg(t),r=t[15]&&Og(t);return{c(){e=(0,x.bGB)("div"),n&&n.c(),i=(0,x.DhX)(),r&&r.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var s=(0,x.pIy)(e);n&&n.l(s),i=(0,x.qzd)(s),r&&r.l(s),s.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__text-wrapper svelte-xw10ff")},m(t,s){(0,x.ZMF)(t,e,s),n&&n.m(e,null),(0,x.ztY)(e,i),r&&r.m(e,null)},p(t,s){t[14].length?n?n.p(t,s):(n=Lg(t),n.c(),n.m(e,i)):n&&(n.d(1),n=null),t[15]?r?r.p(t,s):(r=Og(t),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(t){t&&(0,x.ogt)(e),n&&n.d(),r&&r.d()}}}function Ag(t){let e,i;return{c(){e=(0,x.bGB)("div"),i=(0,x.fLW)(t[14]),this.h()},l(n){e=(0,x.vT0)(n,"DIV",{class:!0});var r=(0,x.pIy)(e);i=(0,x.Bno)(r,t[14]),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__text_shrinked svelte-xw10ff")},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i)},p(t,e){16384&e[0]&&(0,x.rTO)(i,t[14])},d(t){t&&(0,x.ogt)(e)}}}function jg(t){let e,i,n;return{c(){e=(0,x.bGB)("div"),i=(0,x.fLW)(t[15]),this.h()},l(n){e=(0,x.vT0)(n,"DIV",{class:!0});var r=(0,x.pIy)(e);i=(0,x.Bno)(r,t[15]),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class",n="alice__text-main alice__text-main_size_"+t[18]+" svelte-xw10ff"),(0,x.VHj)(e,"alice__text-main_single",!t[14].length)},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i)},p(t,r){32768&r[0]&&(0,x.rTO)(i,t[15]),262144&r[0]&&n!==(n="alice__text-main alice__text-main_size_"+t[18]+" svelte-xw10ff")&&(0,x.Ljt)(e,"class",n),278528&r[0]&&(0,x.VHj)(e,"alice__text-main_single",!t[14].length)},d(t){t&&(0,x.ogt)(e)}}}function Lg(t){let e,i;return{c(){e=(0,x.bGB)("div"),i=(0,x.fLW)(t[14]),this.h()},l(n){e=(0,x.vT0)(n,"DIV",{class:!0});var r=(0,x.pIy)(e);i=(0,x.Bno)(r,t[14]),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__text_shrinked svelte-xw10ff")},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i)},p(t,e){16384&e[0]&&(0,x.rTO)(i,t[14])},d(t){t&&(0,x.ogt)(e)}}}function Og(t){let e,i,n;return{c(){e=(0,x.bGB)("div"),i=(0,x.fLW)(t[15]),this.h()},l(n){e=(0,x.vT0)(n,"DIV",{class:!0});var r=(0,x.pIy)(e);i=(0,x.Bno)(r,t[15]),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class",n="alice__text-main alice__text-main_size_"+t[18]+" svelte-xw10ff")},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i)},p(t,r){32768&r[0]&&(0,x.rTO)(i,t[15]),262144&r[0]&&n!==(n="alice__text-main alice__text-main_size_"+t[18]+" svelte-xw10ff")&&(0,x.Ljt)(e,"class",n)},d(t){t&&(0,x.ogt)(e)}}}function Fg(t){let e,i,n,r;const s=[Vg,Bg],o=[];function a(t,e){return t[19]?0:1}return i=a(t),n=o[i]=s[i](t),{c(){e=(0,x.bGB)("div"),n.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var i=(0,x.pIy)(e);n.l(i),i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__div-card-container svelte-xw10ff"),(0,x.VHj)(e,"alice__div-card-container_card_yes",t[23])},m(t,n){(0,x.ZMF)(t,e,n),o[i].m(e,null),r=!0},p(t,l){let c=i;i=a(t),i===c?o[i].p(t,l):((0,x.dvw)(),(0,x.etI)(o[c],1,1,(()=>{o[c]=null})),(0,x.gbL)(),n=o[i],n?n.p(t,l):(n=o[i]=s[i](t),n.c()),(0,x.Ui)(n,1),n.m(e,null)),(!r||8388608&l[0])&&(0,x.VHj)(e,"alice__div-card-container_card_yes",t[23])},i(t){r||((0,x.Ui)(n),r=!0)},o(t){(0,x.etI)(n),r=!1},d(t){t&&(0,x.ogt)(e),o[i].d()}}}function Bg(t){let e,i;return e=new kh({props:{theme:t[4],onHorizontalMoveChange:t[5],id:"divCard",statName:"div_card",json:t[22],onDivClick:t[41],outputBus:t[3]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};16&i[0]&&(n.theme=t[4]),32&i[0]&&(n.onHorizontalMoveChange=t[5]),4194304&i[0]&&(n.json=t[22]),8&i[0]&&(n.outputBus=t[3]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Vg(t){let e,i;return e=new Xf({props:{theme:t[4]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};16&i[0]&&(n.theme=t[4]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function zg(t){let e,i,n;return i=new hg({props:{suggests:t[17],onClick:t[35],outputBus:t[3],onHorizontalMoveChange:t[5],theme:t[4],isDesktop:!t[31]}}),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__suggests_container svelte-xw10ff")},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,e){const n={};131072&e[0]&&(n.suggests=t[17]),8&e[0]&&(n.outputBus=t[3]),32&e[0]&&(n.onHorizontalMoveChange=t[5]),16&e[0]&&(n.theme=t[4]),i.$set(n)},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function Ng(t){let e,i,n;return i=new eg({props:{onClick:t[36],outputBus:t[3],onHorizontalMoveChange:t[5],theme:t[4],isDesktop:!t[31]}}),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__shortcuts_container svelte-xw10ff")},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,e){const n={};8&e[0]&&(n.outputBus=t[3]),32&e[0]&&(n.onHorizontalMoveChange=t[5]),16&e[0]&&(n.theme=t[4]),i.$set(n)},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function Rg(t){let e,i;return e=new Cu({props:{theme:t[4],outputBus:t[3],onHorizontalMoveChange:t[5],onSuggestClick:t[35],suggests:!t[2]&&t[24]?t[17]:[],aliceState:t[13],markdown:t[25],useMarkdown:t[26]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};16&i[0]&&(n.theme=t[4]),8&i[0]&&(n.outputBus=t[3]),32&i[0]&&(n.onHorizontalMoveChange=t[5]),16908292&i[0]&&(n.suggests=!t[2]&&t[24]?t[17]:[]),8192&i[0]&&(n.aliceState=t[13]),33554432&i[0]&&(n.markdown=t[25]),67108864&i[0]&&(n.useMarkdown=t[26]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Ug(t){let e,i,n;return i=new gg({props:{onClose:t[67],lsKey:bg}}),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__notifier_container svelte-xw10ff")},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,e){const n={};134217728&e[0]&&(n.onClose=t[67]),i.$set(n)},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function Hg(t){let e,i,n;return i=new wm({props:{onClose:t[66]}}),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__notifier_container svelte-xw10ff")},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,e){const n={};3145728&e[0]&&(n.onClose=t[66]),i.$set(n)},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function qg(t){let e,i,n,r,s;n=new lm({props:{onSubmit:t[39],theme:t[4],outputBus:t[3],onChange:t[40],buttonTheme:t[28]?Qf.BLUE:Qf.PURPLE,isTablet:t[11]}});let o=t[1]&&Gg(t);return{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),(0,x.YCL)(n.$$.fragment),r=(0,x.DhX)(),o&&o.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var s=(0,x.pIy)(e);i=(0,x.vT0)(s,"DIV",{class:!0});var a=(0,x.pIy)(i);(0,x.wOw)(n.$$.fragment,a),a.forEach(x.ogt),r=(0,x.qzd)(s),o&&o.l(s),s.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","alice__input-container__input svelte-xw10ff"),(0,x.Ljt)(e,"class","alice__input-container svelte-xw10ff"),(0,x.VHj)(e,"alice__input-oknyx-container",t[1])},m(t,a){(0,x.ZMF)(t,e,a),(0,x.ztY)(e,i),(0,x.yef)(n,i,null),(0,x.ztY)(e,r),o&&o.m(e,null),s=!0},p(t,i){const r={};16&i[0]&&(r.theme=t[4]),8&i[0]&&(r.outputBus=t[3]),268435456&i[0]&&(r.buttonTheme=t[28]?Qf.BLUE:Qf.PURPLE),2048&i[0]&&(r.isTablet=t[11]),n.$set(r),t[1]?o?(o.p(t,i),2&i[0]&&(0,x.Ui)(o,1)):(o=Gg(t),o.c(),(0,x.Ui)(o,1),o.m(e,null)):o&&((0,x.dvw)(),(0,x.etI)(o,1,1,(()=>{o=null})),(0,x.gbL)()),(!s||2&i[0])&&(0,x.VHj)(e,"alice__input-oknyx-container",t[1])},i(t){s||((0,x.Ui)(n.$$.fragment,t),(0,x.Ui)(o),s=!0)},o(t){(0,x.etI)(n.$$.fragment,t),(0,x.etI)(o),s=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(n),o&&o.d()}}}function Gg(t){let e,i;return e=new Bf({props:{onClick:t[37],color:vg,state:t[13],logo:r.z.ALICE,isBottomChat:t[1]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};8192&i[0]&&(n.state=t[13]),2&i[0]&&(n.isBottomChat=t[1]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Zg(t){let e,i,n,r,s,o,a,l,c,d,h,p=t[9]&&t[8]&&Cg(t),u=t[16]&&Sg(t);const f=[Mg,$g],m=[];function g(t,e){return t[1]?0:1}r=g(t),s=m[r]=f[r](t);const y=[Hg,Ug],v=[];function b(t,e){return(t[30]||t[29]||t[1])&&!t[2]&&"denied"===t[6]&&t[20]?0:t[27]?1:-1}~(a=b(t))&&(l=v[a]=y[a](t));const _=t[65].promo,k=(0,x.nuO)(_,t,t[68],wg);let w=t[9]&&!t[8]&&qg(t);return{c(){e=(0,x.bGB)("div"),p&&p.c(),i=(0,x.DhX)(),u&&u.c(),n=(0,x.DhX)(),s.c(),o=(0,x.DhX)(),l&&l.c(),c=(0,x.DhX)(),k&&k.c(),d=(0,x.DhX)(),w&&w.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var r=(0,x.pIy)(e);p&&p.l(r),i=(0,x.qzd)(r),u&&u.l(r),n=(0,x.qzd)(r),s.l(r),o=(0,x.qzd)(r),l&&l.l(r),c=(0,x.qzd)(r),k&&k.l(r),d=(0,x.qzd)(r),w&&w.l(r),r.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","alice__main svelte-xw10ff"),(0,x.VHj)(e,"alice__main_is-mobile",t[31]),(0,x.VHj)(e,"alice__main_dialog_yes",t[16]),(0,x.VHj)(e,"alice__main_promo_yes",t[2]),(0,x.VHj)(e,"alice__main_keyboard-input_yes",t[9]),(0,x.VHj)(e,"alice__main_should-show-shortcuts",t[7]),(0,x.VHj)(e,"alice__main_chat",t[1])},m(t,s){(0,x.ZMF)(t,e,s),p&&p.m(e,null),(0,x.ztY)(e,i),u&&u.m(e,null),(0,x.ztY)(e,n),m[r].m(e,null),(0,x.ztY)(e,o),~a&&v[a].m(e,null),(0,x.ztY)(e,c),k&&k.m(e,null),(0,x.ztY)(e,d),w&&w.m(e,null),h=!0},p(t,d){t[9]&&t[8]?p?(p.p(t,d),768&d[0]&&(0,x.Ui)(p,1)):(p=Cg(t),p.c(),(0,x.Ui)(p,1),p.m(e,i)):p&&((0,x.dvw)(),(0,x.etI)(p,1,1,(()=>{p=null})),(0,x.gbL)()),t[16]?u?(u.p(t,d),65536&d[0]&&(0,x.Ui)(u,1)):(u=Sg(t),u.c(),(0,x.Ui)(u,1),u.m(e,n)):u&&((0,x.dvw)(),(0,x.etI)(u,1,1,(()=>{u=null})),(0,x.gbL)());let C=r;r=g(t),r===C?m[r].p(t,d):((0,x.dvw)(),(0,x.etI)(m[C],1,1,(()=>{m[C]=null})),(0,x.gbL)(),s=m[r],s?s.p(t,d):(s=m[r]=f[r](t),s.c()),(0,x.Ui)(s,1),s.m(e,o));let E=a;a=b(t),a===E?~a&&v[a].p(t,d):(l&&((0,x.dvw)(),(0,x.etI)(v[E],1,1,(()=>{v[E]=null})),(0,x.gbL)()),~a?(l=v[a],l?l.p(t,d):(l=v[a]=y[a](t),l.c()),(0,x.Ui)(l,1),l.m(e,c)):l=null),k&&k.p&&(!h||64&d[2])&&(0,x.kmG)(k,_,t,t[68],h?(0,x.u2N)(_,t[68],d,kg):(0,x.VOJ)(t[68]),wg),t[9]&&!t[8]?w?(w.p(t,d),768&d[0]&&(0,x.Ui)(w,1)):(w=qg(t),w.c(),(0,x.Ui)(w,1),w.m(e,null)):w&&((0,x.dvw)(),(0,x.etI)(w,1,1,(()=>{w=null})),(0,x.gbL)()),(!h||65536&d[0])&&(0,x.VHj)(e,"alice__main_dialog_yes",t[16]),(!h||4&d[0])&&(0,x.VHj)(e,"alice__main_promo_yes",t[2]),(!h||512&d[0])&&(0,x.VHj)(e,"alice__main_keyboard-input_yes",t[9]),(!h||128&d[0])&&(0,x.VHj)(e,"alice__main_should-show-shortcuts",t[7]),(!h||2&d[0])&&(0,x.VHj)(e,"alice__main_chat",t[1])},i(t){h||((0,x.Ui)(p),(0,x.Ui)(u),(0,x.Ui)(s),(0,x.Ui)(l),(0,x.Ui)(k,t),(0,x.Ui)(w),h=!0)},o(t){(0,x.etI)(p),(0,x.etI)(u),(0,x.etI)(s),(0,x.etI)(l),(0,x.etI)(k,t),(0,x.etI)(w),h=!1},d(t){t&&(0,x.ogt)(e),p&&p.d(),u&&u.d(),m[r].d(),~a&&v[a].d(),k&&k.d(t),w&&w.d()}}}function Yg(t,e,n){let o,a,l,{$$slots:d={},$$scope:h}=e;var p,u,f,m,g,y;const{rumCounters:v,isFullscreenExp:b,isYabroBuild:_,isDesktop:w,isMobile:C,allChatsStore:E,isStandaloneBuild:S,aliceKit:$}=(0,M.Mn)();(0,x.FIv)(t,E,(t=>n(64,l=t)));let I,D,T,P,L,F,{onPromoShowChange:B}=e,{shouldPromoShow:V}=e,{outputBus:z}=e,{overrideOpenUriDirective:N}=e,{theme:R}=e,{onHorizontalMoveChange:U}=e,{permission:H}=e,{setShortcutsVisibility:q}=e,{shouldShowShortcuts:G=!0}=e,{shouldFocusInput:Z=!1}=e,{hasKeyboardInput:Y=!1}=e,{startPhrase:W}=e,{setChatScroll:K}=e,{isDragging:X=!1}=e,{isTablet:J=!1}=e,{preventListenOnStart:Q=!1}=e,{openFullscreen:tt}=e,{requestMicPermission:et}=e,{useChat:it=!1}=e,{shouldOpenYaGpt:nt}=e,{yaGptOpenPhrase:rt}=e,{setIsLetsImagineDialog:st}=e,{deeplink:ot}=e,{hideApp:at}=e,{closeOnDialogDispose:lt}=e,ct=r.U.SUSPENDED,dt="",ht=rt||W||yg.intro,pt=dt,ut=ht,ft=!1,mt=[],gt="small",yt=!(nt||W||ot),vt=!1,bt=!1,_t=!0,xt=!1,kt=!1,wt="granted"===H,Ct=!1,Et=!1,St=!0,$t=!1,Mt="",It="";if((null==ot?void 0:ot.id)&&!s.MV.includes(null==ot?void 0:ot.id)&&(St=!1),_){const t=()=>{var t,e;return null==(e=null==(t=window.yandex)?void 0:t.speechkit)?void 0:e.isVoiceActivationEnabled((t=>{n(27,Et="0"!==(0,pg.$o)().getItem(bg)&&!t)}))};(null==(u=null==(p=window.yandex)?void 0:p.overlayView)?void 0:u.isAliceVoiceActivationDisabled)?null==(m=null==(f=window.yandex)?void 0:f.overlayView)||m.isAliceVoiceActivationDisabled((e=>{e||t()})):t()}const Dt=K&&(()=>null==K?void 0:K(!0)),Tt=K&&(()=>null==K?void 0:K(!1)),Pt=(t,e)=>{it?At(t,e):n(55,dt=t)},At=(t,e)=>{const i=[{id:"0",type:"text",text:t.trim()}];e?o.updateLastMessage({bubbles:i},"replace"):o.addMessage({id:(0,c.O1)(),isUserAuthor:!0,bubbles:i,suggests:[]}),n(24,_t=!1)},jt=()=>{it&&($t=!1)},Lt=t=>n(13,ct=t),Ot=t=>{var e;(null==(e=t.recognition)?void 0:e.text)&&(Pt(t.recognition.text,$t),n(58,ft=!0),$t=!0)},Ft=t=>{var e,i;n(22,P=null),n(23,L=null),n(0,W=void 0),n(43,rt=void 0),I||n(24,_t=!0),It=(null==(e=t.response.header)?void 0:e.request_id)||"";const{dialogId:r}=t,a=Boolean(r&&s.lA.includes(r)&&!b);n(26,Ct=Boolean(r&&s.lA.includes(r))),n(1,it=a);const l=t.response.response||{},{cards:d,templates:h,suggest:p,palette:u}=l;if(it&&(null==d?void 0:d.length)){const t=[];d.forEach((e=>{switch(e.type){case"simple_text":t.push({id:(0,c.O1)(),type:"text",text:e.text});break;case"rich_json_card":const i=JSON.parse(e.string_body);t.push({id:(0,c.O1)(),type:"richJson",richJson:i,hideBorders:e.hide_borders});break;case"div2_card":t.push({id:(0,c.O1)(),type:"divJson",hideBorders:!e.has_borders,divJson:{card:e.body.states?e.body:e.body.card,templates:h||e.body.templates,palette:u}})}})),t.length&&o.addMessage({requestId:It,bubbles:t,isWelcomeMessage:St,id:(0,c.O1)(),suggests:[]}),St=!1}else if(null==d?void 0:d.length){q(!1),n(58,ft=!1);const t=[];d.forEach((e=>{if(e.text&&t.push(e.text),e.body){const{states:t,log_id:i}=e.body;n(22,P={card:{states:t,log_id:i},templates:h,palette:u}),n(23,L=!0)}})),t.length&&n(56,ht=t.join("\n\n"))}B(!1),n(17,mt=null!=(i=null==p?void 0:p.items)?i:[]),yt||n(27,Et=!1)},Bt=(t,e,i,r)=>{var a,d,h,p,u,f;switch(t){case"type":case"type_silent":"onHandle"===e&&(Pt(i.text),n(56,ht=""),n(58,ft=!0));break;case"fill_cloud_ui":"onHandle"===e&&(n(56,ht=i.text),q(!1));break;case"open_uri":if("skip"===e)i.screen_id;else if("beforeHandle"===e)!Wt&&$.getState().voiceSession&&(qt(),Ht("Открываю")),i.skipHideCloudElements||(n(22,P=null),n(23,L=null),q(!1)),z.emit("openUriDirectiveBefore",{url:i.uri});else if("onHandle"===e){if(z.emit("stat",{path:"redirect_to_url",eventType:"click",customParams:{url:i.uri}}),N&&!i.skipOverride)return N({url:i.uri});Wt?null==(h=null==(d=null==(a=window.yandex)?void 0:a.overlayView)?void 0:d.openUrl)||h.call(d,i.uri):(null==r?void 0:r.isUserEvent)&&i.isNewTab?window.open(i.uri):window.location.href=i.uri}break;case"show_promo":"onHandle"===e&&(n(55,dt=""),n(56,ht=C?"Для этого надо установить приложение Яндекса":"Для этого нужно установить приложение Яндекс на мобильном"),n(58,ft=!1),B(!0),q(!1),Gt());break;case"show_view":if("onHandle"===e){if(it)return;n(19,yt=!1),T&&(n(17,mt=[]),n(56,ht="")),n(22,P=i.div2_card.body||JSON.parse(i.div2_card.string_body)),n(23,L=!1)}break;case"update_dialog_info":"onHandle"===e&&n(16,T={dialogTitle:i.title,dialogImageUrl:i.image_url,dialogUrl:i.url,logo:i.style.oknyx_logo});break;case"end_dialog_session":"onHandle"===e&&T&&Xt();break;case"open_dialog_directive":if("beforeHandle"===e){const{dialog_id:t}=i,e=s.MV.includes(t),r=s.gu.includes(t);if(null==st||st(e),s.lA.includes(t)&&n(60,xt=!0),r&&Mh(C,z),Mt=(null==(p=i.directives.find((t=>"type_silent"===t.name)))?void 0:p.payload.text)||"",!s.lA.includes(t))return;b&&tt?tt(Mt):Mt&&At(Mt);let o=`${j.Wz}.${t}`;if(s.MV.includes(t)&&(o="alice.defaultChat"),!l.allChats.hasOwnProperty(t)){const e={type:"ls",localStorageKey:o,maxMessagesInLS:50,isDialog:!0,isStandaloneBuild:S};E.createChat(e,{id:t})}}else"onHandle"===e&&E.setActiveChatId(i.dialog_id);break;case"close_alice":"onHandle"===e&&at();break;case"print_text_in_message_view":"onHandle"===e&&(i.text&&(u=i.text,f=!i.isNewMessage,it?((t,e)=>{Array.isArray(t)||(t=[t]);const i=t.map(((t,e)=>({id:String(e),type:"text",text:t.trim()})));e?o.updateLastMessage({bubbles:i},"replace"):o.addMessage({id:(0,c.O1)(),bubbles:i,isWelcomeMessage:St,suggests:[]}),St=!1,$t=!1})(u,f):n(56,ht=u)),n(57,I="end"===i.status?void 0:i.status),n(24,_t="end"===i.status))}},Vt=t=>z.emit("errorThrown",t),{startVoiceInput:zt,sendVinsRequest:Nt,selectSuggest:Rt,getGreetings:Ut,synthesize:Ht,ttsStop:qt,cancel:Gt,setDialogId:Zt,aliceBus:Yt}=$,Wt=_&&Boolean(null==(y=null==(g=window.yandex)?void 0:g.overlayView)?void 0:y.openUrl);(0,k.H3)((()=>{Yt.on("status",Lt),Yt.on("recognition",Ot),Yt.on("vins",Ft),Yt.on("directive",Bt),Yt.on("error",Vt),Yt.once("listeningstart",(()=>v.sendFirstVoiceRcording())),Yt.on("listeningend",jt),$.start(),n(13,ct=$.getStatus()),ot?(ot.id&&s.lA.includes(ot.id)&&n(1,it=!0),O(ot,E,$,{isStandaloneBuild:S})):nt||W?Qt(rt):yt&&(Kt(),Q||$.startVoiceInputOnce({skipMicSounds:!0})),document.addEventListener("visibilitychange",Jt),ot||et(),z.emit("stat",{path:"alice_main",eventType:"show"})})),(0,k.ev)((()=>{Yt.off("status",Lt),Yt.off("recognition",Ot),Yt.off("vins",Ft),Yt.off("directive",Bt),Yt.off("error",Vt),Yt.off("listeningend",jt),document.removeEventListener("visibilitychange",Jt),it&&E.setActiveChatId("")}));const Kt=()=>Ut({origin:"ThisClient"}),Xt=()=>{Gt(),Zt(null),it&&(E.setActiveChatId(""),St=!0,Mt=""),n(16,T=null),n(22,P=null),n(23,L=null),lt&&at(),n(19,yt=!0),n(22,P=null),n(23,L=null),n(55,dt=""),n(17,mt=[]),n(1,it=!1),n(56,ht=yg.intro),n(58,ft=!1),B(!1),q(!0),Kt()},Jt=()=>{document.hidden&&ct===r.U.LISTENING&&Gt()},Qt=(t="")=>{n(55,dt=t||"Запусти навык «Давай придумаем»"),n(56,ht=""),n(58,ft=!0);const e=t;return Nt({name:"@@mm_semantic_frame",type:i.KitUniproxyDirectiveEventType.server_action,payload:{typed_semantic_frame:{external_skill_fixed_activate_semantic_frame:{fixed_skill_id:{string_value:"b7c42cab-db61-46ba-871a-b10a6ecf3e0d"},activation_command:{string_value:e}}},analytics:{product_scenario:"dialogovo",origin:"Scenario",purpose:"skill_activate"}}},{voiceSession:!1})};return t.$$set=t=>{"onPromoShowChange"in t&&n(44,B=t.onPromoShowChange),"shouldPromoShow"in t&&n(2,V=t.shouldPromoShow),"outputBus"in t&&n(3,z=t.outputBus),"overrideOpenUriDirective"in t&&n(45,N=t.overrideOpenUriDirective),"theme"in t&&n(4,R=t.theme),"onHorizontalMoveChange"in t&&n(5,U=t.onHorizontalMoveChange),"permission"in t&&n(6,H=t.permission),"setShortcutsVisibility"in t&&n(46,q=t.setShortcutsVisibility),"shouldShowShortcuts"in t&&n(7,G=t.shouldShowShortcuts),"shouldFocusInput"in t&&n(8,Z=t.shouldFocusInput),"hasKeyboardInput"in t&&n(9,Y=t.hasKeyboardInput),"startPhrase"in t&&n(0,W=t.startPhrase),"setChatScroll"in t&&n(47,K=t.setChatScroll),"isDragging"in t&&n(10,X=t.isDragging),"isTablet"in t&&n(11,J=t.isTablet),"preventListenOnStart"in t&&n(48,Q=t.preventListenOnStart),"openFullscreen"in t&&n(49,tt=t.openFullscreen),"requestMicPermission"in t&&n(50,et=t.requestMicPermission),"useChat"in t&&n(1,it=t.useChat),"shouldOpenYaGpt"in t&&n(12,nt=t.shouldOpenYaGpt),"yaGptOpenPhrase"in t&&n(43,rt=t.yaGptOpenPhrase),"setIsLetsImagineDialog"in t&&n(51,st=t.setIsLetsImagineDialog),"deeplink"in t&&n(52,ot=t.deeplink),"hideApp"in t&&n(53,at=t.hideApp),"closeOnDialogDispose"in t&&n(54,lt=t.closeOnDialogDispose),"$$scope"in t&&n(68,h=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty[2]&&n(63,o=l.currentChat),64&t.$$.dirty[0]|1&t.$$.dirty[2]&&(n(62,wt="granted"===H),Yt.emit("changeMicPermission",wt)),65536&t.$$.dirty[0]&&n(28,a=(null==T?void 0:T.logo)===r.z.MICROPHONE),12353&t.$$.dirty[0]|270663680&t.$$.dirty[1]&&(!("prompt"!==D&&"unknown"!==D||ct!==r.U.SUSPENDED||Q||W||nt||ot)&&$.checkPermissionAndStartVoiceInput({skipMicSounds:!0}),n(59,D=H)),8&t.$$.dirty[0]|1610612736&t.$$.dirty[1]&&(kt||!xt||b||(A(z).then((t=>{n(25,F=t)}),(()=>{z.emit("errorThrown",Error("failed to load markdown bundle"))})),n(61,kt=!0))),67108864&t.$$.dirty[1]|2&t.$$.dirty[2]&&o.setOutputStatus(I),49152&t.$$.dirty[0]|184549376&t.$$.dirty[1]&&(ft?(n(14,pt=ht),n(15,ut=dt)):(n(14,pt=dt),n(15,ut=ht)),n(18,gt=_g(pt,ut)))},[W,it,V,z,R,U,H,G,Z,Y,X,J,nt,ct,pt,ut,T,mt,gt,yt,vt,bt,P,L,_t,F,Ct,Et,a,_,w,C,E,Dt,Tt,(t,e)=>{z.emit("stat",{path:`suggest.${e}`,eventType:"click",customParams:{title:t.title||""}}),Rt(t)},(t,e)=>{z.emit("stat",{path:`shortcut.${e}`,eventType:"click",customParams:{id:t.id,title:t.command}}),n(19,yt=!1),Rt({title:t.command,directives:t.directives})},()=>{switch(ct){case r.U.LISTENING:Gt(),z.emit("stat",{path:"oknyx_while_listening",eventType:"click"});break;case r.U.SUSPENDED:if("nomic"===H)return n(55,dt=""),void n(56,ht=yg.noMic);if("unknown"===H&&et(),!wt)return n(55,dt=""),n(56,ht=yg.noPermission),void n(20,vt=!0);zt(),z.emit("stat",{path:"oknyx_while_suspended",eventType:"click"});break;case r.U.THINKING:Gt(),T||Zt(null);default:Gt()}},Xt,t=>{Gt(),Pt(t),n(58,ft=!0),Nt({type:i.KitUniproxyDirectiveEventType.text_input,text:t},{voiceSession:!1}),z.emit("stat",{path:"keyboard_question",eventType:"click",customParams:{value:t}})},()=>{ct===r.U.LISTENING&&Gt()},t=>{var e;n(55,dt=t.title||""),(null==(e=null==t?void 0:t.directives)?void 0:e.some((({name:t})=>"open_uri"===t)))&&n(55,dt="Открываю"),n(56,ht=""),n(58,ft=!0),Rt(t)},()=>{n(21,bt=vt)},rt,B,N,q,K,Q,tt,et,st,ot,at,lt,dt,ht,I,ft,D,xt,kt,wt,o,l,d,()=>{n(20,vt=!1),n(21,bt=!1)},()=>{n(27,Et=!1)},h]}class Wg extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Yg,Zg,x.N8,{onPromoShowChange:44,shouldPromoShow:2,outputBus:3,overrideOpenUriDirective:45,theme:4,onHorizontalMoveChange:5,permission:6,setShortcutsVisibility:46,shouldShowShortcuts:7,shouldFocusInput:8,hasKeyboardInput:9,startPhrase:0,setChatScroll:47,isDragging:10,isTablet:11,preventListenOnStart:48,openFullscreen:49,requestMicPermission:50,useChat:1,shouldOpenYaGpt:12,yaGptOpenPhrase:43,setIsLetsImagineDialog:51,deeplink:52,hideApp:53,closeOnDialogDispose:54},xg,[-1,-1,-1,-1])}}const Kg=Wg;function Xg(t){(0,x.qOq)(t,"svelte-1g48g11",".alice-promo.svelte-1g48g11.svelte-1g48g11{padding-bottom:30px}.alice-promo__app-android.svelte-1g48g11.svelte-1g48g11{width:140px;height:40px;margin-bottom:10px}.alice-promo__app-ios.svelte-1g48g11.svelte-1g48g11{width:140px;height:40px;margin-bottom:10px}.alice-promo__app-links.svelte-1g48g11.svelte-1g48g11{display:flex;flex-direction:row;margin:30px;margin-bottom:0}.alice-promo__app-imgs.svelte-1g48g11.svelte-1g48g11{display:flex;flex-direction:column}.alice-promo__app-qr.svelte-1g48g11.svelte-1g48g11{width:128px;height:128px}.alice-promo__app-links-description.svelte-1g48g11.svelte-1g48g11{font-style:normal;font-weight:500;font-size:12px;line-height:120%;color:rgba(0, 0, 0, 0.45);padding-right:10px}.alice-promo_theme_dark.svelte-1g48g11 .alice-promo__app-links-description.svelte-1g48g11{color:#ffffff}.alice-promo__app-header.svelte-1g48g11.svelte-1g48g11{display:flex;flex-direction:row;margin:30px;margin-top:0}.alice-promo__app-icon.svelte-1g48g11.svelte-1g48g11{width:40px;height:40px;margin-right:8px}.alice-promo__app-description.svelte-1g48g11.svelte-1g48g11{display:flex;flex-direction:column}.alice-promo__app-h1.svelte-1g48g11.svelte-1g48g11{font-style:normal;font-weight:500;font-size:18px;line-height:120%;color:#000000}.alice-promo_theme_dark.svelte-1g48g11 .alice-promo__app-h1.svelte-1g48g11{color:#ffffff}.alice-promo__app-h2.svelte-1g48g11.svelte-1g48g11{font-style:normal;font-weight:400;font-size:13px;line-height:120%;color:rgba(0, 0, 0, 0.45)}.alice-promo_theme_dark.svelte-1g48g11 .alice-promo__app-h2.svelte-1g48g11{color:#ffffff}.alice-promo_theme_dark.svelte-1g48g11.svelte-1g48g11{background:#161617}.alice-promo__install.svelte-1g48g11.svelte-1g48g11{width:232px;height:65px;background:#ffcc00;font-style:normal;font-weight:700;font-size:22px;line-height:26px;border-radius:12px;border-width:0;display:flex;justify-content:center;align-items:center;color:black;text-decoration:none}.alice-promo__main-url-layout.svelte-1g48g11.svelte-1g48g11{display:flex;justify-content:center;margin-top:22px;margin-bottom:22px}.alice-promo__image.svelte-1g48g11.svelte-1g48g11{height:293px;width:135px;min-width:135px;border-radius:14.5px}.alice-promo__image.svelte-1g48g11.svelte-1g48g11:first-child{margin-left:30px}.alice-promo__image.svelte-1g48g11.svelte-1g48g11:last-child{margin-right:30px}")}function Jg(t,e,i){const n=t.slice();return n[7]=e[i].url,n}function Qg(t){let e,i;return{c(){e=(0,x.bGB)("img"),this.h()},l(t){e=(0,x.vT0)(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){(0,x.Ljt)(e,"class","alice-promo__image svelte-1g48g11"),(0,x.Jn4)(e.src,i=t[7])||(0,x.Ljt)(e,"src",i),(0,x.Ljt)(e,"alt","Приложение")},m(t,i){(0,x.ZMF)(t,e,i)},p:x.ZTd,d(t){t&&(0,x.ogt)(e)}}}function ty(t){let e,i=(0,x.NXn)(t[5]),n=[];for(let e=0;e<i.length;e+=1)n[e]=Qg(Jg(t,i,e));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=(0,x.cSb)()},l(t){for(let e=0;e<n.length;e+=1)n[e].l(t);e=(0,x.cSb)()},m(t,i){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,i);(0,x.ZMF)(t,e,i)},p(t,r){if(32&r){let s;for(i=(0,x.NXn)(t[5]),s=0;s<i.length;s+=1){const o=Jg(t,i,s);n[s]?n[s].p(o,r):(n[s]=Qg(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=i.length}},d(t){t&&(0,x.ogt)(e),(0,x.RMB)(n,t)}}}function ey(t){let e,i,n,r,s,o,a,l,c,d,h,p,u,f,m,g,y,v,b,_,k,w='<img class="alice-promo__app-icon svelte-1g48g11" src="https://yastatic.net/s3/home/alice_popup/ya.svg" alt="Приложение"/> <div class="alice-promo__app-description svelte-1g48g11"><div class="alice-promo__app-h1 svelte-1g48g11">Яндекс — с Алисой</div> <div class="alice-promo__app-h2 svelte-1g48g11">Быстрый поиск и Алиса всегда рядом</div></div>',C="или считайте QR-код камерой вашего телефона";return r=new Ip({props:{isDesktop:!0,theme:t[0],buttonWidth:29,$$slots:{default:[ty]},$$scope:{ctx:t}}}),{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),i.innerHTML=w,n=(0,x.DhX)(),(0,x.YCL)(r.$$.fragment),s=(0,x.DhX)(),o=(0,x.bGB)("div"),a=(0,x.bGB)("div"),l=(0,x.bGB)("a"),c=(0,x.bGB)("img"),h=(0,x.DhX)(),p=(0,x.bGB)("a"),u=(0,x.bGB)("img"),m=(0,x.DhX)(),g=(0,x.bGB)("span"),g.textContent=C,y=(0,x.DhX)(),v=(0,x.bGB)("img"),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0,style:!0});var d=(0,x.pIy)(e);i=(0,x.vT0)(d,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-137cyf4"!==(0,x.nSQ)(i)&&(i.innerHTML=w),n=(0,x.qzd)(d),(0,x.wOw)(r.$$.fragment,d),s=(0,x.qzd)(d),o=(0,x.vT0)(d,"DIV",{class:!0});var f=(0,x.pIy)(o);a=(0,x.vT0)(f,"DIV",{class:!0});var b=(0,x.pIy)(a);l=(0,x.vT0)(b,"A",{class:!0,href:!0});var _=(0,x.pIy)(l);c=(0,x.vT0)(_,"IMG",{src:!0,alt:!0}),_.forEach(x.ogt),h=(0,x.qzd)(b),p=(0,x.vT0)(b,"A",{class:!0,href:!0});var k=(0,x.pIy)(p);u=(0,x.vT0)(k,"IMG",{src:!0,alt:!0}),k.forEach(x.ogt),m=(0,x.qzd)(b),g=(0,x.vT0)(b,"SPAN",{class:!0,"data-svelte-h":!0}),"svelte-tbis5s"!==(0,x.nSQ)(g)&&(g.textContent=C),b.forEach(x.ogt),y=(0,x.qzd)(f),v=(0,x.vT0)(f,"IMG",{class:!0,src:!0,alt:!0}),f.forEach(x.ogt),d.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(i,"class","alice-promo__app-header svelte-1g48g11"),(0,x.Jn4)(c.src,d="https://yastatic.net/s3/home/alice_popup/google_play.svg")||(0,x.Ljt)(c,"src","https://yastatic.net/s3/home/alice_popup/google_play.svg"),(0,x.Ljt)(c,"alt","Приложение Android"),(0,x.Ljt)(l,"class","alice-promo__app-android svelte-1g48g11"),(0,x.Ljt)(l,"href",t[2]),(0,x.Jn4)(u.src,f="https://yastatic.net/s3/home/alice_popup/app_store.svg")||(0,x.Ljt)(u,"src","https://yastatic.net/s3/home/alice_popup/app_store.svg"),(0,x.Ljt)(u,"alt","Приложение iPhone"),(0,x.Ljt)(p,"class","alice-promo__app-ios svelte-1g48g11"),(0,x.Ljt)(p,"href",t[1]),(0,x.Ljt)(g,"class","alice-promo__app-links-description svelte-1g48g11"),(0,x.Ljt)(a,"class","alice-promo__app-imgs svelte-1g48g11"),(0,x.Ljt)(v,"class","alice-promo__app-qr svelte-1g48g11"),(0,x.Jn4)(v.src,b=t[3])||(0,x.Ljt)(v,"src",b),(0,x.Ljt)(v,"alt","Приложение"),(0,x.Ljt)(o,"class","alice-promo__app-links svelte-1g48g11"),(0,x.Ljt)(e,"class",_=(0,x.H1I)(`alice-promo alice-promo_theme_${t[0]}`)+" svelte-1g48g11"),(0,x.czc)(e,"--z-index",t[4]+1)},m(t,d){(0,x.ZMF)(t,e,d),(0,x.ztY)(e,i),(0,x.ztY)(e,n),(0,x.yef)(r,e,null),(0,x.ztY)(e,s),(0,x.ztY)(e,o),(0,x.ztY)(o,a),(0,x.ztY)(a,l),(0,x.ztY)(l,c),(0,x.ztY)(a,h),(0,x.ztY)(a,p),(0,x.ztY)(p,u),(0,x.ztY)(a,m),(0,x.ztY)(a,g),(0,x.ztY)(o,y),(0,x.ztY)(o,v),k=!0},p(t,[i]){const n={};1&i&&(n.theme=t[0]),1024&i&&(n.$$scope={dirty:i,ctx:t}),r.$set(n),(!k||1&i&&_!==(_=(0,x.H1I)(`alice-promo alice-promo_theme_${t[0]}`)+" svelte-1g48g11"))&&(0,x.Ljt)(e,"class",_)},i(t){k||((0,x.Ui)(r.$$.fragment,t),k=!0)},o(t){(0,x.etI)(r.$$.fragment,t),k=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(r)}}}function iy(t,e,i){let{outputBus:n}=e,{theme:r}=e;const{promoUrlIos:s,promoUrlAndroid:o,promoQrLink:a,baseZIndex:l}=(0,k.fw)(M.f1);return(0,k.H3)((()=>{n.emit("stat",{path:"promo",eventType:"show"})})),t.$$set=t=>{"outputBus"in t&&i(6,n=t.outputBus),"theme"in t&&i(0,r=t.theme)},[r,s,o,a,l,[{url:"https://yastatic.net/s3/home/alice_popup/promo_2/00.png"},{url:"https://yastatic.net/s3/home/alice_popup/promo_2/01.png"},{url:"https://yastatic.net/s3/home/alice_popup/promo_2/03.png"},{url:"https://yastatic.net/s3/home/alice_popup/promo_2/04.png"},{url:"https://yastatic.net/s3/home/alice_popup/promo_2/06.png"},{url:"https://yastatic.net/s3/home/alice_popup/promo_2/07.png"}],n]}class ny extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,iy,ey,x.N8,{outputBus:6,theme:0},Xg)}}const ry=ny,sy=(t,{isYabroBuild:e})=>{if(e)return;const i=t=>{t.ctrlKey&&t.preventDefault()};return window.addEventListener("wheel",i,{passive:!1}),{destroy(){window.removeEventListener("wheel",i)}}};function oy(t,e){if(!e)return;const i=t=>{"Escape"===t.key&&e()};return document.addEventListener("keydown",i),{destroy(){document.removeEventListener("keydown",i)}}}function ay(t){(0,x.qOq)(t,"svelte-1sobjwn",".alice.svelte-1sobjwn{position:var(--position);bottom:0;left:0;right:0;flex-direction:column;align-items:center;justify-content:space-evenly;z-index:var(--z-index);color:black;overflow:hidden;border-top-left-radius:50% 30px;border-top-right-radius:50% 30px;background:#ffffff;touch-action:none;scrollbar-width:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;border:1px solid rgba(0, 0, 0, 0.16);border-radius:40px;box-sizing:border-box;max-height:calc(100% - 40px);display:flex}.alice.svelte-1sobjwn::-webkit-scrollbar{display:none}.back-layer.svelte-1sobjwn{position:fixed;height:200px;top:calc(100vh - 100px);left:0px;right:0px;z-index:var(--z-index);background:#ffffff}.close-button.svelte-1sobjwn{width:100%;position:fixed;z-index:var(--z-index);opacity:0;top:0;left:0px;right:0px;bottom:0px}.alice_theme_dark.svelte-1sobjwn{background:#161617;color:#ffffff;box-shadow:0px 0px 64px rgba(0, 0, 0, 0.5)}.alice_is_yabro.svelte-1sobjwn{box-shadow:initial;border-radius:10px;flex-grow:1}")}function ly(t){let e,i,n,r;return{c(){e=(0,x.bGB)("button"),i=(0,x.fLW)("Закрыть"),this.h()},l(t){e=(0,x.vT0)(t,"BUTTON",{class:!0,style:!0});var n=(0,x.pIy)(e);i=(0,x.Bno)(n,"Закрыть"),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","close-button svelte-1sobjwn"),(0,x.czc)(e,"--z-index",t[5]+1)},m(s,o){(0,x.ZMF)(s,e,o),(0,x.ztY)(e,i),n||(r=(0,x.oLt)(e,"click",t[10]),n=!0)},p:x.ZTd,d(t){t&&(0,x.ogt)(e),n=!1,r()}}}function cy(t){let e,i,n,r;return{c(){e=(0,x.bGB)("button"),i=(0,x.fLW)("Закрыть"),this.h()},l(t){e=(0,x.vT0)(t,"BUTTON",{class:!0,style:!0});var n=(0,x.pIy)(e);i=(0,x.Bno)(n,"Закрыть"),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","close-button svelte-1sobjwn"),(0,x.czc)(e,"--z-index",t[5]+1)},m(s,o){(0,x.ZMF)(s,e,o),(0,x.ztY)(e,i),n||(r=(0,x.oLt)(e,"click",(function(){(0,x.sBU)(t[0])&&t[0].apply(this,arguments)})),n=!0)},p(e,i){t=e},d(t){t&&(0,x.ogt)(e),n=!1,r()}}}function dy(t){let e,i,n,r,s,o,a,l,c,d,h,p,u,f="up"===t[4]&&ly(t);const m=t[9].default,g=(0,x.nuO)(m,t,t[8],null);let y="down"===t[4]&&cy(t);return{c(){f&&f.c(),e=(0,x.DhX)(),i=(0,x.bGB)("div"),n=new x.Tv0(!1),r=(0,x.DhX)(),g&&g.c(),c=(0,x.DhX)(),y&&y.c(),d=(0,x.cSb)(),this.h()},l(t){f&&f.l(t),e=(0,x.qzd)(t),i=(0,x.vT0)(t,"DIV",{class:!0,"aria-modal":!0,"aria-labelledby":!0,style:!0});var s=(0,x.pIy)(i);n=(0,x.a7E)(s,!1),r=(0,x.qzd)(s),g&&g.l(s),s.forEach(x.ogt),c=(0,x.qzd)(t),y&&y.l(t),d=(0,x.cSb)(),this.h()},h(){n.a=r,(0,x.Ljt)(i,"class",s=(0,x.H1I)(`alice alice_theme_${t[2]}`)+" svelte-1sobjwn"),(0,x.Ljt)(i,"aria-modal",o=!0),(0,x.Ljt)(i,"aria-labelledby",t[1]),(0,x.czc)(i,"--z-index",t[5]+2),(0,x.czc)(i,"--position",t[6]?"relative":"absolute"),(0,x.VHj)(i,"alice_is_yabro",t[6])},m(s,o){f&&f.m(s,o),(0,x.ZMF)(s,e,o),(0,x.ZMF)(s,i,o),n.m("\x3c!-- Приходи в гости Алисе: https://forms.yandex.ru/surveys/13479216.eebb469a721dca169cd355075a2874c456539eb3?utm_source=web_alice_quest --\x3e",i),(0,x.ztY)(i,r),g&&g.m(i,null),t[11](i),(0,x.ZMF)(s,c,o),y&&y.m(s,o),(0,x.ZMF)(s,d,o),h=!0,p||(u=[(0,x.TVh)(a=oy.call(null,i,t[0])),(0,x.TVh)(l=sy.call(null,i,{isYabroBuild:t[6]}))],p=!0)},p(t,[n]){"up"===t[4]?f?f.p(t,n):(f=ly(t),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null),g&&g.p&&(!h||256&n)&&(0,x.kmG)(g,m,t,t[8],h?(0,x.u2N)(m,t[8],n,null):(0,x.VOJ)(t[8]),null),(!h||4&n&&s!==(s=(0,x.H1I)(`alice alice_theme_${t[2]}`)+" svelte-1sobjwn"))&&(0,x.Ljt)(i,"class",s),(!h||2&n)&&(0,x.Ljt)(i,"aria-labelledby",t[1]),a&&(0,x.sBU)(a.update)&&1&n&&a.update.call(null,t[0]),(!h||68&n)&&(0,x.VHj)(i,"alice_is_yabro",t[6]),"down"===t[4]?y?y.p(t,n):(y=cy(t),y.c(),y.m(d.parentNode,d)):y&&(y.d(1),y=null)},i(t){h||((0,x.Ui)(g,t),h=!0)},o(t){(0,x.etI)(g,t),h=!1},d(n){n&&((0,x.ogt)(e),(0,x.ogt)(i),(0,x.ogt)(c),(0,x.ogt)(d)),f&&f.d(n),g&&g.d(n),t[11](null),y&&y.d(n),p=!1,(0,x.j7q)(u)}}}function hy(t,e,i){let n,{$$slots:r={},$$scope:s}=e,{hideApp:o}=e,{ariaLabelledby:a}=e,{theme:l}=e,{isTablet:c=!1}=e;const{baseZIndex:d,isYabroBuild:h}=(0,M.Mn)();let p;return t.$$set=t=>{"hideApp"in t&&i(0,o=t.hideApp),"ariaLabelledby"in t&&i(1,a=t.ariaLabelledby),"theme"in t&&i(2,l=t.theme),"isTablet"in t&&i(7,c=t.isTablet),"$$scope"in t&&i(8,s=t.$$scope)},t.$$.update=()=>{128&t.$$.dirty&&i(4,n=((t,e)=>{if(!t)return e?"up":"down"})(h,c))},[o,a,l,p,n,d,h,c,s,r,()=>{o()},function(t){x.VnY[t?"unshift":"push"]((()=>{p=t,i(3,p)}))}]}class py extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,hy,dy,x.N8,{hideApp:0,ariaLabelledby:1,theme:2,isTablet:7},ay)}}const uy=py,fy=(t,{isYabroBuild:e})=>{if(e)return;function i(){document.documentElement.style.setProperty("--window-inner-height",`${window.innerHeight}px`)}window.addEventListener("resize",i);const n=window.scrollY;return document.documentElement.classList.add("is-locked"),i(),{destroy(){document.documentElement.classList.remove("is-locked"),document.documentElement.style.removeProperty("--window-inner-height"),window.removeEventListener("resize",i),window.scrollTo(0,n)}}},my="#7137FF";function gy(t){(0,x.qOq)(t,"svelte-1xu5s6i",".fullscreen.svelte-1xu5s6i.svelte-1xu5s6i{display:flex;align-items:flex-start;z-index:var(--z-index);position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;flex-direction:column;background-color:#fff;overflow-y:scroll}.fullscreen_theme_dark.svelte-1xu5s6i.svelte-1xu5s6i{background:#161617;color:#ffffff}.fullscreen__container.svelte-1xu5s6i.svelte-1xu5s6i{position:absolute;left:0;top:0;bottom:0;right:0;display:flex;height:-moz-fit-content;height:fit-content;min-height:100%;width:100%}.fullscreen__header.svelte-1xu5s6i.svelte-1xu5s6i{display:flex;align-items:center;flex:1 0;position:sticky;left:32px;top:32px;margin:32px}.fullscreen__header-desc.svelte-1xu5s6i.svelte-1xu5s6i{display:flex;flex-direction:column;color:#000}.fullscreen__header-desc-title.svelte-1xu5s6i.svelte-1xu5s6i{font-size:16px;font-style:normal;font-weight:700;line-height:16px;padding-bottom:2px}.fullscreen__header-desc-subtitle.svelte-1xu5s6i.svelte-1xu5s6i{font-size:12px;font-style:normal;font-weight:400;line-height:16px;opacity:0.4;width:84px}.fullscreen__header-image.svelte-1xu5s6i.svelte-1xu5s6i{margin-right:8px;width:45px;height:45px;border-radius:50%}.fullscreen__content.svelte-1xu5s6i.svelte-1xu5s6i{min-width:640px;width:640px;margin:auto;margin-bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;min-height:100%}.fullscreen__input-container.svelte-1xu5s6i.svelte-1xu5s6i{width:100%;position:relative;margin:32px 0;width:640px}.fullscreen__input-container_focused.svelte-1xu5s6i.svelte-1xu5s6i{order:1}.fullscreen__oknyx.svelte-1xu5s6i.svelte-1xu5s6i{position:absolute;right:-75px;bottom:-8px}.fullscreen__close.svelte-1xu5s6i.svelte-1xu5s6i{z-index:100;cursor:pointer;position:sticky;top:0;top:40px;right:40px;margin:40px;width:40px;height:40px;float:right}.fullscreen__close.svelte-1xu5s6i.svelte-1xu5s6i:hover{opacity:0.35}.gallery__arrow_right.svelte-1xu5s6i.svelte-1xu5s6i:active{opacity:0.45}.fullscreen__chat_container.svelte-1xu5s6i.svelte-1xu5s6i{width:100%;margin-top:20px}.fullscreen__bottom_container.svelte-1xu5s6i.svelte-1xu5s6i{position:sticky;bottom:0;background:#fff;display:flex;justify-content:center;align-items:center;flex-direction:column;padding-left:25px;padding-right:25px}.fullscreen_theme_dark.svelte-1xu5s6i .fullscreen__bottom_container.svelte-1xu5s6i{background:#161617}.fullscreen_theme_dark.svelte-1xu5s6i .fullscreen__header-desc.svelte-1xu5s6i{color:#fff}.fullscreen__mic-denied-notifier_container.svelte-1xu5s6i.svelte-1xu5s6i{margin-bottom:-25px;width:640px}.fullscreen__suggests_container.svelte-1xu5s6i.svelte-1xu5s6i{margin-left:-25px;margin-right:-25px}.fullscreen__content-left.svelte-1xu5s6i.svelte-1xu5s6i{flex-grow:2;flex-basis:10%}.fullscreen__content-rigth.svelte-1xu5s6i.svelte-1xu5s6i{flex-grow:2;flex-basis:10%}@media(min-width: 1000px){.fullscreen.svelte-1xu5s6i.svelte-1xu5s6i{align-items:center}.fullscreen__container.svelte-1xu5s6i.svelte-1xu5s6i{left:initial}}@media(min-width: 1640px){.fullscreen__content.svelte-1xu5s6i.svelte-1xu5s6i{width:840px}.fullscreen__input-container.svelte-1xu5s6i.svelte-1xu5s6i{width:840px}.fullscreen__mic-denied-notifier_container.svelte-1xu5s6i.svelte-1xu5s6i{width:840px}}")}function yy(t){let e,i,n,s,o,a,l,c,d,h,p,u,f,m,g,y,v,b,_,k,w,C,E,S,$,M,I,D,T,P,A,j,L,O=t[14].dialogTitle+"",F=t[14].dialogImageUrl&&vy(t);y=new Cu({props:{theme:t[0],outputBus:t[3],isMobile:!1,suggests:t[13]?t[11]:[],onSuggestClick:t[23],page:wy,aliceState:t[6],markdown:t[9],useMarkdown:t[10],isSuggestGreetings:"welcome_message"===t[8]}});let B=("denied"===t[5]||"prompt"===t[5])&&t[12]&&by(t);return w=new lm({props:{onSubmit:t[20],theme:t[0],outputBus:t[3],onChange:t[21],buttonTheme:Qf.PURPLE,isTablet:t[4],shouldFocusInput:t[2],page:wy,lines:ky}}),S=new Bf({props:{onClick:t[22],color:my,state:t[6],logo:r.z.ALICE}}),{c(){e=(0,x.bGB)("div"),i=(0,x.bGB)("div"),n=(0,x.bGB)("div"),s=(0,x.bGB)("a"),F&&F.c(),a=(0,x.DhX)(),l=(0,x.bGB)("div"),c=(0,x.bGB)("div"),d=(0,x.fLW)(O),h=(0,x.DhX)(),p=(0,x.bGB)("div"),u=(0,x.fLW)(t[15]),f=(0,x.DhX)(),m=(0,x.bGB)("div"),g=(0,x.bGB)("div"),(0,x.YCL)(y.$$.fragment),v=(0,x.DhX)(),b=(0,x.bGB)("div"),B&&B.c(),_=(0,x.DhX)(),k=(0,x.bGB)("div"),(0,x.YCL)(w.$$.fragment),C=(0,x.DhX)(),E=(0,x.bGB)("div"),(0,x.YCL)(S.$$.fragment),$=(0,x.DhX)(),M=(0,x.bGB)("div"),I=(0,x.bGB)("div"),D=(0,x.bi5)("svg"),T=(0,x.bi5)("path"),this.h()},l(r){e=(0,x.vT0)(r,"DIV",{class:!0});var o=(0,x.pIy)(e);i=(0,x.vT0)(o,"DIV",{class:!0});var P=(0,x.pIy)(i);n=(0,x.vT0)(P,"DIV",{class:!0});var A=(0,x.pIy)(n);s=(0,x.vT0)(A,"A",{class:!0,href:!0,target:!0,rel:!0});var j=(0,x.pIy)(s);F&&F.l(j),j.forEach(x.ogt),a=(0,x.qzd)(A),l=(0,x.vT0)(A,"DIV",{class:!0});var L=(0,x.pIy)(l);c=(0,x.vT0)(L,"DIV",{class:!0});var V=(0,x.pIy)(c);d=(0,x.Bno)(V,O),V.forEach(x.ogt),h=(0,x.qzd)(L),p=(0,x.vT0)(L,"DIV",{class:!0});var z=(0,x.pIy)(p);u=(0,x.Bno)(z,t[15]),z.forEach(x.ogt),L.forEach(x.ogt),A.forEach(x.ogt),P.forEach(x.ogt),f=(0,x.qzd)(o),m=(0,x.vT0)(o,"DIV",{class:!0});var N=(0,x.pIy)(m);g=(0,x.vT0)(N,"DIV",{class:!0});var R=(0,x.pIy)(g);(0,x.wOw)(y.$$.fragment,R),R.forEach(x.ogt),v=(0,x.qzd)(N),b=(0,x.vT0)(N,"DIV",{class:!0});var U=(0,x.pIy)(b);B&&B.l(U),_=(0,x.qzd)(U),k=(0,x.vT0)(U,"DIV",{class:!0});var H=(0,x.pIy)(k);(0,x.wOw)(w.$$.fragment,H),C=(0,x.qzd)(H),E=(0,x.vT0)(H,"DIV",{class:!0});var q=(0,x.pIy)(E);(0,x.wOw)(S.$$.fragment,q),q.forEach(x.ogt),H.forEach(x.ogt),U.forEach(x.ogt),N.forEach(x.ogt),$=(0,x.qzd)(o),M=(0,x.vT0)(o,"DIV",{class:!0});var G=(0,x.pIy)(M);I=(0,x.vT0)(G,"DIV",{class:!0});var Z=(0,x.pIy)(I);D=(0,x.Evd)(Z,"svg",{width:!0,height:!0,fill:!0,xmlns:!0});var Y=(0,x.pIy)(D);T=(0,x.Evd)(Y,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),(0,x.pIy)(T).forEach(x.ogt),Y.forEach(x.ogt),Z.forEach(x.ogt),G.forEach(x.ogt),o.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(s,"class","fullscreen__header-link"),(0,x.Ljt)(s,"href",o=t[14].dialogUrl),(0,x.Ljt)(s,"target","_blank"),(0,x.Ljt)(s,"rel","noopener"),(0,x.Ljt)(c,"class","fullscreen__header-desc-title svelte-1xu5s6i"),(0,x.Ljt)(p,"class","fullscreen__header-desc-subtitle svelte-1xu5s6i"),(0,x.Ljt)(l,"class","fullscreen__header-desc svelte-1xu5s6i"),(0,x.Ljt)(n,"class","fullscreen__header svelte-1xu5s6i"),(0,x.Ljt)(i,"class","fullscreen__content-left svelte-1xu5s6i"),(0,x.Ljt)(g,"class","fullscreen__chat_container svelte-1xu5s6i"),(0,x.Ljt)(E,"class","fullscreen__oknyx svelte-1xu5s6i"),(0,x.Ljt)(k,"class","fullscreen__input-container svelte-1xu5s6i"),(0,x.VHj)(k,"fullscreen__input-container_focused",!0),(0,x.Ljt)(b,"class","fullscreen__bottom_container svelte-1xu5s6i"),(0,x.Ljt)(m,"class","fullscreen__content svelte-1xu5s6i"),(0,x.Ljt)(T,"fill-rule","evenodd"),(0,x.Ljt)(T,"clip-rule","evenodd"),(0,x.Ljt)(T,"d","M20 36a16 16 0 1 0 0-32 16 16 0 0 0 0 32Zm-7.22-21.33L18.11 20l-5.33 5.45 1.89 1.88L20 21.9l5.45 5.44 1.88-1.88L21.9 20l5.44-5.33-1.88-1.89L20 18.11l-5.33-5.33-1.89 1.89Z"),(0,x.Ljt)(T,"fill",P="dark"===t[0]?"#FFF":"#000"),(0,x.Ljt)(D,"width","40"),(0,x.Ljt)(D,"height","40"),(0,x.Ljt)(D,"fill","none"),(0,x.Ljt)(D,"xmlns","http://www.w3.org/2000/svg"),(0,x.Ljt)(I,"class","fullscreen__close svelte-1xu5s6i"),(0,x.Ljt)(M,"class","fullscreen__content-rigth svelte-1xu5s6i"),(0,x.Ljt)(e,"class","fullscreen__container svelte-1xu5s6i")},m(r,o){(0,x.ZMF)(r,e,o),(0,x.ztY)(e,i),(0,x.ztY)(i,n),(0,x.ztY)(n,s),F&&F.m(s,null),(0,x.ztY)(n,a),(0,x.ztY)(n,l),(0,x.ztY)(l,c),(0,x.ztY)(c,d),(0,x.ztY)(l,h),(0,x.ztY)(l,p),(0,x.ztY)(p,u),(0,x.ztY)(e,f),(0,x.ztY)(e,m),(0,x.ztY)(m,g),(0,x.yef)(y,g,null),(0,x.ztY)(m,v),(0,x.ztY)(m,b),B&&B.m(b,null),(0,x.ztY)(b,_),(0,x.ztY)(b,k),(0,x.yef)(w,k,null),(0,x.ztY)(k,C),(0,x.ztY)(k,E),(0,x.yef)(S,E,null),(0,x.ztY)(e,$),(0,x.ztY)(e,M),(0,x.ztY)(M,I),(0,x.ztY)(I,D),(0,x.ztY)(D,T),A=!0,j||(L=(0,x.oLt)(I,"click",(0,x.AT7)((function(){(0,x.sBU)(t[1])&&t[1].apply(this,arguments)}))),j=!0)},p(e,i){(t=e)[14].dialogImageUrl?F?F.p(t,i):(F=vy(t),F.c(),F.m(s,null)):F&&(F.d(1),F=null),(!A||16384&i[0]&&o!==(o=t[14].dialogUrl))&&(0,x.Ljt)(s,"href",o),(!A||16384&i[0])&&O!==(O=t[14].dialogTitle+"")&&(0,x.rTO)(d,O),(!A||32768&i[0])&&(0,x.rTO)(u,t[15]);const n={};1&i[0]&&(n.theme=t[0]),8&i[0]&&(n.outputBus=t[3]),10240&i[0]&&(n.suggests=t[13]?t[11]:[]),64&i[0]&&(n.aliceState=t[6]),512&i[0]&&(n.markdown=t[9]),1024&i[0]&&(n.useMarkdown=t[10]),256&i[0]&&(n.isSuggestGreetings="welcome_message"===t[8]),y.$set(n),"denied"!==t[5]&&"prompt"!==t[5]||!t[12]?B&&((0,x.dvw)(),(0,x.etI)(B,1,1,(()=>{B=null})),(0,x.gbL)()):B?(B.p(t,i),4128&i[0]&&(0,x.Ui)(B,1)):(B=by(t),B.c(),(0,x.Ui)(B,1),B.m(b,_));const r={};1&i[0]&&(r.theme=t[0]),8&i[0]&&(r.outputBus=t[3]),16&i[0]&&(r.isTablet=t[4]),4&i[0]&&(r.shouldFocusInput=t[2]),w.$set(r);const a={};64&i[0]&&(a.state=t[6]),S.$set(a),(!A||1&i[0]&&P!==(P="dark"===t[0]?"#FFF":"#000"))&&(0,x.Ljt)(T,"fill",P)},i(t){A||((0,x.Ui)(y.$$.fragment,t),(0,x.Ui)(B),(0,x.Ui)(w.$$.fragment,t),(0,x.Ui)(S.$$.fragment,t),A=!0)},o(t){(0,x.etI)(y.$$.fragment,t),(0,x.etI)(B),(0,x.etI)(w.$$.fragment,t),(0,x.etI)(S.$$.fragment,t),A=!1},d(t){t&&(0,x.ogt)(e),F&&F.d(),(0,x.vpE)(y),B&&B.d(),(0,x.vpE)(w),(0,x.vpE)(S),j=!1,L()}}}function vy(t){let e,i,n;return{c(){e=(0,x.bGB)("img"),this.h()},l(t){e=(0,x.vT0)(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){(0,x.Ljt)(e,"class","fullscreen__header-image svelte-1xu5s6i"),(0,x.Jn4)(e.src,i=t[14].dialogImageUrl)||(0,x.Ljt)(e,"src",i),(0,x.Ljt)(e,"alt",n="logo")},m(t,i){(0,x.ZMF)(t,e,i)},p(t,n){16384&n[0]&&!(0,x.Jn4)(e.src,i=t[14].dialogImageUrl)&&(0,x.Ljt)(e,"src",i)},d(t){t&&(0,x.ogt)(e)}}}function by(t){let e,i,n;return i=new wm({props:{onClose:t[39],page:wy}}),{c(){e=(0,x.bGB)("div"),(0,x.YCL)(i.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0});var n=(0,x.pIy)(e);(0,x.wOw)(i.$$.fragment,n),n.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class","fullscreen__mic-denied-notifier_container svelte-1xu5s6i")},m(t,r){(0,x.ZMF)(t,e,r),(0,x.yef)(i,e,null),n=!0},p(t,e){const n={};4104&e[0]&&(n.onClose=t[39]),i.$set(n)},i(t){n||((0,x.Ui)(i.$$.fragment,t),n=!0)},o(t){(0,x.etI)(i.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(e),(0,x.vpE)(i)}}}function _y(t){let e,i,n,r,s,o,a,l,c=t[16]&&yy(t);return{c(){e=(0,x.bGB)("div"),c&&c.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0,style:!0});var i=(0,x.pIy)(e);c&&c.l(i),i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class",i=(0,x.H1I)(`fullscreen fullscreen_theme_${t[0]}`)+" svelte-1xu5s6i"),(0,x.Ljt)(e,"style",n=t[17]?`--z-index: ${t[17]+2};`:"")},m(i,n){(0,x.ZMF)(i,e,n),c&&c.m(e,null),t[40](e),o=!0,a||(l=[(0,x.TVh)(r=fy.call(null,e,{isYabroBuild:t[19]})),(0,x.TVh)(s=oy.call(null,e,t[1])),(0,x.oLt)(e,"scroll",(function(){(0,x.sBU)(t[62])&&t[62].apply(this,arguments)}))],a=!0)},p(n,r){(t=n)[16]?c?(c.p(t,r),65536&r[0]&&(0,x.Ui)(c,1)):(c=yy(t),c.c(),(0,x.Ui)(c,1),c.m(e,null)):c&&((0,x.dvw)(),(0,x.etI)(c,1,1,(()=>{c=null})),(0,x.gbL)()),(!o||1&r[0]&&i!==(i=(0,x.H1I)(`fullscreen fullscreen_theme_${t[0]}`)+" svelte-1xu5s6i"))&&(0,x.Ljt)(e,"class",i),s&&(0,x.sBU)(s.update)&&2&r[0]&&s.update.call(null,t[1])},i(t){o||((0,x.Ui)(c),o=!0)},o(t){(0,x.etI)(c),o=!1},d(i){i&&(0,x.ogt)(e),c&&c.d(),t[40](null),a=!1,(0,x.j7q)(l)}}}function xy(t){let e,i;return e=new Dm({props:{scrollableElement:t[16],$$slots:{default:[_y,({onScroll:t})=>({62:t}),({onScroll:t})=>[0,0,t?1:0]]},$$scope:{ctx:t}}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};65536&i[0]&&(n.scrollableElement=t[16]),130943&i[0]|3&i[2]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}const ky=10,wy="fullscreen";function Cy(t,e,n){let a,l,d,h,p=x.ZTd;t.$$.on_destroy.push((()=>p()));let{theme:u}=e,{isMobile:f=!1}=e,{onClose:m}=e,{shouldFocusInput:g=!1}=e,{outputBus:y}=e,{overrideOpenUriDirective:v}=e,{isTablet:b=!1}=e,{permission:_}=e,{startPhrase:w}=e,{requestMicPermission:C}=e,{shouldOpenYaGpt:E}=e,{yaGptOpenPhrase:S}=e,{dialogOpenedWithPhrase:$=(E?S:"")}=e,{deeplink:I}=e,{onImmediateClose:D}=e,{shouldImmediateClose:T=!1}=e;const{baseZIndex:P,allChatsStore:L,aliceKit:F}=(0,k.fw)(M.f1);(0,x.FIv)(t,L,(t=>n(38,h=t)));let B,V,z,N,R=r.U.SUSPENDED,U=E||w?"not_started":"skill_opened",H=!1,q=[],G=!1,Z=!0,Y=!1,W=!0,K=!0,X=!1,J={dialogTitle:"",dialogImageUrl:"",dialogUrl:"",logo:""},Q="",tt="";const{startVoiceInput:et,sendVinsRequest:it,selectSuggest:nt,cancel:rt,aliceBus:st}=F,{isStandaloneBuild:ot,isYabroBuild:at}=(0,M.Mn)();(null==I?void 0:I.id)&&!s.MV.includes(null==I?void 0:I.id)&&(U="started",W=!1),(0,k.H3)((()=>{a&&$&&lt($,!1,!0),st.on("directive",ct),st.on("error",dt),st.on("listeningend",ft),st.on("status",ht),st.on("recognition",pt),st.on("vins",ut),F.start(),n(6,R=F.getStatus()),I?O(I,L,F,{isStandaloneBuild:ot}):(E||w)&&mt(S),y.emit("stat",{path:`${wy}`,eventType:"show"})})),(0,k.ev)((()=>{st.off("directive",ct),st.off("error",dt),st.off("status",ht),st.off("listeningend",ft),st.off("recognition",pt),st.off("vins",ut),a.closeChat()}));const lt=(t,e,i)=>{if("end"===U)return;const r=[{id:"0",type:"text",text:t.trim()}];e?a.updateLastMessage({bubbles:r},"replace"):a.addMessage({bubbles:r,isUserAuthor:!0,isPhraseOnDialogOpen:i,id:(0,c.O1)(),suggests:[]}),n(13,Z=!1),n(8,U="started"),K=!1},ct=(t,e,i)=>{var r,o,l,d;switch(t){case"type":case"type_silent":"onHandle"===e&&lt(i.text);break;case"print_text_in_message_view":"onHandle"===e&&(i.text&&((t,e,i)=>{if("end"===U)return;const n=[{id:String(0),type:"text",text:t.trim()}];i?a.updateLastMessage({bubbles:n},"replace"):a.addMessage({requestId:tt,bubbles:n,isWelcomeMessage:W,id:(0,c.O1)(),suggests:[]}),W=!1})(i.text,0,!i.isNewMessage),n(34,V="end"===i.status?void 0:i.status),n(13,Z="end"===i.status));break;case"open_dialog_directive":n(8,U="skill_opened");const{dialog_id:t}=i;s.MV.includes(t)?n(15,Q="YandexGPT 2"):s.gu.includes(t)&&Mh(f,y);let p=`${j.Wz}.${t}`;if(s.MV.includes(t)&&(p="alice.defaultChat"),!h.allChats.hasOwnProperty(t)){const e={type:"ls",localStorageKey:p,maxMessagesInLS:50,isDialog:!0,isStandaloneBuild:ot};L.createChat(e,{id:t})}L.setActiveChatId(t);break;case"update_dialog_info":"onHandle"===e&&n(14,J={dialogTitle:null!=(r=i.title)?r:"",dialogImageUrl:null!=(o=i.image_url)?o:"",dialogUrl:null!=(l=i.url)?l:"",logo:null!=(d=i.style.oknyx_logo)?d:""});break;case"end_dialog_session":"onHandle"===e&&(null==m||m());break;case"open_uri":if("onHandle"===e){if(y.emit("stat",{path:"redirect_to_url",eventType:"click",customParams:{url:i.uri}}),v)return v({url:i.uri});window.location.href=i.uri}}},dt=t=>y.emit("errorThrown",t),ht=t=>n(6,R=t),pt=t=>{var e;const i=null==(e=t.recognition)?void 0:e.text;i&&(lt(i,X),X=!0)},ut=t=>{var e,i;if("not_started"===U)return;V||n(13,Z=!0);const r=t.response.response||{},{cards:l,suggest:h,directives:p,templates:u,palette:f}=r;n(11,q=null!=(e=null==h?void 0:h.items)?e:[]);const{dialogId:m}=t;n(10,H=Boolean(m&&s.lA.includes(m))),tt=(null==(i=t.response.header)?void 0:i.request_id)||"";const g=(0,o.CT)(d.messages);if((null==g?void 0:g.isUserAuthor)&&!g.requestId&&a.updateLastMessage({requestId:tt},"merge"),(null==p?void 0:p.find((t=>"end_dialog_session"===t.name)))&&(n(8,U="end"),W&&K&&T&&D))return void D();const y=[];(null==l?void 0:l.length)&&("skill_opened"===U&&n(8,U=$?"started":"welcome_message"),l.forEach((t=>{switch(t.type){case"simple_text":y.push({id:(0,c.O1)(),type:"text",text:t.text});break;case"rich_json_card":const e=JSON.parse(t.string_body);y.push({id:(0,c.O1)(),type:"richJson",richJson:e,hideBorders:t.hide_borders});break;case"div2_card":y.push({id:(0,c.O1)(),type:"divJson",hideBorders:!t.has_borders,divJson:{card:t.body.states?t.body:t.body.card,templates:u||t.body.templates,palette:f}})}})),y.length&&a.addMessage({requestId:tt,bubbles:y,isWelcomeMessage:W,id:(0,c.O1)(),suggests:[]}),W=!1)},ft=()=>{X=!1},mt=(t="")=>{const e=t;return it({name:"@@mm_semantic_frame",type:i.KitUniproxyDirectiveEventType.server_action,payload:{typed_semantic_frame:{external_skill_fixed_activate_semantic_frame:{fixed_skill_id:{string_value:"b7c42cab-db61-46ba-871a-b10a6ecf3e0d"},activation_command:{string_value:e}}},analytics:{product_scenario:"dialogovo",origin:"Scenario",purpose:"skill_activate"}}},{voiceSession:!1})};return t.$$set=t=>{"theme"in t&&n(0,u=t.theme),"isMobile"in t&&n(24,f=t.isMobile),"onClose"in t&&n(1,m=t.onClose),"shouldFocusInput"in t&&n(2,g=t.shouldFocusInput),"outputBus"in t&&n(3,y=t.outputBus),"overrideOpenUriDirective"in t&&n(25,v=t.overrideOpenUriDirective),"isTablet"in t&&n(4,b=t.isTablet),"permission"in t&&n(5,_=t.permission),"startPhrase"in t&&n(26,w=t.startPhrase),"requestMicPermission"in t&&n(27,C=t.requestMicPermission),"shouldOpenYaGpt"in t&&n(28,E=t.shouldOpenYaGpt),"yaGptOpenPhrase"in t&&n(29,S=t.yaGptOpenPhrase),"dialogOpenedWithPhrase"in t&&n(30,$=t.dialogOpenedWithPhrase),"deeplink"in t&&n(31,I=t.deeplink),"onImmediateClose"in t&&n(32,D=t.onImmediateClose),"shouldImmediateClose"in t&&n(33,T=t.shouldImmediateClose)},t.$$.update=()=>{128&t.$$.dirty[1]&&(n(7,a=h.currentChat),p(),p=(0,x.LdU)(a,(t=>n(45,d=t)))),32&t.$$.dirty[0]&&n(37,l="granted"===_),64&t.$$.dirty[1]&&st.emit("changeMicPermission",l),96&t.$$.dirty[0]|32&t.$$.dirty[1]&&(("prompt"===z||"unknown"===z)&&R===r.U.SUSPENDED&&F.checkPermissionAndStartVoiceInput(),n(36,z=_)),128&t.$$.dirty[0]|8&t.$$.dirty[1]&&a.setOutputStatus(V),8&t.$$.dirty[0]|16&t.$$.dirty[1]&&(Y||(A(y).then((t=>{n(9,B=t)}),(()=>{y.emit("errorThrown",Error("failed to load markdown bundle"))})),n(35,Y=!0)))},[u,m,g,y,b,_,R,a,U,B,H,q,G,Z,J,Q,N,P,L,at,t=>{rt(),lt(t),it({type:i.KitUniproxyDirectiveEventType.text_input,text:t},{voiceSession:!1}),y.emit("stat",{path:`${wy}.keyboard_question`,eventType:"click",customParams:{value:t}})},()=>{R===r.U.LISTENING&&rt()},()=>{switch(R){case r.U.LISTENING:rt(),y.emit("stat",{path:`${wy}.oknyx_while_listening`,eventType:"click"});break;case r.U.SUSPENDED:if("nomic"===_)return;if("unknown"===_&&C(),!l)return void n(12,G=!0);et(),y.emit("stat",{path:`${wy}.oknyx_while_suspended`,eventType:"click"});break;case r.U.THINKING:default:rt()}},(t,e)=>{y.emit("stat",{path:`${wy}.suggest.${e}`,eventType:"click",customParams:{title:t.title||""}}),nt(t)},f,v,w,C,E,S,$,I,D,T,V,Y,z,l,h,()=>{n(12,G=!1),y.emit("stat",{path:"fullscreen.denied_notifier_closed",eventType:"click"})},function(t){x.VnY[t?"unshift":"push"]((()=>{N=t,n(16,N)}))}]}class Ey extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Cy,xy,x.N8,{theme:0,isMobile:24,onClose:1,shouldFocusInput:2,outputBus:3,overrideOpenUriDirective:25,isTablet:4,permission:5,startPhrase:26,requestMicPermission:27,shouldOpenYaGpt:28,yaGptOpenPhrase:29,dialogOpenedWithPhrase:30,deeplink:31,onImmediateClose:32,shouldImmediateClose:33},gy,[-1,-1,-1])}}const Sy=Ey,$y="/alisa_davay_pridumaem";var My=__webpack_require__(5318);const Iy=t=>{if(["https://ya.ru","https://yandex.ru"].includes(window.location.origin))return{setLetsImagineScreenUrl:()=>{My.m.setUrl({url:`${window.location.origin}${$y}`})},setPreviousUrl:()=>{window.history.back()}};t.emit("stat",{path:"fullscreen_redirection_fail",eventType:"tech",customParams:{origin:window.location.origin}})},{document:Dy}=x.lig;function Ty(t){(0,x.qOq)(t,"svelte-562006",".alice-microphone-request__paranja.svelte-562006{position:fixed;background:rgba(251, 251, 251, 0.6);top:0;bottom:0;left:0;right:0;z-index:var(--z-index)}.alice-microphone-request__paranja_theme_dark.svelte-562006{opacity:0.5;background-color:#161617}html.is-locked, html.is-locked body{height:calc(var(--window-inner-height) - 1px);overflow:hidden;box-sizing:border-box}")}function Py(t){let e,i,n,r;const s=[jy,Ay],o=[];function a(t,e){return t[12]?0:1}return e=a(t),i=o[e]=s[e](t),{c(){i.c(),n=(0,x.cSb)()},l(t){i.l(t),n=(0,x.cSb)()},m(t,i){o[e].m(t,i),(0,x.ZMF)(t,n,i),r=!0},p(t,r){let l=e;e=a(t),e===l?o[e].p(t,r):((0,x.dvw)(),(0,x.etI)(o[l],1,1,(()=>{o[l]=null})),(0,x.gbL)(),i=o[e],i?i.p(t,r):(i=o[e]=s[e](t),i.c()),(0,x.Ui)(i,1),i.m(n.parentNode,n))},i(t){r||((0,x.Ui)(i),r=!0)},o(t){(0,x.etI)(i),r=!1},d(t){t&&(0,x.ogt)(n),o[e].d(t)}}}function Ay(t){let e,i;return e=new uy({props:{ariaLabelledby:Gy,hideApp:t[27],theme:t[3],isTablet:t[4],$$slots:{default:[By]},$$scope:{ctx:t}}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};8&i[0]&&(n.theme=t[3]),16&i[0]&&(n.isTablet=t[4]),59390&i[0]|256&i[1]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function jy(t){let e,i;return e=new $({props:{target:"body",$$slots:{default:[Vy]},$$scope:{ctx:t}}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};99262&i[0]|256&i[1]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Ly(t){let e,i;return e=new ry({props:{outputBus:t[1],theme:t[3]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};2&i[0]&&(n.outputBus=t[1]),8&i[0]&&(n.theme=t[3]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function Oy(t){let e,i,n=t[13]&&Ly(t);return{c(){e=(0,x.bGB)("div"),n&&n.c(),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{slot:!0});var i=(0,x.pIy)(e);n&&n.l(i),i.forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"slot","promo")},m(t,r){(0,x.ZMF)(t,e,r),n&&n.m(e,null),i=!0},p(t,i){t[13]?n?(n.p(t,i),8192&i[0]&&(0,x.Ui)(n,1)):(n=Ly(t),n.c(),(0,x.Ui)(n,1),n.m(e,null)):n&&((0,x.dvw)(),(0,x.etI)(n,1,1,(()=>{n=null})),(0,x.gbL)())},i(t){i||((0,x.Ui)(n),i=!0)},o(t){(0,x.etI)(n),i=!1},d(t){t&&(0,x.ogt)(e),n&&n.d()}}}function Fy(t){let e,i;return e=new Kg({props:{setIsLetsImagineDialog:t[23],shouldPromoShow:t[13],onPromoShowChange:t[21],outputBus:t[1],theme:t[3],overrideOpenUriDirective:t[2],onHorizontalMoveChange:t[20],shouldShowShortcuts:t[14],setShortcutsVisibility:t[22],permission:t[15],shouldFocusInput:!t[4],hasKeyboardInput:!0,startPhrase:t[5],preventListenOnStart:t[6],requestMicPermission:t[26],isTablet:t[4],openFullscreen:t[24],shouldOpenYaGpt:t[7],yaGptOpenPhrase:t[8],deeplink:t[9],hideApp:t[27],closeOnDialogDispose:t[10],$$slots:{promo:[Oy]},$$scope:{ctx:t}}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};8192&i[0]&&(n.shouldPromoShow=t[13]),2&i[0]&&(n.outputBus=t[1]),8&i[0]&&(n.theme=t[3]),4&i[0]&&(n.overrideOpenUriDirective=t[2]),16384&i[0]&&(n.shouldShowShortcuts=t[14]),32768&i[0]&&(n.permission=t[15]),16&i[0]&&(n.shouldFocusInput=!t[4]),32&i[0]&&(n.startPhrase=t[5]),64&i[0]&&(n.preventListenOnStart=t[6]),16&i[0]&&(n.isTablet=t[4]),128&i[0]&&(n.shouldOpenYaGpt=t[7]),256&i[0]&&(n.yaGptOpenPhrase=t[8]),512&i[0]&&(n.deeplink=t[9]),1024&i[0]&&(n.closeOnDialogDispose=t[10]),8202&i[0]|256&i[1]&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function By(t){let e,i,n,r,s,o,a,l,c,d="#alice-dialog-title {\n                    opacity: 0;\n                    height: 0;\n                }";return l=new Bm({props:{theme:t[3],$$slots:{default:[Fy]},$$scope:{ctx:t}}}),{c(){e=(0,x.bGB)("div"),i=(0,x.fLW)("Алиса"),s=(0,x.DhX)(),o=(0,x.bGB)("style"),o.textContent=d,a=(0,x.DhX)(),(0,x.YCL)(l.$$.fragment),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{tabindex:!0,id:!0,"aria-hidden":!0});var n=(0,x.pIy)(e);i=(0,x.Bno)(n,"Алиса"),n.forEach(x.ogt),s=(0,x.qzd)(t),o=(0,x.vT0)(t,"STYLE",{"data-svelte-h":!0}),"svelte-1e3if2b"!==(0,x.nSQ)(o)&&(o.textContent=d),a=(0,x.qzd)(t),(0,x.wOw)(l.$$.fragment,t),this.h()},h(){(0,x.Ljt)(e,"tabindex","-1"),(0,x.Ljt)(e,"id",Gy),e.inert=n=!0,(0,x.Ljt)(e,"aria-hidden",r=!0)},m(t,n){(0,x.ZMF)(t,e,n),(0,x.ztY)(e,i),(0,x.ZMF)(t,s,n),(0,x.ZMF)(t,o,n),(0,x.ZMF)(t,a,n),(0,x.yef)(l,t,n),c=!0},p(t,e){const i={};8&e[0]&&(i.theme=t[3]),59390&e[0]|256&e[1]&&(i.$$scope={dirty:e,ctx:t}),l.$set(i)},i(t){c||((0,x.Ui)(l.$$.fragment,t),c=!0)},o(t){(0,x.etI)(l.$$.fragment,t),c=!1},d(t){t&&((0,x.ogt)(e),(0,x.ogt)(s),(0,x.ogt)(o),(0,x.ogt)(a)),(0,x.vpE)(l,t)}}}function Vy(t){let e,i;return e=new Sy({props:{theme:t[3],onClose:t[25],shouldFocusInput:!t[4],overrideOpenUriDirective:t[2],outputBus:t[1],isTablet:t[4],permission:t[15],startPhrase:t[5],requestMicPermission:t[26],dialogOpenedWithPhrase:t[16],shouldOpenYaGpt:t[7],yaGptOpenPhrase:t[8],deeplink:t[9]}}),{c(){(0,x.YCL)(e.$$.fragment)},l(t){(0,x.wOw)(e.$$.fragment,t)},m(t,n){(0,x.yef)(e,t,n),i=!0},p(t,i){const n={};8&i[0]&&(n.theme=t[3]),16&i[0]&&(n.shouldFocusInput=!t[4]),4&i[0]&&(n.overrideOpenUriDirective=t[2]),2&i[0]&&(n.outputBus=t[1]),16&i[0]&&(n.isTablet=t[4]),32768&i[0]&&(n.permission=t[15]),32&i[0]&&(n.startPhrase=t[5]),65536&i[0]&&(n.dialogOpenedWithPhrase=t[16]),128&i[0]&&(n.shouldOpenYaGpt=t[7]),256&i[0]&&(n.yaGptOpenPhrase=t[8]),512&i[0]&&(n.deeplink=t[9]),e.$set(n)},i(t){i||((0,x.Ui)(e.$$.fragment,t),i=!0)},o(t){(0,x.etI)(e.$$.fragment,t),i=!1},d(t){(0,x.vpE)(e,t)}}}function zy(t){let e,i;return{c(){e=(0,x.bGB)("div"),this.h()},l(t){e=(0,x.vT0)(t,"DIV",{class:!0,style:!0}),(0,x.pIy)(e).forEach(x.ogt),this.h()},h(){(0,x.Ljt)(e,"class",i=(0,x.H1I)(`alice-microphone-request__paranja alice-microphone-request__paranja_theme_${t[3]}`)+" svelte-562006"),(0,x.czc)(e,"--z-index",t[17])},m(t,i){(0,x.ZMF)(t,e,i)},p(t,n){8&n[0]&&i!==(i=(0,x.H1I)(`alice-microphone-request__paranja alice-microphone-request__paranja_theme_${t[3]}`)+" svelte-562006")&&(0,x.Ljt)(e,"class",i)},d(t){t&&(0,x.ogt)(e)}}}function Ny(t){let e,i,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Hy,then:Uy,catch:Ry,value:38,blocks:[,,,]};return(0,x.CR_)(i=__webpack_require__.e(940).then(__webpack_require__.bind(__webpack_require__,6940)),r),{c(){e=(0,x.cSb)(),r.block.c()},l(t){e=(0,x.cSb)(),r.block.l(t)},m(t,i){(0,x.ZMF)(t,e,i),r.block.m(t,r.anchor=i),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(e,i){t=e,(0,x.xfz)(r,t,i)},i(t){n||((0,x.Ui)(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1){const e=r.blocks[t];(0,x.etI)(e)}n=!1},d(t){t&&(0,x.ogt)(e),r.block.d(t),r.token=null,r=null}}}function Ry(t){return{c:x.ZTd,l:x.ZTd,m:x.ZTd,p:x.ZTd,i:x.ZTd,o:x.ZTd,d:x.ZTd}}function Uy(t){let e,i,n;var r=t[38].default;function s(t,e){return{props:{theme:t[3]}}}return r&&(e=(0,x.vV4)(r,s(t))),{c(){e&&(0,x.YCL)(e.$$.fragment),i=(0,x.cSb)()},l(t){e&&(0,x.wOw)(e.$$.fragment,t),i=(0,x.cSb)()},m(t,r){e&&(0,x.yef)(e,t,r),(0,x.ZMF)(t,i,r),n=!0},p(t,n){if(r!==(r=t[38].default)){if(e){(0,x.dvw)();const t=e;(0,x.etI)(t.$$.fragment,1,0,(()=>{(0,x.vpE)(t,1)})),(0,x.gbL)()}r?(e=(0,x.vV4)(r,s(t)),(0,x.YCL)(e.$$.fragment),(0,x.Ui)(e.$$.fragment,1),(0,x.yef)(e,i.parentNode,i)):e=null}else if(r){const i={};8&n[0]&&(i.theme=t[3]),e.$set(i)}},i(t){n||(e&&(0,x.Ui)(e.$$.fragment,t),n=!0)},o(t){e&&(0,x.etI)(e.$$.fragment,t),n=!1},d(t){t&&(0,x.ogt)(i),e&&(0,x.vpE)(e,t)}}}function Hy(t){return{c:x.ZTd,l:x.ZTd,m:x.ZTd,p:x.ZTd,i:x.ZTd,o:x.ZTd,d:x.ZTd}}function qy(t){let e,i,n,r,s,o,a,l=!t[0]&&Py(t),c=!t[0]&&"prompt"===t[15]&&!t[19]&&zy(t),d=t[19]&&t[11].isStaff&&Ny(t);return{c(){e=(0,x.DhX)(),l&&l.c(),i=(0,x.DhX)(),c&&c.c(),n=(0,x.DhX)(),d&&d.c(),r=(0,x.cSb)()},l(t){e=(0,x.qzd)(t),l&&l.l(t),i=(0,x.qzd)(t),c&&c.l(t),n=(0,x.qzd)(t),d&&d.l(t),r=(0,x.cSb)()},m(h,p){(0,x.ZMF)(h,e,p),l&&l.m(h,p),(0,x.ZMF)(h,i,p),c&&c.m(h,p),(0,x.ZMF)(h,n,p),d&&d.m(h,p),(0,x.ZMF)(h,r,p),s=!0,o||(a=(0,x.oLt)(Dy.body,"click",t[33]),o=!0)},p(t,e){t[0]?l&&((0,x.dvw)(),(0,x.etI)(l,1,1,(()=>{l=null})),(0,x.gbL)()):l?(l.p(t,e),1&e[0]&&(0,x.Ui)(l,1)):(l=Py(t),l.c(),(0,x.Ui)(l,1),l.m(i.parentNode,i)),t[0]||"prompt"!==t[15]||t[19]?c&&(c.d(1),c=null):c?c.p(t,e):(c=zy(t),c.c(),c.m(n.parentNode,n)),t[19]&&t[11].isStaff?d?(d.p(t,e),2048&e[0]&&(0,x.Ui)(d,1)):(d=Ny(t),d.c(),(0,x.Ui)(d,1),d.m(r.parentNode,r)):d&&((0,x.dvw)(),(0,x.etI)(d,1,1,(()=>{d=null})),(0,x.gbL)())},i(t){s||((0,x.Ui)(l),(0,x.Ui)(d),s=!0)},o(t){(0,x.etI)(l),(0,x.etI)(d),s=!1},d(t){t&&((0,x.ogt)(e),(0,x.ogt)(i),(0,x.ogt)(n),(0,x.ogt)(r)),l&&l.d(t),c&&c.d(t),d&&d.d(t),o=!1,a()}}}let Gy="alice-dialog-title";function Zy(t,e,i){let n,r,{hidden:s}=e,{outputBus:o}=e,{overrideOpenUriDirective:a}=e,{theme:l}=e,{isTablet:c=!1}=e,{startPhrase:d}=e,{preventListenOnStart:h=!1}=e,{elementFocusOnClose:p}=e,{shouldOpenYaGpt:u}=e,{yaGptOpenPhrase:f}=e,{deeplink:m}=e,{closeOnDialogDispose:g}=e,{userData:y}=e;const{baseZIndex:v,isAliceFullscreenRedirectExp:b,aliceKit:_,allChatsStore:x,modalStore:w,isYabroBuild:C,inputStore:E}=(0,k.fw)(M.f1);let S,$,I=!1,P=!0,A="unknown",j=!1,L=!1;const O=t=>{i(14,P=t)};return b&&($=Iy(o)),(0,k.ev)((()=>{_.cancel(!1)})),t.$$set=t=>{"hidden"in t&&i(0,s=t.hidden),"outputBus"in t&&i(1,o=t.outputBus),"overrideOpenUriDirective"in t&&i(2,a=t.overrideOpenUriDirective),"theme"in t&&i(3,l=t.theme),"isTablet"in t&&i(4,c=t.isTablet),"startPhrase"in t&&i(5,d=t.startPhrase),"preventListenOnStart"in t&&i(6,h=t.preventListenOnStart),"elementFocusOnClose"in t&&i(28,p=t.elementFocusOnClose),"shouldOpenYaGpt"in t&&i(7,u=t.shouldOpenYaGpt),"yaGptOpenPhrase"in t&&i(8,f=t.yaGptOpenPhrase),"deeplink"in t&&i(9,m=t.deeplink),"closeOnDialogDispose"in t&&i(10,g=t.closeOnDialogDispose),"userData"in t&&i(11,y=t.userData)},t.$$.update=()=>{672&t.$$.dirty[0]&&i(32,n=d||u||"skill"===(null==m?void 0:m.type)&&(null==m?void 0:m.id)),536870912&t.$$.dirty[0]|2&t.$$.dirty[1]&&i(12,r=(j||n)&&!C),1073745921&t.$$.dirty[0]|1&t.$$.dirty[1]&&$&&r&&(!s&&document.location.pathname!==$y&&L?$.setLetsImagineScreenUrl():s&&document.location.pathname===$y&&$.setPreviousUrl()),268435459&t.$$.dirty[0]&&s&&(o.emit("popupHidden"),o.emit("stat",{path:"curtain_close",eventType:"click"}),i(13,I=!1),i(14,P=!0),null==p||p.focus(),E.setText(""),_.cancel(!1),_.setDialogId(null),_.setPrevRequestId(void 0))},[s,o,a,l,c,d,h,u,f,m,g,y,r,I,P,A,S,v,w,C,()=>{},t=>{i(13,I=t)},O,t=>{i(31,L=t)},t=>{i(29,j=!0),i(16,S=t)},()=>{o.emit("stat",{path:"fullscreen.close",eventType:"click"}),_.cancel(!1),x.setActiveChatId(""),O(!0),i(29,j=!1),i(16,S=void 0),n&&i(0,s=!0)},()=>{T().then((t=>{i(15,A=t),"prompt"===t&&(o.emit("stat",{path:"mic_permission_prompt",eventType:"show"}),D().then((function(t){i(15,A=t),"granted"===t?o.emit("stat",{path:"mic_permission_granted",eventType:"click"}):o.emit("stat",{path:"mic_permission_denied",eventType:"click"})})))}))},()=>{i(0,s=!0)},p,j,$,L,n,()=>w.close()]}class Yy extends x.f_C{constructor(t){super(),(0,x.S1n)(this,t,Zy,qy,x.N8,{hidden:0,outputBus:1,overrideOpenUriDirective:2,theme:3,isTablet:4,startPhrase:5,preventListenOnStart:6,elementFocusOnClose:28,shouldOpenYaGpt:7,yaGptOpenPhrase:8,deeplink:9,closeOnDialogDispose:10,userData:11},Ty,[-1,-1])}}const Wy=Yy,Ky=(0,M.JC)(Wy,(({topDomain:n,uniproxyUrl:c,vinsUrl:h,arpcUrl:m,locationData:x,appId:k,location:w,yandexuid:C,os:E,isSafari:S,isFullscreenExp:$,isYabroBuild:M,isStandaloneBuild:I,experiments:D,supportedFeatures:T,unsupportedFeatures:P,outputBus:A,aliceButterflyStores:j,rumCounters:L})=>{let O;_.on("changeMicPermission",(t=>O=t));const F=t=>_.emit("error",t);(0,t.setEventEmittersErrorHandler)(F);const B=(t=>t.padStart(32,"0"))(C),V="ios"===E?"iphone":E,z=new t.CustomDirectiveHandler({name:"type",handleDirective:(t,e)=>{var n,r;(null==(n=t.payload)?void 0:n.text)&&(ct({type:i.KitUniproxyDirectiveEventType.suggested_input,text:t.payload.text},{voiceSession:null==(r=null==e?void 0:e.request)?void 0:r.voiceSession}),_.emit("directive","type","onHandle",t.payload))}}),N=new t.CustomDirectiveHandler({name:"fill_chat_input_directive",handleDirective:t=>{var e;(null==(e=t.payload)?void 0:e.text)&&_.emit("directive","fill_chat_input_directive","onHandle",t.payload)}}),R=new t.CustomDirectiveHandler({name:"type_silent",handleDirective:t=>{var e;(null==(e=t.payload)?void 0:e.text)&&_.emit("directive","type_silent","onHandle",t.payload)}}),U=new t.OpenUriDirectiveHandler({delay:2e3,skip:t=>_.emit("directive","open_uri","skip",t.payload),onHandle:(t,e)=>_.emit("directive","open_uri","onHandle",t.payload,e),beforeHandle:t=>_.emit("directive","open_uri","beforeHandle",t.payload)}),H=new t.CustomDirectiveHandler({name:"fill_cloud_ui",handleDirective:t=>_.emit("directive","fill_cloud_ui","onHandle",t.payload)}),q=new t.CustomDirectiveHandler({name:"show_promo",handleDirective:t=>_.emit("directive","show_promo","onHandle",t.payload)}),G=new t.CustomDirectiveHandler({name:"show_view",handleDirective:t=>_.emit("directive","show_view","onHandle",t.payload)}),Z=new t.CustomDirectiveHandler({name:"update_dialog_info",handleDirective:t=>_.emit("directive","update_dialog_info","onHandle",t.payload)}),Y=new p({getDelay:()=>I?0:3e3,onHandle:t=>_.emit("directive","end_dialog_session","onHandle",t.payload),beforeHandle:t=>_.emit("directive","end_dialog_session","beforeHandle",t.payload),setDialogId:t=>!I&&e().setDialogId(t)}),W=new u({getDelay:t=>s.lA.includes(t.payload.dialog_id)&&$?0:2e3,beforeHandle:t=>_.emit("directive","open_dialog_directive","beforeHandle",t.payload),onHandle:t=>_.emit("directive","open_dialog_directive","onHandle",t.payload),setDialogId:t=>!I&&e().setDialogId(t),executeDirectives:(t,i)=>e().executeDirectives(t,i),getState:()=>e().state}),K=new d({onHandle:t=>_.emit("directive","print_text_in_message_view","onHandle",t)}),X=new t.PrintTextInMessageViewDirectiveHandler({onHandle:t=>{t.payload&&K.onHandle({payload:t.payload})},onCancel:K.onCancel}),J=new t.CustomDirectiveHandler({name:"show_alice_pro_banner",handleDirective(t){_.emit("directive","show_alice_pro_banner","onHandle",t.payload)}}),Q=new f({onHandle:t=>_.emit("directive","show_loader","onHandle",t),onCancel:t=>_.emit("directive","show_loader","onCancel",t)}),tt=M&&(0,t.isWinYabro)(k,V),[et,it]=[1e3,1e4],nt=tt&&t.SystemCommandDirectiveHandler.isAvailable()?[new t.SystemCommandDirectiveHandler({name:"hibernate",delay:it}),new t.SystemCommandDirectiveHandler({name:"power_off",delay:it}),new t.SystemCommandDirectiveHandler({name:"restart_pc",delay:it}),new t.SystemCommandDirectiveHandler({name:"navigate_browser",delay:et}),new t.SystemCommandDirectiveHandler({name:"open_soft",delay:et})]:[],rt=M?[new t.CustomDirectiveHandler({name:"paste_text_in_field",handleDirective:({payload:t})=>{var e,i,n;t&&(null==(n=null==(i=null==(e=window.yandex)?void 0:e.overlayView)?void 0:i.autofillTextGenerated)||n.call(i,t.value))}})]:[],st=new t.CustomDirectiveHandler({name:"close_alice",handleDirective:()=>{M?setTimeout((()=>{var t,e;return null==(e=null==(t=window.yandex)?void 0:t.messenger)?void 0:e.hideView()}),0):_.emit("directive","close_alice","onHandle")}}),ot=(()=>{let t;return()=>{const e=Date.now(),i=t?e-t:void 0;return t=e,i}})(),at=t=>{const i=ot();e().status!==r.U.SUSPENDED?A.emit("errorThrown",new Error(`startVoiceInput call on status: ${e().status}`),"warn"):i&&i<300&&A.emit("errorThrown",new Error("startVoiceInput call with tiny timeDiff"),"warn"),e().startVoiceInput(t),_.emit("listeningrequest")},lt=t=>{O&&!document.hidden&&e().status===r.U.SUSPENDED&&at(t)},ct=(t,i,n)=>e().sendVinsRequest(t,i,n);e().on("status",(t=>{(t=>{_.emit("status",t)})(t),t===r.U.SUSPENDED&&e().state.shouldListen&&lt()})),e().on("cancel",(()=>_.emit("cancel"))),e().on("error",(t=>A.emit("errorThrown",t,"error"))),e().on("warning",(t=>A.emit("stat",{eventType:"tech",path:"alicekit_warning",customParams:{name:t.name,message:t.message}}))),e().on("speechstart",(t=>_.emit("speechstart",t))),e().on("speechend",(t=>_.emit("speechend",t))),e().on("speecherror",(t=>F(t.error))),e().on("vins",(t=>_.emit("vins",t))),e().on("vinsstream",(t=>_.emit("vinsstream",t))),e().on("vinserror",(t=>_.emit("error",t.error))),e().on("listeningstart",(t=>_.emit("listeningstart",t))),e().on("listeningend",(t=>_.emit("listeningend",t))),e().on("listeningerror",(t=>F(t.error))),e().on("arpc-request-end",(({name:t,url:e})=>L.sendResTiming(t,e))),e().on("arpc-request-error",(({name:t,url:e})=>L.sendResTiming(t,e))),e().on("arpc-request-error",(t=>_.emit("error",t.error))),e().on("arpc-request-fatal-error",(t=>_.emit("error",t.error))),e().on("recognition",(t=>{_.emit("recognition",t),t.recognition.finished&&t.recognition.text&&(A.emit("stat",{eventType:"tech",path:"recognition",customParams:{title:t.recognition.text}}),A.emit("stat",{eventType:"show",path:"request.voice",customParams:{title:t.recognition.text}}))})),j.setButterflyUUID(B);const dt=j.getButterflyStoresData(),ht=((t,e)=>{let i=t.topDomain||e.hostname.split(".").slice(-2).join(".");return{originDomain:i,uniproxyUrl:t.uniproxyUrl||`wss://uniproxy.alice.${i}/uni.ws`,arpcUrl:t.arpcUrl||`https://rpc.alice.${i}`,vinsUrl:t.vinsUrl}})({topDomain:n,uniproxyUrl:dt.uniProxyUrl||c,vinsUrl:dt.vinsUrl||h,arpcUrl:dt.arpcUrl||m},x),pt=(0,a.h)((()=>{var t,i,n,r;e().init(((t,e)=>{for(var i in e||(e={}))y.call(e,i)&&b(t,i,e[i]);if(g)for(var i of g(e))v.call(e,i)&&b(t,i,e[i]);return t})({originDomain:ht.originDomain,uniproxyUrl:ht.uniproxyUrl,vinsUrl:ht.vinsUrl,apiKey:"effd5a3f-fd42-4a18-83a1-61766a6d0924",appId:k,appVersion:"113",uuid:B,location:w,platform:V,isWebKit:"ios"===E||S,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,directiveHandlers:[z,R,U,H,q,G,W,Z,Y,st,X,J,Q,N,...nt,...rt],experiments:(0,o.V4)(D,dt.experiments),supported_features:(0,o.V4)(T,dt.supportedFeatures),unsupported_features:(0,o.V4)(P,dt.unsupportedFeatures)},dt.testIds.length&&{megamind_cookies:JSON.stringify({uaas_tests:dt.testIds})})),M&&(null==(i=null==(t=window.yandex)?void 0:t.messenger)||i.onVinsTextRequest.addListener(((t,i)=>{(null==i?void 0:i.length)?e().executeDirectives(i):t&&e().executeDirectives([{name:"type",type:"client_action",payload:{text:t}}])})),null==(r=null==(n=window.yandex)?void 0:n.messenger)||r.setWebAppInitialized())})),ut=(0,a.h)((t=>lt(t)));return{config:ht,selectSuggest:t=>{var i,n;const{voiceSession:r}=e().state;if(e().cancel(),!(null==(i=t.directives)?void 0:i.length)&&!t.title)return void A.emit("stat",{eventType:"tech",path:"empty_suggest"});A.emit("stat",{eventType:"show",path:"request.suggest",customParams:{title:t.title||""}});const s=(null==(n=t.directives)?void 0:n.length)?t.directives:[{type:"client_action",name:"type",payload:{text:t.title}}];e().executeDirectives(s,{isUserEvent:!0,request:{voiceSession:r}})},startVoiceInput:at,startVoiceInputOnce:ut,checkPermissionAndStartVoiceInput:lt,sendVinsRequest:ct,getGreetings:t.getGreetings,sendFeedback:t.sendFeedback,synthesize:t=>e().synthesize(t),cancel:e().cancel,destroy:e().destroy,setDialogId:e().setDialogId,setPrevRequestId:e().setPrevRequestId,updateRequestConfig:e().updateRequestConfig,executeDirectives:e().executeDirectives.bind(e()),ttsStop:e().ttsStop,start:pt,loaderStop:Q.stop,aliceBus:_,getStatus:()=>e().status,getState:()=>e().state,getInfo:()=>e().info,onInit:(t,i=!0)=>{var n;return i&&(null==(n=e().info)?void 0:n.isInit)?(t(),l.Z):e().once("init",t)},getChatList:(e=ht.arpcUrl)=>(0,t.getChatList)(e),getTrialState:(e=ht.arpcUrl)=>(0,t.getTrialState)(e),getChatHistory:(e,i,n,r,s=ht.arpcUrl)=>(0,t.getChatHistory)(e,i,n,r,s),removeChat:(e,i=ht.arpcUrl)=>(0,t.removeChat)(e,i),removeChatMessages:(e,i,n,r=ht.arpcUrl)=>(0,t.removeChatMessages)(e,i,n,r),createChatWithMessages:(e,i,n=ht.arpcUrl)=>(0,t.createChatWithMessages)(e,i,n)}}),{experiments:s.Yj,supportedFeatures:s.ze,unsupportedFeatures:[],isLib:!0,isDesktop:!0,isMobile:!1,isStandaloneBuild:!1,isYabroBuild:!1});var Xy=Ky})(),window.AliceForWeb=__webpack_exports__})();